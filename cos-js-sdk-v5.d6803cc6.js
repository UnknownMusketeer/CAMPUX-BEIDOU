import{e as getDefaultExportFromCjs}from"./QAvatar.228b257b.js";window.CESIUM_BASE_URL="/cesium/";function _mergeNamespaces(v,S){for(var i=0;i<S.length;i++){const g=S[i];if(typeof g!="string"&&!Array.isArray(g)){for(const n in g)if(n!=="default"&&!(n in v)){const Y=Object.getOwnPropertyDescriptor(g,n);Y&&Object.defineProperty(v,n,Y.get?Y:{enumerable:!0,get:()=>g[n]})}}}return Object.freeze(Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}))}var cosJsSdkV5$1={exports:{}};(function(module,exports){(function(S,i){module.exports=i()})(window,function(){return function(v){var S={};function i(g){if(S[g])return S[g].exports;var n=S[g]={i:g,l:!1,exports:{}};return v[g].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=v,i.c=S,i.d=function(g,n,Y){i.o(g,n)||Object.defineProperty(g,n,{enumerable:!0,get:Y})},i.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},i.t=function(g,n){if(n&1&&(g=i(g)),n&8||n&4&&typeof g=="object"&&g&&g.__esModule)return g;var Y=Object.create(null);if(i.r(Y),Object.defineProperty(Y,"default",{enumerable:!0,value:g}),n&2&&typeof g!="string")for(var R in g)i.d(Y,R,function(K){return g[K]}.bind(null,R));return Y},i.n=function(g){var n=g&&g.__esModule?function(){return g.default}:function(){return g};return i.d(n,"a",n),n},i.o=function(g,n){return Object.prototype.hasOwnProperty.call(g,n)},i.p="/dist/",i(i.s="./index.js")}({"./index.js":function(v,S,i){var g=i("./src/cos.js");v.exports=g},"./lib/beacon.min.js":function(v,S,i){(function(g){var n,Y,R=i("./node_modules/@babel/runtime/helpers/typeof.js");(function(K,ee){R(S)=="object"&&typeof v<"u"?v.exports=ee():(n=ee,Y=typeof n=="function"?n.call(S,i,S,v):n,Y!==void 0&&(v.exports=Y))})(this,function(){var K=function(u,h){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var B in p)Object.prototype.hasOwnProperty.call(p,B)&&(s[B]=p[B])})(u,h)},ee=function(){return(ee=Object.assign||function(u){for(var h,s=1,p=arguments.length;s<p;s++)for(var B in h=arguments[s])Object.prototype.hasOwnProperty.call(h,B)&&(u[B]=h[B]);return u}).apply(this,arguments)};function N(k,u,h,s){return new(h||(h=Promise))(function(p,B){function P(Ce){try{ne(s.next(Ce))}catch(X){B(X)}}function te(Ce){try{ne(s.throw(Ce))}catch(X){B(X)}}function ne(Ce){var X;Ce.done?p(Ce.value):(X=Ce.value,X instanceof h?X:new h(function(Oe){Oe(X)})).then(P,te)}ne((s=s.apply(k,u||[])).next())})}function A(k,u){var h,s,p,B,P={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return B={next:te(0),throw:te(1),return:te(2)},typeof Symbol=="function"&&(B[Symbol.iterator]=function(){return this}),B;function te(ne){return function(Ce){return function(X){if(h)throw new TypeError("Generator is already executing.");for(;P;)try{if(h=1,s&&(p=2&X[0]?s.return:X[0]?s.throw||((p=s.return)&&p.call(s),0):s.next)&&!(p=p.call(s,X[1])).done)return p;switch(s=0,p&&(X=[2&X[0],p.value]),X[0]){case 0:case 1:p=X;break;case 4:return P.label++,{value:X[1],done:!1};case 5:P.label++,s=X[1],X=[0];continue;case 7:X=P.ops.pop(),P.trys.pop();continue;default:if(p=P.trys,!((p=p.length>0&&p[p.length-1])||X[0]!==6&&X[0]!==2)){P=0;continue}if(X[0]===3&&(!p||X[1]>p[0]&&X[1]<p[3])){P.label=X[1];break}if(X[0]===6&&P.label<p[1]){P.label=p[1],p=X;break}if(p&&P.label<p[2]){P.label=p[2],P.ops.push(X);break}p[2]&&P.ops.pop(),P.trys.pop();continue}X=u.call(k,P)}catch(Oe){X=[6,Oe],s=0}finally{h=p=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([ne,Ce])}}}var j="__BEACON_",Q="__BEACON_deviceId",J="last_report_time",M="sending_event_ids",L="beacon_config",ie="beacon_config_request_time",W=function(){function k(){var u=this;this.emit=function(h,s){if(u){var p,B=u.__EventsList[h];if(B!=null&&B.length){B=B.slice();for(var P=0;P<B.length;P++){p=B[P];try{var te=p.callback.apply(u,[s]);if(p.type===1&&u.remove(h,p.callback),te===!1)break}catch(ne){throw ne}}}return u}},this.__EventsList={}}return k.prototype.indexOf=function(u,h){for(var s=0;s<u.length;s++)if(u[s].callback===h)return s;return-1},k.prototype.on=function(u,h,s){if(s===void 0&&(s=0),this){var p=this.__EventsList[u];if(p||(p=this.__EventsList[u]=[]),this.indexOf(p,h)===-1){var B={name:u,type:s||0,callback:h};return p.push(B),this}return this}},k.prototype.one=function(u,h){this.on(u,h,1)},k.prototype.remove=function(u,h){if(this){var s=this.__EventsList[u];if(!s)return null;if(!h){try{delete this.__EventsList[u]}catch{}return null}if(s.length){var p=this.indexOf(s,h);s.splice(p,1)}return this}},k}();function xe(k,u){for(var h={},s=0,p=Object.keys(k);s<p.length;s++){var B=p[s],P=k[B];if(typeof P=="string")h[U(B)]=U(P);else{if(u)throw new Error("value mast be string  !!!!");h[U(String(B))]=U(String(P))}}return h}function U(k){if(typeof k!="string")return k;try{return k.replace(new RegExp("\\|","g"),"%7C").replace(new RegExp("\\&","g"),"%26").replace(new RegExp("\\=","g"),"%3D").replace(new RegExp("\\+","g"),"%2B")}catch{return""}}function T(k){return String(k.A99)+String(k.A100)}var y=function(){},O=function(){function k(u){var h=this;this.lifeCycle=new W,this.uploadJobQueue=[],this.additionalParams={},this.delayTime=0,this._normalLogPipeline=function(s){if(!s||!s.reduce||!s.length)throw new TypeError("createPipeline \u65B9\u6CD5\u9700\u8981\u4F20\u5165\u81F3\u5C11\u6709\u4E00\u4E2A pipe \u7684\u6570\u7EC4");return s.length===1?function(p,B){s[0](p,B||y)}:s.reduce(function(p,B){return function(P,te){return te===void 0&&(te=y),p(P,function(ne){return B==null?void 0:B(ne,te)})}})}([function(s){h.send({url:h.strategy.getUploadUrl(),data:s,method:"post",contentType:"application/json;charset=UTF-8"},function(){var p=h.config.onReportSuccess;typeof p=="function"&&p(JSON.stringify(s.events))},function(){var p=h.config.onReportFail;typeof p=="function"&&p(JSON.stringify(s.events))})}]),function(s,p){if(!s)throw p instanceof Error?p:new Error(p)}(Boolean(u.appkey),"appkey must be initial"),this.config=ee({},u)}return k.prototype.onUserAction=function(u,h){this.preReport(u,h,!1)},k.prototype.onDirectUserAction=function(u,h){this.preReport(u,h,!0)},k.prototype.preReport=function(u,h,s){u?this.strategy.isEventUpOnOff()&&(this.strategy.isBlackEvent(u)||this.strategy.isSampleEvent(u)||this.onReport(u,h,s)):this.errorReport.reportError("602"," no eventCode")},k.prototype.addAdditionalParams=function(u){for(var h=0,s=Object.keys(u);h<s.length;h++){var p=s[h];this.additionalParams[p]=u[p]}},k.prototype.setChannelId=function(u){this.commonInfo.channelID=String(u)},k.prototype.setOpenId=function(u){this.commonInfo.openid=String(u)},k.prototype.setUnionid=function(u){this.commonInfo.unid=String(u)},k.prototype.getDeviceId=function(){return this.commonInfo.deviceId},k.prototype.getCommonInfo=function(){return this.commonInfo},k.prototype.removeSendingId=function(u){try{var h=JSON.parse(this.storage.getItem(M)),s=h.indexOf(u);s!=-1&&(h.splice(s,1),this.storage.setItem(M,JSON.stringify(h)))}catch{}},k}(),f=function(){function k(u,h,s,p){this.requestParams={},this.network=p,this.requestParams.attaid="00400014144",this.requestParams.token="6478159937",this.requestParams.product_id=u.appkey,this.requestParams.platform=s,this.requestParams.uin=h.deviceId,this.requestParams.model="",this.requestParams.os=s,this.requestParams.app_version=u.appVersion,this.requestParams.sdk_version=h.sdkVersion,this.requestParams.error_stack="",this.uploadUrl=u.isOversea?"https://htrace.wetvinfo.com/kv":"https://h.trace.qq.com/kv"}return k.prototype.reportError=function(u,h){this.requestParams._dc=Math.random(),this.requestParams.error_msg=h,this.requestParams.error_code=u,this.network.get(this.uploadUrl,{params:this.requestParams}).catch(function(s){})},k}(),H=function(){function k(u,h,s,p){this.strategy={isEventUpOnOff:!0,httpsUploadUrl:"https://otheve.beacon.qq.com/analytics/v2_upload",requestInterval:30,blacklist:[],samplelist:[]},this.realSample={},this.appkey="",this.appkey=u.appkey,this.storage=s;try{var B=JSON.parse(this.storage.getItem(L));B&&this.processData(B)}catch{}u.isOversea&&(this.strategy.httpsUploadUrl="https://svibeacon.onezapp.com/analytics/v2_upload"),!u.isOversea&&this.needRequestConfig()&&this.requestConfig(u.appVersion,h,p)}return k.prototype.requestConfig=function(u,h,s){var p=this;this.storage.setItem(ie,Date.now().toString()),s.post("https://oth.str.beacon.qq.com/trpc.beacon.configserver.BeaconConfigService/QueryConfig",{platformId:typeof wx>"u"?"3":"4",mainAppKey:this.appkey,appVersion:u,sdkVersion:h.sdkVersion,osVersion:h.userAgent,model:"",packageName:"",params:{A3:h.deviceId}}).then(function(B){if(B.data.ret==0)try{var P=JSON.parse(B.data.beaconConfig);P&&(p.processData(P),p.storage.setItem(L,B.data.beaconConfig))}catch{}else p.processData(null),p.storage.setItem(L,"")}).catch(function(B){})},k.prototype.processData=function(u){var h,s,p,B,P;this.strategy.isEventUpOnOff=(h=u==null?void 0:u.isEventUpOnOff)!==null&&h!==void 0?h:this.strategy.isEventUpOnOff,this.strategy.httpsUploadUrl=(s=u==null?void 0:u.httpsUploadUrl)!==null&&s!==void 0?s:this.strategy.httpsUploadUrl,this.strategy.requestInterval=(p=u==null?void 0:u.requestInterval)!==null&&p!==void 0?p:this.strategy.requestInterval,this.strategy.blacklist=(B=u==null?void 0:u.blacklist)!==null&&B!==void 0?B:this.strategy.blacklist,this.strategy.samplelist=(P=u==null?void 0:u.samplelist)!==null&&P!==void 0?P:this.strategy.samplelist;for(var te=0,ne=this.strategy.samplelist;te<ne.length;te++){var Ce=ne[te].split(",");Ce.length==2&&(this.realSample[Ce[0]]=Ce[1])}},k.prototype.needRequestConfig=function(){var u=Number(this.storage.getItem(ie));return Date.now()-u>60*this.strategy.requestInterval*1e3},k.prototype.getUploadUrl=function(){return this.strategy.httpsUploadUrl+"?appkey="+this.appkey},k.prototype.isBlackEvent=function(u){return this.strategy.blacklist.indexOf(u)!=-1},k.prototype.isEventUpOnOff=function(){return this.strategy.isEventUpOnOff},k.prototype.isSampleEvent=function(u){return!!Object.prototype.hasOwnProperty.call(this.realSample,u)&&this.realSample[u]<Math.floor(Math.random()*Math.floor(1e4))},k}(),_="session_storage_key",F=function(){function k(u,h,s){this.beacon=s,this.storage=u,this.duration=h,this.appkey=s.config.appkey}return k.prototype.getSession=function(){var u=this.storage.getItem(_);if(!u)return this.createSession();var h="",s=0;try{var p=JSON.parse(u)||{sessionId:void 0,sessionStart:void 0};if(!p.sessionId||!p.sessionStart)return this.createSession();var B=Number(this.storage.getItem(J));if(Date.now()-B>this.duration)return this.createSession();h=p.sessionId,s=p.sessionStart}catch{}return{sessionId:h,sessionStart:s}},k.prototype.createSession=function(){var u=Date.now(),h={sessionId:this.appkey+"_"+u.toString(),sessionStart:u};this.storage.setItem(_,JSON.stringify(h)),this.storage.setItem(J,u.toString());var s="is_new_user",p=this.storage.getItem(s);return this.beacon.onDirectUserAction("rqd_applaunched",{A21:p?"N":"Y"}),this.storage.setItem(s,JSON.stringify(!1)),h},k}();function Se(){var k=navigator.userAgent,u=k.indexOf("compatible")>-1&&k.indexOf("MSIE")>-1,h=k.indexOf("Edge")>-1&&!u,s=k.indexOf("Trident")>-1&&k.indexOf("rv:11.0")>-1;if(u){new RegExp("MSIE (\\d+\\.\\d+);").test(k);var p=parseFloat(RegExp.$1);return p==7?7:p==8?8:p==9?9:p==10?10:6}return h?-2:s?11:-1}var b=function(){return(b=Object.assign||function(u){for(var h,s=1,p=arguments.length;s<p;s++)for(var B in h=arguments[s])Object.prototype.hasOwnProperty.call(h,B)&&(u[B]=h[B]);return u}).apply(this,arguments)},q,z=function(){function k(u,h){h===void 0&&(h={}),this.reportOptions={},this.config=u,this.reportOptions=h}return k.canUseDB=function(){return!!(window!=null&&window.indexedDB)},k.prototype.openDB=function(){var u=this;return new Promise(function(h,s){if(!k.canUseDB())return s({message:"\u5F53\u524D\u4E0D\u652F\u6301 indexeddb"});var p=u.config,B=p.name,P=p.version,te=p.stores,ne=indexedDB.open(B,P);ne.onsuccess=function(){u.db=ne.result,h(),b({result:1,func:"open",params:JSON.stringify(u.config)},u.reportOptions)},ne.onerror=function(Ce){var X,Oe;s(Ce),b({result:0,func:"open",params:JSON.stringify(u.config),error_msg:(Oe=(X=Ce.target)===null||X===void 0?void 0:X.error)===null||Oe===void 0?void 0:Oe.message},u.reportOptions)},ne.onupgradeneeded=function(){u.db=ne.result;try{te==null||te.forEach(function(Ce){u.createStore(Ce)})}catch(Ce){b({result:0,func:"open",params:JSON.stringify(u.config),error_msg:Ce.message},u.reportOptions),s(Ce)}}})},k.prototype.useStore=function(u){return this.storeName=u,this},k.prototype.deleteDB=function(){var u=this;return this.closeDB(),new Promise(function(h,s){var p=indexedDB.deleteDatabase(u.config.name);p.onsuccess=function(){return h()},p.onerror=s})},k.prototype.closeDB=function(){var u;(u=this.db)===null||u===void 0||u.close(),this.db=null},k.prototype.getStoreCount=function(){var u=this;return new Promise(function(h,s){var p=u.getStore("readonly").count();p.onsuccess=function(){return h(p.result)},p.onerror=s})},k.prototype.clearStore=function(){var u=this;return new Promise(function(h,s){var p=u.getStore("readwrite").clear();p.onsuccess=function(){return h()},p.onerror=s})},k.prototype.add=function(u,h){var s=this;return new Promise(function(p,B){var P=s.getStore("readwrite").add(u,h);P.onsuccess=function(){p(P.result)},P.onerror=B})},k.prototype.put=function(u,h){var s=this;return new Promise(function(p,B){var P=s.getStore("readwrite").put(u,h);P.onsuccess=function(){p(P.result)},P.onerror=B})},k.prototype.getStoreAllData=function(){var u=this;return new Promise(function(h,s){var p=u.getStore("readonly").openCursor(),B=[];p.onsuccess=function(){var P;if(!((P=p.result)===null||P===void 0)&&P.value){var te=p.result.value;B.push(te),p.result.continue()}else h(B)},p.onerror=s})},k.prototype.getDataRangeByIndex=function(u,h,s,p,B){var P=this;return new Promise(function(te,ne){var Ce=P.getStore().index(u),X=IDBKeyRange.bound(h,s,p,B),Oe=[],r=Ce.openCursor(X);r.onsuccess=function(){var a;!((a=r==null?void 0:r.result)===null||a===void 0)&&a.value?(Oe.push(r==null?void 0:r.result.value),r==null||r.result.continue()):te(Oe)},r.onerror=ne})},k.prototype.removeDataByIndex=function(u,h,s,p,B){var P=this;return new Promise(function(te,ne){var Ce=P.getStore("readwrite").index(u),X=IDBKeyRange.bound(h,s,p,B),Oe=Ce.openCursor(X),r=0;Oe.onsuccess=function(a){var C=a.target.result;C?(r+=1,C.delete(),C.continue()):te(r)},Oe.onerror=ne})},k.prototype.createStore=function(u){var h=u.name,s=u.indexes,p=s===void 0?[]:s,B=u.options;if(this.db){this.db.objectStoreNames.contains(h)&&this.db.deleteObjectStore(h);var P=this.db.createObjectStore(h,B);p.forEach(function(te){P.createIndex(te.indexName,te.keyPath,te.options)})}},k.prototype.getStore=function(u){var h;return u===void 0&&(u="readonly"),(h=this.db)===null||h===void 0?void 0:h.transaction(this.storeName,u).objectStore(this.storeName)},k}(),$="event_table_v3",re="eventId",ce=function(){function k(u){this.isReady=!1,this.taskQueue=Promise.resolve(),this.db=new z({name:"Beacon_"+u+"_V3",version:1,stores:[{name:$,options:{keyPath:re},indexes:[{indexName:re,keyPath:re,options:{unique:!0}}]}]}),this.open()}return k.prototype.getCount=function(){var u=this;return this.readyExec(function(){return u.db.getStoreCount()})},k.prototype.setItem=function(u,h){var s=this;return this.readyExec(function(){return s.db.add({eventId:u,value:h})})},k.prototype.getItem=function(u){return N(this,void 0,void 0,function(){var h=this;return A(this,function(s){return[2,this.readyExec(function(){return h.db.getDataRangeByIndex(re,u,u)})]})})},k.prototype.removeItem=function(u){var h=this;return this.readyExec(function(){return h.db.removeDataByIndex(re,u,u)})},k.prototype.updateItem=function(u,h){var s=this;return this.readyExec(function(){return s.db.put({eventId:u,value:h})})},k.prototype.iterate=function(u){var h=this;return this.readyExec(function(){return h.db.getStoreAllData().then(function(s){s.forEach(function(p){u(p.value)})})})},k.prototype.open=function(){return N(this,void 0,void 0,function(){var u=this;return A(this,function(h){switch(h.label){case 0:return this.taskQueue=this.taskQueue.then(function(){return u.db.openDB()}),[4,this.taskQueue];case 1:return h.sent(),this.isReady=!0,this.db.useStore($),[2]}})})},k.prototype.readyExec=function(u){return this.isReady?u():(this.taskQueue=this.taskQueue.then(function(){return u()}),this.taskQueue)},k}(),ge=function(){function k(u){this.keyObject={},this.storage=u}return k.prototype.getCount=function(){return this.storage.getStoreCount()},k.prototype.removeItem=function(u){this.storage.removeItem(u),delete this.keyObject[u]},k.prototype.setItem=function(u,h){var s=JSON.stringify(h);this.storage.setItem(u,s),this.keyObject[u]=h},k.prototype.iterate=function(u){for(var h=Object.keys(this.keyObject),s=0;s<h.length;s++){var p=this.storage.getItem(h[s]);u(JSON.parse(p))}},k}(),ye=function(){function k(u,h){var s=this;this.dbEventCount=0,Se()>0||!window.indexedDB||/X5Lite/.test(navigator.userAgent)?(this.store=new ge(h),this.dbEventCount=this.store.getCount()):(this.store=new ce(u),this.getCount().then(function(p){s.dbEventCount=p}))}return k.prototype.getCount=function(){return N(this,void 0,void 0,function(){return A(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.store.getCount()];case 1:return[2,u.sent()];case 2:return u.sent(),[2,Promise.reject()];case 3:return[2]}})})},k.prototype.insertEvent=function(u,h){return N(this,void 0,void 0,function(){var s,p;return A(this,function(B){switch(B.label){case 0:if(this.dbEventCount>=1e4)return[2,Promise.reject()];s=T(u.mapValue),B.label=1;case 1:return B.trys.push([1,3,,4]),this.dbEventCount++,[4,this.store.setItem(s,u)];case 2:return[2,B.sent()];case 3:return p=B.sent(),h&&h(p,u),this.dbEventCount--,[2,Promise.reject()];case 4:return[2]}})})},k.prototype.getEvents=function(){return N(this,void 0,void 0,function(){var u;return A(this,function(h){switch(h.label){case 0:u=[],h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.store.iterate(function(s){u.push(s)})];case 2:return h.sent(),[2,Promise.all(u)];case 3:return h.sent(),[2,Promise.all(u)];case 4:return[2]}})})},k.prototype.removeEvent=function(u){return N(this,void 0,void 0,function(){var h;return A(this,function(s){switch(s.label){case 0:h=T(u.mapValue),s.label=1;case 1:return s.trys.push([1,3,,4]),this.dbEventCount--,[4,this.store.removeItem(h)];case 2:return[2,s.sent()];case 3:return s.sent(),this.dbEventCount++,[2,Promise.reject()];case 4:return[2]}})})},k}(),oe=function(){return(oe=Object.assign||function(u){for(var h,s=1,p=arguments.length;s<p;s++)for(var B in h=arguments[s])Object.prototype.hasOwnProperty.call(h,B)&&(u[B]=h[B]);return u}).apply(this,arguments)};function pe(k){try{return decodeURIComponent(k.replace(/\+/g," "))}catch{return null}}function ve(k,u){var h=[null,void 0,"",NaN].includes(k);if(u.isSkipEmpty&&h)return null;var s=!u.isSkipEmpty&&h?"":k;try{return u.encode?encodeURIComponent(s):s}catch{return null}}function me(k){var u=k.split("#"),h=u[0],s=u[1],p=s===void 0?"":s,B=h.split("?"),P=B[0],te=B[1],ne=te===void 0?"":te,Ce=pe(p),X=Object.create(null);return ne.split("&").forEach(function(Oe){var r=Oe.split("="),a=r[0],C=r[1],w=C===void 0?"":C,V=pe(a),le=pe(w);V===null||le===null||V===""&&le===""||X[V]||(X[V]=le)}),{url:P,query:X,hash:Ce}}function fe(k,u){u===void 0&&(u={encode:!0,isSkipEmpty:!1});var h=k.url,s=k.query,p=s===void 0?{}:s,B=k.hash,P=h.split("#"),te=P[0],ne=P[1],Ce=ne===void 0?"":ne,X=te.split("?")[0],Oe=[],r=ve(B||Ce,u),a=oe(oe({},me(h).query),p);return Object.keys(a).forEach(function(C){var w=ve(C,u),V=ve(a[C],u);w!==null&&V!==null&&Oe.push(w+"="+V)}),X+(Oe.length?"?"+Oe.join("&"):"")+(r?"#"+r:"")}function se(k,u){return new Promise(function(h,s){if(u&&document.querySelectorAll("script[data-tag="+u+"]").length)return h();var p=document.createElement("script"),B=oe({type:"text/javascript",charset:"utf-8"},k);Object.keys(B).forEach(function(P){return function(te,ne,Ce){if(te)return Ce===void 0?te.getAttribute(ne):te.setAttribute(ne,Ce)}(p,P,B[P])}),u&&(p.dataset.tag=u),p.onload=function(){return h()},p.onreadystatechange=function(){var P=p.readyState;["complete","loaded"].includes(P)&&(p.onreadystatechange=null,h())},p.onerror=s,document.body.appendChild(p)})}(function(k){k[k.equal=0]="equal",k[k.low=-1]="low",k[k.high=1]="high"})(q||(q={}));var Te=function(){return(Te=Object.assign||function(u){for(var h,s=1,p=arguments.length;s<p;s++)for(var B in h=arguments[s])Object.prototype.hasOwnProperty.call(h,B)&&(u[B]=h[B]);return u}).apply(this,arguments)};function De(k,u,h,s){return new(h||(h=Promise))(function(p,B){function P(Ce){try{ne(s.next(Ce))}catch(X){B(X)}}function te(Ce){try{ne(s.throw(Ce))}catch(X){B(X)}}function ne(Ce){var X;Ce.done?p(Ce.value):(X=Ce.value,X instanceof h?X:new h(function(Oe){Oe(X)})).then(P,te)}ne((s=s.apply(k,u||[])).next())})}function Ee(k,u){var h,s,p,B,P={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return B={next:te(0),throw:te(1),return:te(2)},typeof Symbol=="function"&&(B[Symbol.iterator]=function(){return this}),B;function te(ne){return function(Ce){return function(X){if(h)throw new TypeError("Generator is already executing.");for(;P;)try{if(h=1,s&&(p=2&X[0]?s.return:X[0]?s.throw||((p=s.return)&&p.call(s),0):s.next)&&!(p=p.call(s,X[1])).done)return p;switch(s=0,p&&(X=[2&X[0],p.value]),X[0]){case 0:case 1:p=X;break;case 4:return P.label++,{value:X[1],done:!1};case 5:P.label++,s=X[1],X=[0];continue;case 7:X=P.ops.pop(),P.trys.pop();continue;default:if(!((p=(p=P.trys).length>0&&p[p.length-1])||X[0]!==6&&X[0]!==2)){P=0;continue}if(X[0]===3&&(!p||X[1]>p[0]&&X[1]<p[3])){P.label=X[1];break}if(X[0]===6&&P.label<p[1]){P.label=p[1],p=X;break}if(p&&P.label<p[2]){P.label=p[2],P.ops.push(X);break}p[2]&&P.ops.pop(),P.trys.pop();continue}X=u.call(k,P)}catch(Oe){X=[6,Oe],s=0}finally{h=p=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([ne,Ce])}}}var be=function(){function k(){this.interceptors=[]}return k.prototype.use=function(u,h){return this.interceptors.push({resolved:u,rejected:h}),this.interceptors.length-1},k.prototype.traverse=function(u,h){h===void 0&&(h=!1);var s=Promise.resolve(u);return(h?Array.prototype.reduceRight:Array.prototype.reduce).call(this.interceptors,function(p,B){if(B){var P=B.resolved,te=B.rejected;s=s.then(P,te)}return p},""),s},k.prototype.eject=function(u){this.interceptors[u]&&(this.interceptors[u]=null)},k}(),we={defaults:{timeout:0,method:"GET",mode:"cors",redirect:"follow",credentials:"same-origin"},headers:{common:{Accept:"application/json, text/plain, */*"},POST:{"Content-Type":"application/x-www-form-urlencoded"},PUT:{"Content-Type":"application/x-www-form-urlencoded"},PATCH:{"Content-Type":"application/x-www-form-urlencoded"}},baseURL:"",polyfillUrl:"https://vm.gtimg.cn/comps/script/fetch.min.js",interceptors:{request:new be,response:new be}},Ue=/^([a-z][a-z\d+\-.]*:)?\/\//i,Me=Object.prototype.toString;function Ae(k){return De(this,void 0,void 0,function(){var u;return Ee(this,function(h){switch(h.label){case 0:if(window.fetch)return[2];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,se({src:k})];case 2:return h.sent(),[3,4];case 3:throw u=h.sent(),function(s){if(typeof Image<"u"){var p=new Image(1,1),B=Te({attaid:"0f400053130",token:"6552374442",comps:"@tencent/ovb-request",version:"1.1.18",ua:navigator.userAgent,url:location.href,_dc:Math.random()},s),P=Object.keys(B).map(function(te){return te+"="+encodeURIComponent(B[te])}).join("&");p.src="https://h.trace.qq.com/kv?"+P}}({func:"loadPolyfill",result:0,params:k,error_msg:u.message}),new Error("\u52A0\u8F7D polyfill "+k+" \u5931\u8D25: "+u.message);case 4:return[2]}})})}function Z(k){return["Accept","Content-Type"].forEach(function(u){return h=u,void((s=k.headers)&&Object.keys(s).forEach(function(p){p!==h&&p.toUpperCase()===h.toUpperCase()&&(s[h]=s[p],delete s[p])}));var h,s}),function(u){if(Me.call(u)!=="[object Object]")return!1;var h=Object.getPrototypeOf(u);return h===null||h===Object.prototype}(k.body)&&(k.body=JSON.stringify(k.body),k.headers&&(k.headers["Content-Type"]="application/json;charset=utf-8")),k}function E(k){return De(this,void 0,void 0,function(){var u,h,s,p,B,P,te,ne,Ce,X,Oe,r,a,C,w,V,le;return Ee(this,function(Ie){switch(Ie.label){case 0:return u=we.baseURL,h=we.defaults,s=we.interceptors,[4,Ae(we.polyfillUrl)];case 1:return Ie.sent(),(p=Te(Te({},h),k)).headers||(p.headers=function(Ne){Ne===void 0&&(Ne="GET");var Xe=we.headers[Ne]||{};return Te(Te({},we.headers.common),Xe)}(p.method)),Z(p),[4,s.request.traverse(p,!0)];case 2:if((B=Ie.sent())instanceof Error)throw B;return B.url=function(Ne,Xe){return!Ne||Ue.test(Xe)?Xe:Ne.replace(/\/+$/,"")+"/"+Xe.replace(/^\/+/,"")}(u,B.url),P=B.url,te=B.timeout,ne=B.params,Ce=B.method,X=["GET","DELETE","OPTIONS","HEAD"].includes(Ce===void 0?"GET":Ce)&&!!ne,Oe=X?fe({url:P,query:ne}):P,r=[],te&&!B.signal&&(w=new Promise(function(Ne){a=setTimeout(function(){Ne(new Error("timeout"))},te)}),r.push(w),C=new AbortController,B.signal=C.signal),r.push(fetch(Oe,B).catch(function(Ne){return Ne})),[4,Promise.race(r)];case 3:return V=Ie.sent(),a&&clearTimeout(a),[4,s.response.traverse(V)];case 4:if((le=Ie.sent())instanceof Error)throw C==null||C.abort(),le;return[2,le]}})})}var D=function(){function k(u){we.interceptors.request.use(function(h){var s=h.url,p=h.method,B=h.body,P=B;if(u.onReportBeforeSend){var te=u.onReportBeforeSend({url:s,method:p,data:B?JSON.parse(B):null});P=te!=null&&te.data?JSON.stringify(te.data):null}if(p!=="GET"&&!P)throw new Error("No data for sdk, cancel.");return ee(ee({},h),{body:P})})}return k.prototype.get=function(u,h){return N(this,void 0,void 0,function(){var s,p;return A(this,function(B){switch(B.label){case 0:return[4,E(ee({url:u},h))];case 1:return[4,(s=B.sent()).json()];case 2:return p=B.sent(),[2,Promise.resolve({data:p,status:s.status,statusText:s.statusText,headers:s.headers})]}})})},k.prototype.post=function(u,h,s){return N(this,void 0,void 0,function(){var p,B;return A(this,function(P){switch(P.label){case 0:return[4,E(ee({url:u,body:h,method:"POST"},s))];case 1:return[4,(p=P.sent()).json()];case 2:return B=P.sent(),[2,Promise.resolve({data:B,status:p.status,statusText:p.statusText,headers:p.headers})]}})})},k}(),I=function(){function k(u){this.appkey=u}return k.prototype.getItem=function(u){try{return window.localStorage.getItem(this.getStoreKey(u))}catch{return""}},k.prototype.removeItem=function(u){try{window.localStorage.removeItem(this.getStoreKey(u))}catch{}},k.prototype.setItem=function(u,h){try{window.localStorage.setItem(this.getStoreKey(u),h)}catch{}},k.prototype.setSessionItem=function(u,h){try{window.sessionStorage.setItem(this.getStoreKey(u),h)}catch{}},k.prototype.getSessionItem=function(u){try{return window.sessionStorage.getItem(this.getStoreKey(u))}catch{return""}},k.prototype.getStoreKey=function(u){return j+this.appkey+"_"+u},k.prototype.createDeviceId=function(){try{var u=window.localStorage.getItem(Q);return u||(u=function(h){for(var s="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789",p="",B=0;B<h;B++)p+=s.charAt(Math.floor(Math.random()*s.length));return p}(32),window.localStorage.setItem(Q,u)),u}catch{return""}},k.prototype.clear=function(){try{for(var u=window.localStorage.length,h=0;h<u;h++){var s=window.localStorage.key(h);(s==null?void 0:s.substr(0,9))==j&&window.localStorage.removeItem(s)}}catch{}},k.prototype.getStoreCount=function(){var u=0;try{u=window.localStorage.length}catch{}return u},k}(),ue=function(k){var u={exports:{}};return k(u,u.exports),u.exports}(function(k,u){k.exports=function(){function h(P,te,ne,Ce,X,Oe,r){try{var a=P[Oe](r),C=a.value}catch(w){return void ne(w)}a.done?te(C):Promise.resolve(C).then(Ce,X)}function s(P,te){for(var ne=0;ne<te.length;ne++){var Ce=te[ne];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(P,Ce.key,Ce)}}var p,B=(function(P){P=function(te){var ne,Ce=Object.prototype,X=Ce.hasOwnProperty,Oe=typeof Symbol=="function"?Symbol:{},r=Oe.iterator||"@@iterator",a=Oe.asyncIterator||"@@asyncIterator",C=Oe.toStringTag||"@@toStringTag";function w(d,l,m){return Object.defineProperty(d,l,{value:m,enumerable:!0,configurable:!0,writable:!0}),d[l]}try{w({},"")}catch{w=function(m,x,G){return m[x]=G}}function V(d,l,m,x){var G,ke,he,Re;return l=l&&l.prototype instanceof qe?l:qe,l=Object.create(l.prototype),x=new o(x||[]),l._invoke=(G=d,ke=m,he=x,Re=Ie,function(Pe,Ve){if(Re===Xe)throw new Error("Generator is already running");if(Re===Qe){if(Pe==="throw")throw Ve;return c()}for(he.method=Pe,he.arg=Ve;;){var $e=he.delegate;if($e){var Ze=function nt(et,Ge){var Le;if((Le=et.iterator[Ge.method])===ne){if(Ge.delegate=null,Ge.method==="throw"){if(et.iterator.return&&(Ge.method="return",Ge.arg=ne,nt(et,Ge),Ge.method==="throw"))return je;Ge.method="throw",Ge.arg=new TypeError("The iterator does not provide a 'throw' method")}return je}return(Le=le(Le,et.iterator,Ge.arg)).type==="throw"?(Ge.method="throw",Ge.arg=Le.arg,Ge.delegate=null,je):(Le=Le.arg)?Le.done?(Ge[et.resultName]=Le.value,Ge.next=et.nextLoc,Ge.method!=="return"&&(Ge.method="next",Ge.arg=ne),Ge.delegate=null,je):Le:(Ge.method="throw",Ge.arg=new TypeError("iterator result is not an object"),Ge.delegate=null,je)}($e,he);if(Ze){if(Ze===je)continue;return Ze}}if(he.method==="next")he.sent=he._sent=he.arg;else if(he.method==="throw"){if(Re===Ie)throw Re=Qe,he.arg;he.dispatchException(he.arg)}else he.method==="return"&&he.abrupt("return",he.arg);if(Re=Xe,(Ze=le(G,ke,he)).type==="normal"){if(Re=he.done?Qe:Ne,Ze.arg!==je)return{value:Ze.arg,done:he.done}}else Ze.type==="throw"&&(Re=Qe,he.method="throw",he.arg=Ze.arg)}}),l}function le(d,l,m){try{return{type:"normal",arg:d.call(l,m)}}catch(x){return{type:"throw",arg:x}}}te.wrap=V;var Ie="suspendedStart",Ne="suspendedYield",Xe="executing",Qe="completed",je={};function qe(){}function He(){}function Ke(){}var Ye={};Ye[r]=function(){return this},(Oe=(Oe=Object.getPrototypeOf)&&Oe(Oe(t([]))))&&Oe!==Ce&&X.call(Oe,r)&&(Ye=Oe);var de=Ke.prototype=qe.prototype=Object.create(Ye);function ze(d){["next","throw","return"].forEach(function(l){w(d,l,function(m){return this._invoke(l,m)})})}function Je(d,l){var m;this._invoke=function(x,G){function ke(){return new l(function(he,Re){(function Pe(Ve,$e,Ze,nt){if((Ve=le(d[Ve],d,$e)).type!=="throw"){var et=Ve.arg;return($e=et.value)&&R($e)=="object"&&X.call($e,"__await")?l.resolve($e.__await).then(function(Ge){Pe("next",Ge,Ze,nt)},function(Ge){Pe("throw",Ge,Ze,nt)}):l.resolve($e).then(function(Ge){et.value=Ge,Ze(et)},function(Ge){return Pe("throw",Ge,Ze,nt)})}nt(Ve.arg)})(x,G,he,Re)})}return m=m?m.then(ke,ke):ke()}}function _e(d){var l={tryLoc:d[0]};1 in d&&(l.catchLoc=d[1]),2 in d&&(l.finallyLoc=d[2],l.afterLoc=d[3]),this.tryEntries.push(l)}function e(d){var l=d.completion||{};l.type="normal",delete l.arg,d.completion=l}function o(d){this.tryEntries=[{tryLoc:"root"}],d.forEach(_e,this),this.reset(!0)}function t(d){if(d){if(l=d[r])return l.call(d);if(typeof d.next=="function")return d;if(!isNaN(d.length)){var l,m=-1;return(l=function x(){for(;++m<d.length;)if(X.call(d,m))return x.value=d[m],x.done=!1,x;return x.value=ne,x.done=!0,x}).next=l}}return{next:c}}function c(){return{value:ne,done:!0}}return((He.prototype=de.constructor=Ke).constructor=He).displayName=w(Ke,C,"GeneratorFunction"),te.isGeneratorFunction=function(d){return!!(d=typeof d=="function"&&d.constructor)&&(d===He||(d.displayName||d.name)==="GeneratorFunction")},te.mark=function(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,Ke):(d.__proto__=Ke,w(d,C,"GeneratorFunction")),d.prototype=Object.create(de),d},te.awrap=function(d){return{__await:d}},ze(Je.prototype),Je.prototype[a]=function(){return this},te.AsyncIterator=Je,te.async=function(d,l,m,x,G){G===void 0&&(G=Promise);var ke=new Je(V(d,l,m,x),G);return te.isGeneratorFunction(l)?ke:ke.next().then(function(he){return he.done?he.value:ke.next()})},ze(de),w(de,C,"Generator"),de[r]=function(){return this},de.toString=function(){return"[object Generator]"},te.keys=function(d){var l,m=[];for(l in d)m.push(l);return m.reverse(),function x(){for(;m.length;){var G=m.pop();if(G in d)return x.value=G,x.done=!1,x}return x.done=!0,x}},te.values=t,o.prototype={constructor:o,reset:function(l){if(this.prev=0,this.next=0,this.sent=this._sent=ne,this.done=!1,this.delegate=null,this.method="next",this.arg=ne,this.tryEntries.forEach(e),!l)for(var m in this)m.charAt(0)==="t"&&X.call(this,m)&&!isNaN(+m.slice(1))&&(this[m]=ne)},stop:function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},dispatchException:function(l){if(this.done)throw l;var m=this;function x(Ve,$e){return he.type="throw",he.arg=l,m.next=Ve,$e&&(m.method="next",m.arg=ne),!!$e}for(var G=this.tryEntries.length-1;0<=G;--G){var ke=this.tryEntries[G],he=ke.completion;if(ke.tryLoc==="root")return x("end");if(ke.tryLoc<=this.prev){var Re=X.call(ke,"catchLoc"),Pe=X.call(ke,"finallyLoc");if(Re&&Pe){if(this.prev<ke.catchLoc)return x(ke.catchLoc,!0);if(this.prev<ke.finallyLoc)return x(ke.finallyLoc)}else if(Re){if(this.prev<ke.catchLoc)return x(ke.catchLoc,!0)}else{if(!Pe)throw new Error("try statement without catch or finally");if(this.prev<ke.finallyLoc)return x(ke.finallyLoc)}}}},abrupt:function(l,m){for(var x=this.tryEntries.length-1;0<=x;--x){var G=this.tryEntries[x];if(G.tryLoc<=this.prev&&X.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var ke=G;break}}var he=(ke=ke&&(l==="break"||l==="continue")&&ke.tryLoc<=m&&m<=ke.finallyLoc?null:ke)?ke.completion:{};return he.type=l,he.arg=m,ke?(this.method="next",this.next=ke.finallyLoc,je):this.complete(he)},complete:function(l,m){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&m&&(this.next=m),je},finish:function(l){for(var m=this.tryEntries.length-1;0<=m;--m){var x=this.tryEntries[m];if(x.finallyLoc===l)return this.complete(x.completion,x.afterLoc),e(x),je}},catch:function(l){for(var m=this.tryEntries.length-1;0<=m;--m){var x=this.tryEntries[m];if(x.tryLoc===l){var G,ke=x.completion;return ke.type==="throw"&&(G=ke.arg,e(x)),G}}throw new Error("illegal catch attempt")},delegateYield:function(l,m,x){return this.delegate={iterator:t(l),resultName:m,nextLoc:x},this.method==="next"&&(this.arg=ne),je}},te}(P.exports);try{regeneratorRuntime=P}catch{Function("r","regeneratorRuntime = r")(P)}}(p={exports:{}}),p.exports);return function(){function P(Oe){(function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")})(this,P),this.version="1.0.0";var r=Array.prototype.map,a=Array.prototype.forEach;Oe&&(this.hasher=Oe),this.each=function(C,w,V){if(C!=null){if(a&&C.forEach===a)C.forEach(w,V);else if(C.length===+C.length){for(var le=0,Ie=C.length;le<Ie;le++)if(w.call(V,C[le],le,C)==={})return}else for(var Ne in C)if(C.hasOwnProperty(Ne)&&w.call(V,C[Ne],Ne,C)==={})return}},this.map=function(C,w,V){var le=[];return C==null?le:r&&C.map===r?C.map(w,V):(this.each(C,function(Ie,Ne,Xe){le[le.length]=w.call(V,Ie,Ne,Xe)}),le)}}var te,ne,Ce,X;return te=P,(ne=[{key:"getQimei36",value:function(r,a){var C=this;this.getHid().then(function(w){var V="3BJr"+r.substring(0,2)+(w&&w.substring(3,7)),le=new XMLHttpRequest;le.open("POST","https://snowflake.qq.com/ola/h5",!0),le.setRequestHeader("Content-Type","application/json"),le.onreadystatechange=function(){if(le.readyState==XMLHttpRequest.DONE&&le.status==200)try{a&&a(JSON.parse(le.responseText))}catch{a(null)}},le.send(JSON.stringify({appKey:r,hid:w,sign:V,version:C.version}))})}},{key:"getHid",value:(Ce=B.mark(function Oe(){var r,a;return B.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return(r=[]).push((w=void 0,(w=[Math.floor(window.screen.width*window.devicePixelRatio),Math.floor(window.screen.height*window.devicePixelRatio)]).sort().reverse(),w.join("x"))),r.push((w=void 0,(w=[Math.floor(window.screen.availWidth*window.devicePixelRatio),Math.floor(window.screen.availHeight*window.devicePixelRatio)]).sort().reverse(),w.join("x"))),r.push(navigator.deviceMemory),r.push(!!window.sessionStorage),r.push(!!window.indexedDB),r.push(navigator.productSub),r.push(navigator.hardwareConcurrency),r.push(this.getWebglVendorAndRenderer()),r.push(new Date().getTimezoneOffset()),C.next=12,this.getFactor();case 12:if(a=C.sent,r.push(a),this.hasher)return C.abrupt("return",this.hasher(r.join("###"),31));C.next=18;break;case 18:return C.abrupt("return",this.x64hash128(r.join("###"),31));case 19:case"end":return C.stop()}var w},Oe,this)}),X=function(){var r=this,a=arguments;return new Promise(function(C,w){var V=Ce.apply(r,a);function le(Ne){h(V,C,w,le,Ie,"next",Ne)}function Ie(Ne){h(V,C,w,le,Ie,"throw",Ne)}le(void 0)})},function(){return X.apply(this,arguments)})},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"getNative",value:function(){var r=this;this.getHid().then(function(a){JSInterface.callback(r.version,a,r.getUserAgent())})}},{key:"getWebglVendorAndRenderer",value:function(){try{var r=function(){var V=document.createElement("canvas"),le=null;try{le=V.getContext("webgl")||V.getContext("experimental-webgl")}catch{}return le||null}(),a=r.getExtension("WEBGL_debug_renderer_info"),C=[r.getParameter(a.UNMASKED_VENDOR_WEBGL),r.getParameter(a.UNMASKED_RENDERER_WEBGL)].join("~"),w=r.getExtension("WEBGL_lose_context");return w!=null&&w.loseContext(),C}catch{return null}}},{key:"getFactor",value:function(){return new Promise(function(r,a){var C=window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection;C?function(){var w=new C({iceServers:[]});w.createDataChannel("",{reliable:!1}),w.onicecandidate=function(Ne){Ne.candidate&&Ie("a=".concat(Ne.candidate.candidate))},w.createOffer(function(Ne){Ie(Ne.sdp),w.setLocalDescription(Ne)},function(Ne){});var V=Object.create(null);function le(Ne){if(!(Ne in V)){V[Ne]=!0;for(var Xe=Object.keys(V).filter(function(je){return V[je]}),Qe=0;Qe<Xe.length;Qe++)16<Xe[Qe].length&&(Xe.splice(Qe,1),Qe--);r(Xe[0])}}function Ie(Ne){(0<arguments.length&&Ne!==void 0?Ne:"").split(`\r
`).forEach(function(Xe,Qe,je){var qe,He;~Xe.indexOf("a=candidate")?(He=(qe=Xe.split(" "))[4],qe[7]==="host"&&le(He)):~Xe.indexOf("c=")&&le(Xe.split(" ")[2])})}V["0.0.0.0"]=!1}():r(null)})}},{key:"x64hash128",value:function(r,a){for(var C=function(_e,e){_e=[_e[0]>>>16,65535&_e[0],_e[1]>>>16,65535&_e[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var o=[0,0,0,0];return o[3]+=_e[3]+e[3],o[2]+=o[3]>>>16,o[3]&=65535,o[2]+=_e[2]+e[2],o[1]+=o[2]>>>16,o[2]&=65535,o[1]+=_e[1]+e[1],o[0]+=o[1]>>>16,o[1]&=65535,o[0]+=_e[0]+e[0],o[0]&=65535,[o[0]<<16|o[1],o[2]<<16|o[3]]},w=function(_e,e){_e=[_e[0]>>>16,65535&_e[0],_e[1]>>>16,65535&_e[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var o=[0,0,0,0];return o[3]+=_e[3]*e[3],o[2]+=o[3]>>>16,o[3]&=65535,o[2]+=_e[2]*e[3],o[1]+=o[2]>>>16,o[2]&=65535,o[2]+=_e[3]*e[2],o[1]+=o[2]>>>16,o[2]&=65535,o[1]+=_e[1]*e[3],o[0]+=o[1]>>>16,o[1]&=65535,o[1]+=_e[2]*e[2],o[0]+=o[1]>>>16,o[1]&=65535,o[1]+=_e[3]*e[1],o[0]+=o[1]>>>16,o[1]&=65535,o[0]+=_e[0]*e[3]+_e[1]*e[2]+_e[2]*e[1]+_e[3]*e[0],o[0]&=65535,[o[0]<<16|o[1],o[2]<<16|o[3]]},V=function(_e,e){return(e%=64)==32?[_e[1],_e[0]]:e<32?[_e[0]<<e|_e[1]>>>32-e,_e[1]<<e|_e[0]>>>32-e]:[_e[1]<<(e-=32)|_e[0]>>>32-e,_e[0]<<e|_e[1]>>>32-e]},le=function(_e,e){return(e%=64)==0?_e:e<32?[_e[0]<<e|_e[1]>>>32-e,_e[1]<<e]:[_e[1]<<e-32,0]},Ie=function(_e,e){return[_e[0]^e[0],_e[1]^e[1]]},Ne=function(_e){return _e=Ie(_e,[0,_e[0]>>>1]),_e=w(_e,[4283543511,3981806797]),_e=Ie(_e,[0,_e[0]>>>1]),_e=w(_e,[3301882366,444984403]),Ie(_e,[0,_e[0]>>>1])},Xe=(r=r||"").length%16,Qe=r.length-Xe,je=[0,a=a||0],qe=[0,a],He=[0,0],Ke=[0,0],Ye=[2277735313,289559509],de=[1291169091,658871167],ze=0;ze<Qe;ze+=16)He=[255&r.charCodeAt(ze+4)|(255&r.charCodeAt(ze+5))<<8|(255&r.charCodeAt(ze+6))<<16|(255&r.charCodeAt(ze+7))<<24,255&r.charCodeAt(ze)|(255&r.charCodeAt(ze+1))<<8|(255&r.charCodeAt(ze+2))<<16|(255&r.charCodeAt(ze+3))<<24],Ke=[255&r.charCodeAt(ze+12)|(255&r.charCodeAt(ze+13))<<8|(255&r.charCodeAt(ze+14))<<16|(255&r.charCodeAt(ze+15))<<24,255&r.charCodeAt(ze+8)|(255&r.charCodeAt(ze+9))<<8|(255&r.charCodeAt(ze+10))<<16|(255&r.charCodeAt(ze+11))<<24],He=V(He=w(He,Ye),31),He=w(He,de),je=C(je=V(je=Ie(je,He),27),qe),je=C(w(je,[0,5]),[0,1390208809]),Ke=V(Ke=w(Ke,de),33),Ke=w(Ke,Ye),qe=C(qe=V(qe=Ie(qe,Ke),31),je),qe=C(w(qe,[0,5]),[0,944331445]);switch(He=[0,0],Ke=[0,0],Xe){case 15:Ke=Ie(Ke,le([0,r.charCodeAt(ze+14)],48));case 14:Ke=Ie(Ke,le([0,r.charCodeAt(ze+13)],40));case 13:Ke=Ie(Ke,le([0,r.charCodeAt(ze+12)],32));case 12:Ke=Ie(Ke,le([0,r.charCodeAt(ze+11)],24));case 11:Ke=Ie(Ke,le([0,r.charCodeAt(ze+10)],16));case 10:Ke=Ie(Ke,le([0,r.charCodeAt(ze+9)],8));case 9:Ke=Ie(Ke,[0,r.charCodeAt(ze+8)]),Ke=V(Ke=w(Ke,de),33),Ke=w(Ke,Ye),qe=Ie(qe,Ke);case 8:He=Ie(He,le([0,r.charCodeAt(ze+7)],56));case 7:He=Ie(He,le([0,r.charCodeAt(ze+6)],48));case 6:He=Ie(He,le([0,r.charCodeAt(ze+5)],40));case 5:He=Ie(He,le([0,r.charCodeAt(ze+4)],32));case 4:He=Ie(He,le([0,r.charCodeAt(ze+3)],24));case 3:He=Ie(He,le([0,r.charCodeAt(ze+2)],16));case 2:He=Ie(He,le([0,r.charCodeAt(ze+1)],8));case 1:He=Ie(He,[r.charCodeAt(ze)]),He=V(He=w(He,Ye),31),He=w(He,de),je=Ie(je,He)}return je=Ie(je,[0,r.length]),qe=C(qe=Ie(qe,[0,r.length]),je=C(je,qe)),je=Ne(je),qe=C(qe=Ne(qe),je=C(je,qe)),("00000000"+(je[0]>>>0).toString(16)).slice(-8)+("00000000"+(je[1]>>>0).toString(16)).slice(-8)+("00000000"+(qe[0]>>>0).toString(16)).slice(-8)+("00000000"+(qe[1]>>>0).toString(16)).slice(-8)}}])&&s(te.prototype,ne),P}()}()}),ae="logid_start",Be="4.5.6-web";return function(k){function u(h){var s=k.call(this,h)||this;s.qimei36="",s.uselessCycleTaskNum=0,s.underWeakNet=!1,s.send=function(te,ne,Ce){s.storage.setItem(J,Date.now().toString()),s.network.post(s.uploadUrl||s.strategy.getUploadUrl(),te.data).then(function(X){var Oe;((Oe=X==null?void 0:X.data)===null||Oe===void 0?void 0:Oe.result)==100?s.delayTime=1e3*X.data.delayTime:s.delayTime=0,ne&&ne(te.data),te.data.events.forEach(function(r){s.store.removeEvent(r).then(function(){s.removeSendingId(T(r.mapValue))})}),s.doCustomCycleTask()}).catch(function(X){var Oe=te.data.events;s.errorReport.reportError(X.code?X.code.toString():"600",X.message),Ce&&Ce(te.data);var r=JSON.parse(s.storage.getItem(M));Oe.forEach(function(a){r&&r.indexOf(T(a))!=-1&&s.store.insertEvent(a,function(C,w){C&&s.errorReport.reportError("604","insertEvent fail!")}),s.removeSendingId(T(a))}),s.monitorUploadFailed()})};var p,B,P=Se();return s.isUnderIE8=P>0&&P<8,s.isUnderIE8||(s.isUnderIE=P>0,h.needInitQimei&&s.initQimei(h.appkey),s.network=new D(h),s.storage=new I(h.appkey),s.initCommonInfo(h),s.store=new ye(h.appkey,s.storage),s.errorReport=new f(s.config,s.commonInfo,"web",s.network),s.strategy=new H(s.config,s.commonInfo,s.storage,s.network),s.logidStartTime=s.storage.getItem(ae),s.logidStartTime||(s.logidStartTime=Date.now().toString(),s.storage.setItem(ae,s.logidStartTime)),p=s.logidStartTime,B=Date.now()-Number.parseFloat(p),Math.floor(B/864e5)>=365&&s.storage.clear(),s.initSession(h),s.onDirectUserAction("rqd_js_init",{}),setTimeout(function(){return s.lifeCycle.emit("init")},0),s.initDelayTime=h.delay?h.delay:1e3,s.cycleTask(s.initDelayTime)),s}return function(h,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=h}K(h,s),h.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}(u,k),u.prototype.initQimei=function(h){var s=this;new ue().getQimei36(h,function(p){s.qimei36=p.q36})},u.prototype.initSession=function(h){var s=18e5;h.sessionDuration&&h.sessionDuration>3e4&&(s=h.sessionDuration),this.beaconSession=new F(this.storage,s,this)},u.prototype.initCommonInfo=function(h){var s=Number(this.storage.getItem(J));try{var p=JSON.parse(this.storage.getItem(M));(Date.now()-s>3e4||!p)&&this.storage.setItem(M,JSON.stringify([]))}catch{}h.uploadUrl&&(this.uploadUrl=h.uploadUrl+"?appkey="+h.appkey);var B=[window.screen.width,window.screen.height];window.devicePixelRatio&&B.push(window.devicePixelRatio),this.commonInfo={deviceId:this.storage.createDeviceId(),language:navigator&&navigator.language||"zh_CN",query:window.location.search,userAgent:navigator.userAgent,pixel:B.join("*"),channelID:h.channelID?String(h.channelID):"",openid:h.openid?String(h.openid):"",unid:h.unionid?String(h.unionid):"",sdkVersion:Be},this.config.appVersion=h.versionCode?String(h.versionCode):"",this.config.strictMode=h.strictMode},u.prototype.cycleTask=function(h){var s=this;this.intervalID=window.setInterval(function(){s.store.getEvents().then(function(p){var B=[],P=JSON.parse(s.storage.getItem(M));P||(P=[]),p&&p.forEach(function(te){var ne=T(te.mapValue);P.indexOf(ne)==-1&&(B.push(te),P.push(ne))}),B.length!=0&&(s.storage.setItem(M,JSON.stringify(P)),s._normalLogPipeline(s.assembleData(B)))}).catch(function(p){})},h)},u.prototype.onReport=function(h,s,p){var B=this;if(this.isUnderIE8)this.errorReport.reportError("601","UnderIE8");else{var P=this.generateData(h,s,p);if(p&&this.delayTime==0&&!this.underWeakNet)this._normalLogPipeline(this.assembleData(P));else{var te=P.shift();te&&this.store.insertEvent(te,function(ne){ne&&B.errorReport.reportError("604","insertEvent fail!")}).catch(function(ne){B._normalLogPipeline(B.assembleData(P))})}}},u.prototype.onSendBeacon=function(h,s){if(this.isUnderIE)this.errorReport.reportError("605","UnderIE");else{var p=this.assembleData(this.generateData(h,s,!0));typeof navigator.sendBeacon=="function"&&navigator.sendBeacon(this.uploadUrl||this.strategy.getUploadUrl(),JSON.stringify(p))}},u.prototype.generateData=function(h,s,p){var B=[],P="4.5.6-web_"+(p?"direct_log_id":"normal_log_id"),te=Number(this.storage.getItem(P));return te=te||1,s=ee(ee({},s),{A99:p?"Y":"N",A100:te.toString(),A72:Be,A88:this.logidStartTime}),te++,this.storage.setItem(P,te.toString()),B.push({eventCode:h,eventTime:Date.now().toString(),mapValue:xe(s,this.config.strictMode)}),B},u.prototype.assembleData=function(h){var s=this.beaconSession.getSession();return{appVersion:this.config.appVersion?U(this.config.appVersion):"",sdkId:"js",sdkVersion:Be,mainAppKey:this.config.appkey,platformId:3,common:xe(ee(ee({},this.additionalParams),{A2:this.commonInfo.deviceId,A8:this.commonInfo.openid,A12:this.commonInfo.language,A17:this.commonInfo.pixel,A23:this.commonInfo.channelID,A50:this.commonInfo.unid,A76:s.sessionId,A101:this.commonInfo.userAgent,A102:window.location.href,A104:document.referrer,A119:this.commonInfo.query,A153:this.qimei36}),!1),events:h}},u.prototype.monitorUploadFailed=function(){this.uselessCycleTaskNum++,this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(6e4),this.underWeakNet=!0)},u.prototype.doCustomCycleTask=function(){this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(this.initDelayTime)),this.uselessCycleTaskNum=0,this.underWeakNet=!1},u}(O)})}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./lib/crypto.js":function(v,S,i){(function(g){var n=i("./node_modules/@babel/runtime/helpers/typeof.js"),Y=Y||function(R,K){var ee={},N=ee.lib={},A=function(){},j=N.Base={extend:function(T){A.prototype=this;var y=new A;return T&&y.mixIn(T),y.hasOwnProperty("init")||(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var T=this.extend();return T.init.apply(T,arguments),T},init:function(){},mixIn:function(T){for(var y in T)T.hasOwnProperty(y)&&(this[y]=T[y]);T.hasOwnProperty("toString")&&(this.toString=T.toString)},clone:function(){return this.init.prototype.extend(this)}},Q=N.WordArray=j.extend({init:function(T,y){T=this.words=T||[],this.sigBytes=y!=K?y:4*T.length},toString:function(T){return(T||M).stringify(this)},concat:function(T){var y=this.words,O=T.words,f=this.sigBytes;if(T=T.sigBytes,this.clamp(),f%4)for(var H=0;H<T;H++)y[f+H>>>2]|=(O[H>>>2]>>>24-8*(H%4)&255)<<24-8*((f+H)%4);else if(65535<O.length)for(H=0;H<T;H+=4)y[f+H>>>2]=O[H>>>2];else y.push.apply(y,O);return this.sigBytes+=T,this},clamp:function(){var T=this.words,y=this.sigBytes;T[y>>>2]&=4294967295<<32-8*(y%4),T.length=R.ceil(y/4)},clone:function(){var T=j.clone.call(this);return T.words=this.words.slice(0),T},random:function(T){for(var y=[],O=0;O<T;O+=4)y.push(4294967296*R.random()|0);return new Q.init(y,T)}}),J=ee.enc={},M=J.Hex={stringify:function(T){var y=T.words;T=T.sigBytes;for(var O=[],f=0;f<T;f++){var H=y[f>>>2]>>>24-8*(f%4)&255;O.push((H>>>4).toString(16)),O.push((H&15).toString(16))}return O.join("")},parse:function(T){for(var y=T.length,O=[],f=0;f<y;f+=2)O[f>>>3]|=parseInt(T.substr(f,2),16)<<24-4*(f%8);return new Q.init(O,y/2)}},L=J.Latin1={stringify:function(T){var y=T.words;T=T.sigBytes;for(var O=[],f=0;f<T;f++)O.push(String.fromCharCode(y[f>>>2]>>>24-8*(f%4)&255));return O.join("")},parse:function(T){for(var y=T.length,O=[],f=0;f<y;f++)O[f>>>2]|=(T.charCodeAt(f)&255)<<24-8*(f%4);return new Q.init(O,y)}},ie=J.Utf8={stringify:function(T){try{return decodeURIComponent(escape(L.stringify(T)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(T){return L.parse(unescape(encodeURIComponent(T)))}},W=N.BufferedBlockAlgorithm=j.extend({reset:function(){this._data=new Q.init,this._nDataBytes=0},_append:function(T){typeof T=="string"&&(T=ie.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},_process:function(T){var y=this._data,O=y.words,f=y.sigBytes,H=this.blockSize,_=f/(4*H),_=T?R.ceil(_):R.max((_|0)-this._minBufferSize,0);if(T=_*H,f=R.min(4*T,f),T){for(var F=0;F<T;F+=H)this._doProcessBlock(O,F);F=O.splice(0,T),y.sigBytes-=f}return new Q.init(F,f)},clone:function(){var T=j.clone.call(this);return T._data=this._data.clone(),T},_minBufferSize:0});N.Hasher=W.extend({cfg:j.extend(),init:function(T){this.cfg=this.cfg.extend(T),this.reset()},reset:function(){W.reset.call(this),this._doReset()},update:function(T){return this._append(T),this._process(),this},finalize:function(T){return T&&this._append(T),this._doFinalize()},blockSize:16,_createHelper:function(T){return function(y,O){return new T.init(O).finalize(y)}},_createHmacHelper:function(T){return function(y,O){return new xe.HMAC.init(T,O).finalize(y)}}});var xe=ee.algo={};return ee}(Math);(function(){var R=Y,A=R.lib,K=A.WordArray,ee=A.Hasher,N=[],A=R.algo.SHA1=ee.extend({_doReset:function(){this._hash=new K.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Q,J){for(var M=this._hash.words,L=M[0],ie=M[1],W=M[2],xe=M[3],U=M[4],T=0;80>T;T++){if(16>T)N[T]=Q[J+T]|0;else{var y=N[T-3]^N[T-8]^N[T-14]^N[T-16];N[T]=y<<1|y>>>31}y=(L<<5|L>>>27)+U+N[T],y=20>T?y+((ie&W|~ie&xe)+1518500249):40>T?y+((ie^W^xe)+1859775393):60>T?y+((ie&W|ie&xe|W&xe)-1894007588):y+((ie^W^xe)-899497514),U=xe,xe=W,W=ie<<30|ie>>>2,ie=L,L=y}M[0]=M[0]+L|0,M[1]=M[1]+ie|0,M[2]=M[2]+W|0,M[3]=M[3]+xe|0,M[4]=M[4]+U|0},_doFinalize:function(){var Q=this._data,J=Q.words,M=8*this._nDataBytes,L=8*Q.sigBytes;return J[L>>>5]|=128<<24-L%32,J[(L+64>>>9<<4)+14]=Math.floor(M/4294967296),J[(L+64>>>9<<4)+15]=M,Q.sigBytes=4*J.length,this._process(),this._hash},clone:function(){var Q=ee.clone.call(this);return Q._hash=this._hash.clone(),Q}});R.SHA1=ee._createHelper(A),R.HmacSHA1=ee._createHmacHelper(A)})(),function(){var R=Y,K=R.enc.Utf8;R.algo.HMAC=R.lib.Base.extend({init:function(N,A){N=this._hasher=new N.init,typeof A=="string"&&(A=K.parse(A));var j=N.blockSize,Q=4*j;A.sigBytes>Q&&(A=N.finalize(A)),A.clamp();for(var J=this._oKey=A.clone(),M=this._iKey=A.clone(),L=J.words,ie=M.words,W=0;W<j;W++)L[W]^=1549556828,ie[W]^=909522486;J.sigBytes=M.sigBytes=Q,this.reset()},reset:function(){var N=this._hasher;N.reset(),N.update(this._iKey)},update:function(N){return this._hasher.update(N),this},finalize:function(N){var A=this._hasher;return N=A.finalize(N),A.reset(),A.finalize(this._oKey.clone().concat(N))}})}(),function(){var R=Y,K=R.lib,ee=K.WordArray,N=R.enc;N.Base64={stringify:function(j){var Q=j.words,J=j.sigBytes,M=this._map;j.clamp();for(var L=[],ie=0;ie<J;ie+=3)for(var W=Q[ie>>>2]>>>24-ie%4*8&255,xe=Q[ie+1>>>2]>>>24-(ie+1)%4*8&255,U=Q[ie+2>>>2]>>>24-(ie+2)%4*8&255,T=W<<16|xe<<8|U,y=0;y<4&&ie+y*.75<J;y++)L.push(M.charAt(T>>>6*(3-y)&63));var O=M.charAt(64);if(O)for(;L.length%4;)L.push(O);return L.join("")},parse:function(j){var Q=j.length,J=this._map,M=J.charAt(64);if(M){var L=j.indexOf(M);L!=-1&&(Q=L)}for(var ie=[],W=0,xe=0;xe<Q;xe++)if(xe%4){var U=J.indexOf(j.charAt(xe-1))<<xe%4*2,T=J.indexOf(j.charAt(xe))>>>6-xe%4*2;ie[W>>>2]|=(U|T)<<24-W%4*8,W++}return ee.create(ie,W)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n(g)==="object"?g.exports=Y:window.CryptoJS=Y}).call(this,i("./node_modules/webpack/buildin/module.js")(v))},"./lib/json2xml.js":function(v,S,i){var g=i("./node_modules/@babel/runtime/helpers/typeof.js"),n="a-zA-Z_\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FFF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD",Y="-.0-9\xB7\u0300-\u036F\u203F\u2040",R=new RegExp("^([^"+n+"])|^((x|X)(m|M)(l|L))|([^"+n+Y+"])","g"),K=/[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm,ee=function(J){var M=[];if(J instanceof Object)for(var L in J)J.hasOwnProperty(L)&&M.push(L);return M},N=function(J,M){var L=function(W,xe,U,T,y){var O=M.indent!==void 0?M.indent:"	",f=M.prettyPrint?`
`+new Array(T).join(O):"";M.removeIllegalNameCharacters&&(W=W.replace(R,"_"));var H=[f,"<",W,U||""];return xe&&xe.length>0?(H.push(">"),H.push(xe),y&&H.push(f),H.push("</"),H.push(W),H.push(">")):H.push("/>"),H.join("")};return function ie(W,xe,U){var T=g(W);switch((Array.isArray?Array.isArray(W):W instanceof Array)?T="array":W instanceof Date&&(T="date"),T){case"array":var y=[];return W.map(function(_){y.push(ie(_,1,U+1))}),M.prettyPrint&&y.push(`
`),y.join("");case"date":return W.toJSON?W.toJSON():W+"";case"object":var O=[];for(var f in W)if(W.hasOwnProperty(f))if(W[f]instanceof Array)for(var H=0;H<W[f].length;H++)W[f].hasOwnProperty(H)&&O.push(L(f,ie(W[f][H],0,U+1),null,U+1,ee(W[f][H]).length));else O.push(L(f,ie(W[f],0,U+1),null,U+1));return M.prettyPrint&&O.length>0&&O.push(`
`),O.join("");case"function":return W();default:return M.escape?j(W):""+W}}(J,0,0)},A=function(J){var M=['<?xml version="1.0" encoding="UTF-8"'];return J&&M.push(' standalone="yes"'),M.push("?>"),M.join("")};function j(Q){return(""+Q).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(K,"")}v.exports=function(Q,J){if(J||(J={xmlHeader:{standalone:!0},prettyPrint:!0,indent:"  ",escape:!0}),typeof Q=="string")try{Q=JSON.parse(Q.toString())}catch{return!1}var M="",L="";J&&(g(J)=="object"?(J.xmlHeader&&(M=A(!!J.xmlHeader.standalone)),typeof J.docType<"u"&&(L="<!DOCTYPE "+J.docType+">")):M=A()),J=J||{};var ie=[M,J.prettyPrint&&L?`
`:"",L,N(Q,J)];return ie.join("").replace(/\n{2,}/g,`
`).replace(/\s+$/g,"")}},"./lib/md5.js":function(module,exports,__webpack_require__){(function(process,global,module){var __WEBPACK_AMD_DEFINE_RESULT__,_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");(function(){var ERROR="input is invalid type",WINDOW=(typeof window>"u"?"undefined":_typeof(window))==="object",root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&(typeof self>"u"?"undefined":_typeof(self))==="object",NODE_JS=!root.JS_MD5_NO_NODE_JS&&(typeof process>"u"?"undefined":_typeof(process))==="object"&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&_typeof(module)==="object"&&module.exports,AMD=__webpack_require__("./node_modules/webpack/buildin/amd-options.js"),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}(root.JS_MD5_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(v){return Object.prototype.toString.call(v)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(v){return _typeof(v)==="object"&&v.buffer&&v.buffer.constructor===ArrayBuffer});var createOutputMethod=function(S){return function(i,g){return new Md5(!0).update(i,g)[S]()}},createMethod=function(){var S=createOutputMethod("hex");NODE_JS&&(S=nodeWrap(S)),S.getCtx=S.create=function(){return new Md5},S.update=function(n){return S.create().update(n)};for(var i=0;i<OUTPUT_TYPES.length;++i){var g=OUTPUT_TYPES[i];S[g]=createOutputMethod(g)}return S},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function v(S){if(typeof S=="string")return crypto.createHash("md5").update(S,"utf8").digest("hex");if(S==null)throw ERROR;return S.constructor===ArrayBuffer&&(S=new Uint8Array(S)),Array.isArray(S)||ArrayBuffer.isView(S)||S.constructor===Buffer?crypto.createHash("md5").update(new Buffer(S)).digest("hex"):method(S)};return nodeMethod};function Md5(v){if(v)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var S=new ArrayBuffer(68);this.buffer8=new Uint8Array(S),this.blocks=new Uint32Array(S)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(v,S){if(!this.finalized){for(var i,g=0,n,Y=v.length,R=this.blocks,K=this.buffer8;g<Y;){if(this.hashed&&(this.hashed=!1,R[0]=R[16],R[16]=R[1]=R[2]=R[3]=R[4]=R[5]=R[6]=R[7]=R[8]=R[9]=R[10]=R[11]=R[12]=R[13]=R[14]=R[15]=0),ARRAY_BUFFER)for(n=this.start;g<Y&&n<64;++g)i=v.charCodeAt(g),S||i<128?K[n++]=i:i<2048?(K[n++]=192|i>>6,K[n++]=128|i&63):i<55296||i>=57344?(K[n++]=224|i>>12,K[n++]=128|i>>6&63,K[n++]=128|i&63):(i=65536+((i&1023)<<10|v.charCodeAt(++g)&1023),K[n++]=240|i>>18,K[n++]=128|i>>12&63,K[n++]=128|i>>6&63,K[n++]=128|i&63);else for(n=this.start;g<Y&&n<64;++g)i=v.charCodeAt(g),S||i<128?R[n>>2]|=i<<SHIFT[n++&3]:i<2048?(R[n>>2]|=(192|i>>6)<<SHIFT[n++&3],R[n>>2]|=(128|i&63)<<SHIFT[n++&3]):i<55296||i>=57344?(R[n>>2]|=(224|i>>12)<<SHIFT[n++&3],R[n>>2]|=(128|i>>6&63)<<SHIFT[n++&3],R[n>>2]|=(128|i&63)<<SHIFT[n++&3]):(i=65536+((i&1023)<<10|v.charCodeAt(++g)&1023),R[n>>2]|=(240|i>>18)<<SHIFT[n++&3],R[n>>2]|=(128|i>>12&63)<<SHIFT[n++&3],R[n>>2]|=(128|i>>6&63)<<SHIFT[n++&3],R[n>>2]|=(128|i&63)<<SHIFT[n++&3]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var v=this.blocks,S=this.lastByteIndex;v[S>>2]|=EXTRA[S&3],S>=56&&(this.hashed||this.hash(),v[0]=v[16],v[16]=v[1]=v[2]=v[3]=v[4]=v[5]=v[6]=v[7]=v[8]=v[9]=v[10]=v[11]=v[12]=v[13]=v[14]=v[15]=0),v[14]=this.bytes<<3,v[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var v,S,i,g,n,Y,R=this.blocks;this.first?(v=R[0]-680876937,v=(v<<7|v>>>25)-271733879<<0,g=(-1732584194^v&2004318071)+R[1]-117830708,g=(g<<12|g>>>20)+v<<0,i=(-271733879^g&(v^-271733879))+R[2]-1126478375,i=(i<<17|i>>>15)+g<<0,S=(v^i&(g^v))+R[3]-1316259209,S=(S<<22|S>>>10)+i<<0):(v=this.h0,S=this.h1,i=this.h2,g=this.h3,v+=(g^S&(i^g))+R[0]-680876936,v=(v<<7|v>>>25)+S<<0,g+=(i^v&(S^i))+R[1]-389564586,g=(g<<12|g>>>20)+v<<0,i+=(S^g&(v^S))+R[2]+606105819,i=(i<<17|i>>>15)+g<<0,S+=(v^i&(g^v))+R[3]-1044525330,S=(S<<22|S>>>10)+i<<0),v+=(g^S&(i^g))+R[4]-176418897,v=(v<<7|v>>>25)+S<<0,g+=(i^v&(S^i))+R[5]+1200080426,g=(g<<12|g>>>20)+v<<0,i+=(S^g&(v^S))+R[6]-1473231341,i=(i<<17|i>>>15)+g<<0,S+=(v^i&(g^v))+R[7]-45705983,S=(S<<22|S>>>10)+i<<0,v+=(g^S&(i^g))+R[8]+1770035416,v=(v<<7|v>>>25)+S<<0,g+=(i^v&(S^i))+R[9]-1958414417,g=(g<<12|g>>>20)+v<<0,i+=(S^g&(v^S))+R[10]-42063,i=(i<<17|i>>>15)+g<<0,S+=(v^i&(g^v))+R[11]-1990404162,S=(S<<22|S>>>10)+i<<0,v+=(g^S&(i^g))+R[12]+1804603682,v=(v<<7|v>>>25)+S<<0,g+=(i^v&(S^i))+R[13]-40341101,g=(g<<12|g>>>20)+v<<0,i+=(S^g&(v^S))+R[14]-1502002290,i=(i<<17|i>>>15)+g<<0,S+=(v^i&(g^v))+R[15]+1236535329,S=(S<<22|S>>>10)+i<<0,v+=(i^g&(S^i))+R[1]-165796510,v=(v<<5|v>>>27)+S<<0,g+=(S^i&(v^S))+R[6]-1069501632,g=(g<<9|g>>>23)+v<<0,i+=(v^S&(g^v))+R[11]+643717713,i=(i<<14|i>>>18)+g<<0,S+=(g^v&(i^g))+R[0]-373897302,S=(S<<20|S>>>12)+i<<0,v+=(i^g&(S^i))+R[5]-701558691,v=(v<<5|v>>>27)+S<<0,g+=(S^i&(v^S))+R[10]+38016083,g=(g<<9|g>>>23)+v<<0,i+=(v^S&(g^v))+R[15]-660478335,i=(i<<14|i>>>18)+g<<0,S+=(g^v&(i^g))+R[4]-405537848,S=(S<<20|S>>>12)+i<<0,v+=(i^g&(S^i))+R[9]+568446438,v=(v<<5|v>>>27)+S<<0,g+=(S^i&(v^S))+R[14]-1019803690,g=(g<<9|g>>>23)+v<<0,i+=(v^S&(g^v))+R[3]-187363961,i=(i<<14|i>>>18)+g<<0,S+=(g^v&(i^g))+R[8]+1163531501,S=(S<<20|S>>>12)+i<<0,v+=(i^g&(S^i))+R[13]-1444681467,v=(v<<5|v>>>27)+S<<0,g+=(S^i&(v^S))+R[2]-51403784,g=(g<<9|g>>>23)+v<<0,i+=(v^S&(g^v))+R[7]+1735328473,i=(i<<14|i>>>18)+g<<0,S+=(g^v&(i^g))+R[12]-1926607734,S=(S<<20|S>>>12)+i<<0,n=S^i,v+=(n^g)+R[5]-378558,v=(v<<4|v>>>28)+S<<0,g+=(n^v)+R[8]-2022574463,g=(g<<11|g>>>21)+v<<0,Y=g^v,i+=(Y^S)+R[11]+1839030562,i=(i<<16|i>>>16)+g<<0,S+=(Y^i)+R[14]-35309556,S=(S<<23|S>>>9)+i<<0,n=S^i,v+=(n^g)+R[1]-1530992060,v=(v<<4|v>>>28)+S<<0,g+=(n^v)+R[4]+1272893353,g=(g<<11|g>>>21)+v<<0,Y=g^v,i+=(Y^S)+R[7]-155497632,i=(i<<16|i>>>16)+g<<0,S+=(Y^i)+R[10]-1094730640,S=(S<<23|S>>>9)+i<<0,n=S^i,v+=(n^g)+R[13]+681279174,v=(v<<4|v>>>28)+S<<0,g+=(n^v)+R[0]-358537222,g=(g<<11|g>>>21)+v<<0,Y=g^v,i+=(Y^S)+R[3]-722521979,i=(i<<16|i>>>16)+g<<0,S+=(Y^i)+R[6]+76029189,S=(S<<23|S>>>9)+i<<0,n=S^i,v+=(n^g)+R[9]-640364487,v=(v<<4|v>>>28)+S<<0,g+=(n^v)+R[12]-421815835,g=(g<<11|g>>>21)+v<<0,Y=g^v,i+=(Y^S)+R[15]+530742520,i=(i<<16|i>>>16)+g<<0,S+=(Y^i)+R[2]-995338651,S=(S<<23|S>>>9)+i<<0,v+=(i^(S|~g))+R[0]-198630844,v=(v<<6|v>>>26)+S<<0,g+=(S^(v|~i))+R[7]+1126891415,g=(g<<10|g>>>22)+v<<0,i+=(v^(g|~S))+R[14]-1416354905,i=(i<<15|i>>>17)+g<<0,S+=(g^(i|~v))+R[5]-57434055,S=(S<<21|S>>>11)+i<<0,v+=(i^(S|~g))+R[12]+1700485571,v=(v<<6|v>>>26)+S<<0,g+=(S^(v|~i))+R[3]-1894986606,g=(g<<10|g>>>22)+v<<0,i+=(v^(g|~S))+R[10]-1051523,i=(i<<15|i>>>17)+g<<0,S+=(g^(i|~v))+R[1]-2054922799,S=(S<<21|S>>>11)+i<<0,v+=(i^(S|~g))+R[8]+1873313359,v=(v<<6|v>>>26)+S<<0,g+=(S^(v|~i))+R[15]-30611744,g=(g<<10|g>>>22)+v<<0,i+=(v^(g|~S))+R[6]-1560198380,i=(i<<15|i>>>17)+g<<0,S+=(g^(i|~v))+R[13]+1309151649,S=(S<<21|S>>>11)+i<<0,v+=(i^(S|~g))+R[4]-145523070,v=(v<<6|v>>>26)+S<<0,g+=(S^(v|~i))+R[11]-1120210379,g=(g<<10|g>>>22)+v<<0,i+=(v^(g|~S))+R[2]+718787259,i=(i<<15|i>>>17)+g<<0,S+=(g^(i|~v))+R[9]-343485551,S=(S<<21|S>>>11)+i<<0,this.first?(this.h0=v+1732584193<<0,this.h1=S-271733879<<0,this.h2=i-1732584194<<0,this.h3=g+271733878<<0,this.first=!1):(this.h0=this.h0+v<<0,this.h1=this.h1+S<<0,this.h2=this.h2+i<<0,this.h3=this.h3+g<<0)},Md5.prototype.hex=function(){this.finalize();var v=this.h0,S=this.h1,i=this.h2,g=this.h3;return HEX_CHARS[v>>4&15]+HEX_CHARS[v&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[S>>4&15]+HEX_CHARS[S&15]+HEX_CHARS[S>>12&15]+HEX_CHARS[S>>8&15]+HEX_CHARS[S>>20&15]+HEX_CHARS[S>>16&15]+HEX_CHARS[S>>28&15]+HEX_CHARS[S>>24&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[g>>4&15]+HEX_CHARS[g&15]+HEX_CHARS[g>>12&15]+HEX_CHARS[g>>8&15]+HEX_CHARS[g>>20&15]+HEX_CHARS[g>>16&15]+HEX_CHARS[g>>28&15]+HEX_CHARS[g>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(v){if(v==="hex")return this.hex();this.finalize();var S=this.h0,i=this.h1,g=this.h2,n=this.h3,Y=[S&255,S>>8&255,S>>16&255,S>>24&255,i&255,i>>8&255,i>>16&255,i>>24&255,g&255,g>>8&255,g>>16&255,g>>24&255,n&255,n>>8&255,n>>16&255,n>>24&255];return Y},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var v=new ArrayBuffer(16),S=new Uint32Array(v);return S[0]=this.h0,S[1]=this.h1,S[2]=this.h2,S[3]=this.h3,v},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var v,S,i,g="",n=this.array(),Y=0;Y<15;)v=n[Y++],S=n[Y++],i=n[Y++],g+=BASE64_ENCODE_CHAR[v>>>2]+BASE64_ENCODE_CHAR[(v<<4|S>>>4)&63]+BASE64_ENCODE_CHAR[(S<<2|i>>>6)&63]+BASE64_ENCODE_CHAR[i&63];return v=n[Y],g+=BASE64_ENCODE_CHAR[v>>>2]+BASE64_ENCODE_CHAR[v<<4&63]+"==",g};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==void 0&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}).call(this,__webpack_require__("./node_modules/process/browser.js"),__webpack_require__("./node_modules/webpack/buildin/global.js"),__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./lib/request.js":function(v,S,i){var g=i("./node_modules/@babel/runtime/helpers/typeof.js"),n=function(A){switch(g(A)){case"string":return A;case"boolean":return A?"true":"false";case"number":return isFinite(A)?A:"";default:return""}},Y=function(A,j,Q,J){return j=j||"&",Q=Q||"=",A===null&&(A=void 0),g(A)==="object"?Object.keys(A).map(function(M){var L=encodeURIComponent(n(M))+Q;return Array.isArray(A[M])?A[M].map(function(ie){return L+encodeURIComponent(n(ie))}).join(j):L+encodeURIComponent(n(A[M]))}).filter(Boolean).join(j):J?encodeURIComponent(n(J))+Q+encodeURIComponent(n(A)):""},R=function(A,j,Q){var J={};return j.getAllResponseHeaders().trim().split(`
`).forEach(function(M){if(M){var L=M.indexOf(":"),ie=M.substr(0,L).trim().toLowerCase(),W=M.substr(L+1).trim();J[ie]=W}}),{error:A,statusCode:j.status,statusMessage:j.statusText,headers:J,body:Q}},K=function(A,j){return!j&&j==="text"?A.responseText:A.response},ee=function(A,j){var Q=(A.method||"GET").toUpperCase(),J=A.url;if(A.qs){var M=Y(A.qs);M&&(J+=(J.indexOf("?")===-1?"?":"&")+M)}var L=new XMLHttpRequest;if(L.open(Q,J,!0),L.responseType=A.dataType||"text",A.xhrFields)for(var ie in A.xhrFields)L[ie]=A.xhrFields[ie];var W=A.headers;if(W)for(var xe in W)W.hasOwnProperty(xe)&&xe.toLowerCase()!=="content-length"&&xe.toLowerCase()!=="user-agent"&&xe.toLowerCase()!=="origin"&&xe.toLowerCase()!=="host"&&L.setRequestHeader(xe,W[xe]);return A.onProgress&&L.upload&&(L.upload.onprogress=A.onProgress),A.onDownloadProgress&&(L.onprogress=A.onDownloadProgress),A.timeout&&(L.timeout=A.timeout),L.ontimeout=function(U){var T=new Error("timeout");j(R(T,L))},L.onload=function(){j(R(null,L,K(L,A.dataType)))},L.onerror=function(U){var T=K(L,A.dataType);if(T)j(R(null,L,T));else{var y=L.statusText;!y&&L.status===0&&(y=new Error("CORS blocked or network error")),j(R(y,L,T))}},L.send(A.body||""),L};v.exports=ee},"./lib/xml2json.js":function(v,S,i){var g=i("./node_modules/@xmldom/xmldom/lib/index.js").DOMParser,n=function(){this.version="1.3.5";var R={mergeCDATA:!0,normalize:!0,stripElemPrefix:!0},K=new RegExp(/(?!xmlns)^.*:/);return this.grokType=function(ee){return/^\s*$/.test(ee)?null:/^(?:true|false)$/i.test(ee)?ee.toLowerCase()==="true":isFinite(ee)?parseFloat(ee):ee},this.parseString=function(ee,N){if(ee){var A=this.stringToXML(ee);return A.getElementsByTagName("parsererror").length?null:this.parseXML(A,N)}else return null},this.parseXML=function(ee,N){for(var A in N)R[A]=N[A];var j={},Q=0,J="",M=ee.childNodes.length;if(M)for(var L,ie,W,xe=0;xe<ee.childNodes.length;xe++)L=ee.childNodes.item(xe),L.nodeType===4?R.mergeCDATA&&(J+=L.nodeValue):L.nodeType===3?J+=L.nodeValue:L.nodeType===1&&(Q===0&&(j={}),R.stripElemPrefix?ie=L.nodeName.replace(K,""):ie=L.nodeName,W=n.parseXML(L),j.hasOwnProperty(ie)?(j[ie].constructor!==Array&&(j[ie]=[j[ie]]),j[ie].push(W)):(j[ie]=W,Q++));return Object.keys(j).length||(j=J||""),j},this.xmlToString=function(ee){try{var N=ee.xml?ee.xml:new XMLSerializer().serializeToString(ee);return N}catch{return null}},this.stringToXML=function(ee){try{var N=null;if(window.DOMParser){var A=new g;return N=A.parseFromString(ee,"text/xml"),N}else return N=new ActiveXObject("Microsoft.XMLDOM"),N.async=!1,N.loadXML(ee),N}catch{return null}},this}.call({}),Y=function(K){return n.parseString(K)};v.exports=Y},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(v,S){function i(g,n){if(!(g instanceof n))throw new TypeError("Cannot call a class as a function")}v.exports=i,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/createClass.js":function(v,S){function i(n,Y){for(var R=0;R<Y.length;R++){var K=Y[R];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(n,K.key,K)}}function g(n,Y,R){return Y&&i(n.prototype,Y),R&&i(n,R),Object.defineProperty(n,"prototype",{writable:!1}),n}v.exports=g,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/typeof.js":function(v,S){function i(g){return v.exports=i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},v.exports.__esModule=!0,v.exports.default=v.exports,i(g)}v.exports=i,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@xmldom/xmldom/lib/conventions.js":function(v,S,i){function g(K,ee){return ee===void 0&&(ee=Object),ee&&typeof ee.freeze=="function"?ee.freeze(K):K}function n(K,ee){if(K===null||typeof K!="object")throw new TypeError("target is not an object");for(var N in ee)Object.prototype.hasOwnProperty.call(ee,N)&&(K[N]=ee[N]);return K}var Y=g({HTML:"text/html",isHTML:function(K){return K===Y.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),R=g({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(K){return K===R.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});S.assign=n,S.freeze=g,S.MIME_TYPE=Y,S.NAMESPACE=R},"./node_modules/@xmldom/xmldom/lib/dom-parser.js":function(v,S,i){var g=i("./node_modules/@xmldom/xmldom/lib/conventions.js"),n=i("./node_modules/@xmldom/xmldom/lib/dom.js"),Y=i("./node_modules/@xmldom/xmldom/lib/entities.js"),R=i("./node_modules/@xmldom/xmldom/lib/sax.js"),K=n.DOMImplementation,ee=g.NAMESPACE,N=R.ParseError,A=R.XMLReader;function j(U){return U.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function Q(U){this.options=U||{locator:{}}}Q.prototype.parseFromString=function(U,T){var y=this.options,O=new A,f=y.domBuilder||new M,H=y.errorHandler,_=y.locator,F=y.xmlns||{},Se=/\/x?html?$/.test(T),b=Se?Y.HTML_ENTITIES:Y.XML_ENTITIES;_&&f.setDocumentLocator(_),O.errorHandler=J(H,f,_),O.domBuilder=y.domBuilder||f,Se&&(F[""]=ee.HTML),F.xml=F.xml||ee.XML;var q=y.normalizeLineEndings||j;return U&&typeof U=="string"?O.parse(q(U),F,b):O.errorHandler.error("invalid doc source"),f.doc};function J(U,T,y){if(!U){if(T instanceof M)return T;U=T}var O={},f=U instanceof Function;y=y||{};function H(_){var F=U[_];!F&&f&&(F=U.length==2?function(Se){U(_,Se)}:U),O[_]=F&&function(Se){F("[xmldom "+_+"]	"+Se+ie(y))}||function(){}}return H("warning"),H("error"),H("fatalError"),O}function M(){this.cdata=!1}function L(U,T){T.lineNumber=U.lineNumber,T.columnNumber=U.columnNumber}M.prototype={startDocument:function(){this.doc=new K().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(U,T,y,O){var f=this.doc,H=f.createElementNS(U,y||T),_=O.length;xe(this,H),this.currentElement=H,this.locator&&L(this.locator,H);for(var F=0;F<_;F++){var U=O.getURI(F),Se=O.getValue(F),y=O.getQName(F),b=f.createAttributeNS(U,y);this.locator&&L(O.getLocator(F),b),b.value=b.nodeValue=Se,H.setAttributeNode(b)}},endElement:function(U,T,y){var O=this.currentElement;O.tagName,this.currentElement=O.parentNode},startPrefixMapping:function(U,T){},endPrefixMapping:function(U){},processingInstruction:function(U,T){var y=this.doc.createProcessingInstruction(U,T);this.locator&&L(this.locator,y),xe(this,y)},ignorableWhitespace:function(U,T,y){},characters:function(U,T,y){if(U=W.apply(this,arguments),U){if(this.cdata)var O=this.doc.createCDATASection(U);else var O=this.doc.createTextNode(U);this.currentElement?this.currentElement.appendChild(O):/^\s*$/.test(U)&&this.doc.appendChild(O),this.locator&&L(this.locator,O)}},skippedEntity:function(U){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(U){(this.locator=U)&&(U.lineNumber=0)},comment:function(U,T,y){U=W.apply(this,arguments);var O=this.doc.createComment(U);this.locator&&L(this.locator,O),xe(this,O)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(U,T,y){var O=this.doc.implementation;if(O&&O.createDocumentType){var f=O.createDocumentType(U,T,y);this.locator&&L(this.locator,f),xe(this,f),this.doc.doctype=f}},warning:function(U){console.warn("[xmldom warning]	"+U,ie(this.locator))},error:function(U){console.error("[xmldom error]	"+U,ie(this.locator))},fatalError:function(U){throw new N(U,this.locator)}};function ie(U){if(U)return`
@`+(U.systemId||"")+"#[line:"+U.lineNumber+",col:"+U.columnNumber+"]"}function W(U,T,y){return typeof U=="string"?U.substr(T,y):U.length>=T+y||T?new java.lang.String(U,T,y)+"":U}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(U){M.prototype[U]=function(){return null}});function xe(U,T){U.currentElement?U.currentElement.appendChild(T):U.doc.appendChild(T)}S.__DOMHandler=M,S.normalizeLineEndings=j,S.DOMParser=Q},"./node_modules/@xmldom/xmldom/lib/dom.js":function(v,S,i){var g=i("./node_modules/@xmldom/xmldom/lib/conventions.js"),n=g.NAMESPACE;function Y(r){return r!==""}function R(r){return r?r.split(/[\t\n\f\r ]+/).filter(Y):[]}function K(r,a){return r.hasOwnProperty(a)||(r[a]=!0),r}function ee(r){if(!r)return[];var a=R(r);return Object.keys(a.reduce(K,{}))}function N(r){return function(a){return r&&r.indexOf(a)!==-1}}function A(r,a){for(var C in r)a[C]=r[C]}function j(r,a){var C=r.prototype;if(!(C instanceof a)){let w=function(){};w.prototype=a.prototype,w=new w,A(C,w),r.prototype=C=w}C.constructor!=r&&(typeof r!="function"&&console.error("unknown Class:"+r),C.constructor=r)}var Q={},J=Q.ELEMENT_NODE=1,M=Q.ATTRIBUTE_NODE=2,L=Q.TEXT_NODE=3,ie=Q.CDATA_SECTION_NODE=4,W=Q.ENTITY_REFERENCE_NODE=5,xe=Q.ENTITY_NODE=6,U=Q.PROCESSING_INSTRUCTION_NODE=7,T=Q.COMMENT_NODE=8,y=Q.DOCUMENT_NODE=9,O=Q.DOCUMENT_TYPE_NODE=10,f=Q.DOCUMENT_FRAGMENT_NODE=11,H=Q.NOTATION_NODE=12,_={},F={};_.INDEX_SIZE_ERR=(F[1]="Index size error",1),_.DOMSTRING_SIZE_ERR=(F[2]="DOMString size error",2);var Se=_.HIERARCHY_REQUEST_ERR=(F[3]="Hierarchy request error",3);_.WRONG_DOCUMENT_ERR=(F[4]="Wrong document",4),_.INVALID_CHARACTER_ERR=(F[5]="Invalid character",5),_.NO_DATA_ALLOWED_ERR=(F[6]="No data allowed",6),_.NO_MODIFICATION_ALLOWED_ERR=(F[7]="No modification allowed",7);var b=_.NOT_FOUND_ERR=(F[8]="Not found",8);_.NOT_SUPPORTED_ERR=(F[9]="Not supported",9);var q=_.INUSE_ATTRIBUTE_ERR=(F[10]="Attribute in use",10);_.INVALID_STATE_ERR=(F[11]="Invalid state",11),_.SYNTAX_ERR=(F[12]="Syntax error",12),_.INVALID_MODIFICATION_ERR=(F[13]="Invalid modification",13),_.NAMESPACE_ERR=(F[14]="Invalid namespace",14),_.INVALID_ACCESS_ERR=(F[15]="Invalid access",15);function z(r,a){if(a instanceof Error)var C=a;else C=this,Error.call(this,F[r]),this.message=F[r],Error.captureStackTrace&&Error.captureStackTrace(this,z);return C.code=r,a&&(this.message=this.message+": "+a),C}z.prototype=Error.prototype,A(_,z);function $(){}$.prototype={length:0,item:function(r){return this[r]||null},toString:function(r,a){for(var C=[],w=0;w<this.length;w++)ne(this[w],C,r,a);return C.join("")}};function re(r,a){this._node=r,this._refresh=a,ce(this)}function ce(r){var a=r._node._inc||r._node.ownerDocument._inc;if(r._inc!=a){var C=r._refresh(r._node);Oe(r,"length",C.length),A(C,r),r._inc=a}}re.prototype.item=function(r){return ce(this),this[r]},j(re,$);function ge(){}function ye(r,a){for(var C=r.length;C--;)if(r[C]===a)return C}function oe(r,a,C,w){if(w?a[ye(a,w)]=C:a[a.length++]=C,r){C.ownerElement=r;var V=r.ownerDocument;V&&(w&&Ee(V,r,w),De(V,r,C))}}function pe(r,a,C){var w=ye(a,C);if(w>=0){for(var V=a.length-1;w<V;)a[w]=a[++w];if(a.length=V,r){var le=r.ownerDocument;le&&(Ee(le,r,C),C.ownerElement=null)}}else throw z(b,new Error(r.tagName+"@"+C))}ge.prototype={length:0,item:$.prototype.item,getNamedItem:function(r){for(var a=this.length;a--;){var C=this[a];if(C.nodeName==r)return C}},setNamedItem:function(r){var a=r.ownerElement;if(a&&a!=this._ownerElement)throw new z(q);var C=this.getNamedItem(r.nodeName);return oe(this._ownerElement,this,r,C),C},setNamedItemNS:function(r){var a=r.ownerElement,C;if(a&&a!=this._ownerElement)throw new z(q);return C=this.getNamedItemNS(r.namespaceURI,r.localName),oe(this._ownerElement,this,r,C),C},removeNamedItem:function(r){var a=this.getNamedItem(r);return pe(this._ownerElement,this,a),a},removeNamedItemNS:function(r,a){var C=this.getNamedItemNS(r,a);return pe(this._ownerElement,this,C),C},getNamedItemNS:function(r,a){for(var C=this.length;C--;){var w=this[C];if(w.localName==a&&w.namespaceURI==r)return w}return null}};function ve(){}ve.prototype={hasFeature:function(r,a){return!0},createDocument:function(r,a,C){var w=new Te;if(w.implementation=this,w.childNodes=new $,w.doctype=C||null,C&&w.appendChild(C),a){var V=w.createElementNS(r,a);w.appendChild(V)}return w},createDocumentType:function(r,a,C){var w=new ae;return w.name=r,w.nodeName=r,w.publicId=a||"",w.systemId=C||"",w}};function me(){}me.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(r,a){return Ue(this,r,a)},replaceChild:function(r,a){this.insertBefore(r,a),a&&this.removeChild(a)},removeChild:function(r){return we(this,r)},appendChild:function(r){return this.insertBefore(r,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(r){return X(this.ownerDocument||this,this,r)},normalize:function(){for(var r=this.firstChild;r;){var a=r.nextSibling;a&&a.nodeType==L&&r.nodeType==L?(this.removeChild(a),r.appendData(a.data)):(r.normalize(),r=a)}},isSupported:function(r,a){return this.ownerDocument.implementation.hasFeature(r,a)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(r){for(var a=this;a;){var C=a._nsMap;if(C){for(var w in C)if(C[w]==r)return w}a=a.nodeType==M?a.ownerDocument:a.parentNode}return null},lookupNamespaceURI:function(r){for(var a=this;a;){var C=a._nsMap;if(C&&r in C)return C[r];a=a.nodeType==M?a.ownerDocument:a.parentNode}return null},isDefaultNamespace:function(r){var a=this.lookupPrefix(r);return a==null}};function fe(r){return r=="<"&&"&lt;"||r==">"&&"&gt;"||r=="&"&&"&amp;"||r=='"'&&"&quot;"||"&#"+r.charCodeAt()+";"}A(Q,me),A(Q,me.prototype);function se(r,a){if(a(r))return!0;if(r=r.firstChild)do if(se(r,a))return!0;while(r=r.nextSibling)}function Te(){}function De(r,a,C){r&&r._inc++;var w=C.namespaceURI;w===n.XMLNS&&(a._nsMap[C.prefix?C.localName:""]=C.value)}function Ee(r,a,C,w){r&&r._inc++;var V=C.namespaceURI;V===n.XMLNS&&delete a._nsMap[C.prefix?C.localName:""]}function be(r,a,C){if(r&&r._inc){r._inc++;var w=a.childNodes;if(C)w[w.length++]=C;else{for(var V=a.firstChild,le=0;V;)w[le++]=V,V=V.nextSibling;w.length=le,delete w[w.length]}}}function we(r,a){var C=a.previousSibling,w=a.nextSibling;return C?C.nextSibling=w:r.firstChild=w,w?w.previousSibling=C:r.lastChild=C,a.parentNode=null,a.previousSibling=null,a.nextSibling=null,be(r.ownerDocument,r),a}function Ue(r,a,C){var w=a.parentNode;if(w&&w.removeChild(a),a.nodeType===f){var V=a.firstChild;if(V==null)return a;var le=a.lastChild}else V=le=a;var Ie=C?C.previousSibling:r.lastChild;V.previousSibling=Ie,le.nextSibling=C,Ie?Ie.nextSibling=V:r.firstChild=V,C==null?r.lastChild=le:C.previousSibling=le;do V.parentNode=r;while(V!==le&&(V=V.nextSibling));return be(r.ownerDocument||r,r),a.nodeType==f&&(a.firstChild=a.lastChild=null),a}function Me(r,a){return a.parentNode&&a.parentNode.removeChild(a),a.parentNode=r,a.previousSibling=r.lastChild,a.nextSibling=null,a.previousSibling?a.previousSibling.nextSibling=a:r.firstChild=a,r.lastChild=a,be(r.ownerDocument,r,a),a}Te.prototype={nodeName:"#document",nodeType:y,doctype:null,documentElement:null,_inc:1,insertBefore:function(r,a){if(r.nodeType==f){for(var C=r.firstChild;C;){var w=C.nextSibling;this.insertBefore(C,a),C=w}return r}return this.documentElement==null&&r.nodeType==J&&(this.documentElement=r),Ue(this,r,a),r.ownerDocument=this,r},removeChild:function(r){return this.documentElement==r&&(this.documentElement=null),we(this,r)},importNode:function(r,a){return Ce(this,r,a)},getElementById:function(r){var a=null;return se(this.documentElement,function(C){if(C.nodeType==J&&C.getAttribute("id")==r)return a=C,!0}),a},getElementsByClassName:function(r){var a=ee(r);return new re(this,function(C){var w=[];return a.length>0&&se(C.documentElement,function(V){if(V!==C&&V.nodeType===J){var le=V.getAttribute("class");if(le){var Ie=r===le;if(!Ie){var Ne=ee(le);Ie=a.every(N(Ne))}Ie&&w.push(V)}}}),w})},createElement:function(r){var a=new Ae;a.ownerDocument=this,a.nodeName=r,a.tagName=r,a.localName=r,a.childNodes=new $;var C=a.attributes=new ge;return C._ownerElement=a,a},createDocumentFragment:function(){var r=new h;return r.ownerDocument=this,r.childNodes=new $,r},createTextNode:function(r){var a=new D;return a.ownerDocument=this,a.appendData(r),a},createComment:function(r){var a=new I;return a.ownerDocument=this,a.appendData(r),a},createCDATASection:function(r){var a=new ue;return a.ownerDocument=this,a.appendData(r),a},createProcessingInstruction:function(r,a){var C=new s;return C.ownerDocument=this,C.tagName=C.target=r,C.nodeValue=C.data=a,C},createAttribute:function(r){var a=new Z;return a.ownerDocument=this,a.name=r,a.nodeName=r,a.localName=r,a.specified=!0,a},createEntityReference:function(r){var a=new u;return a.ownerDocument=this,a.nodeName=r,a},createElementNS:function(r,a){var C=new Ae,w=a.split(":"),V=C.attributes=new ge;return C.childNodes=new $,C.ownerDocument=this,C.nodeName=a,C.tagName=a,C.namespaceURI=r,w.length==2?(C.prefix=w[0],C.localName=w[1]):C.localName=a,V._ownerElement=C,C},createAttributeNS:function(r,a){var C=new Z,w=a.split(":");return C.ownerDocument=this,C.nodeName=a,C.name=a,C.namespaceURI=r,C.specified=!0,w.length==2?(C.prefix=w[0],C.localName=w[1]):C.localName=a,C}},j(Te,me);function Ae(){this._nsMap={}}Ae.prototype={nodeType:J,hasAttribute:function(r){return this.getAttributeNode(r)!=null},getAttribute:function(r){var a=this.getAttributeNode(r);return a&&a.value||""},getAttributeNode:function(r){return this.attributes.getNamedItem(r)},setAttribute:function(r,a){var C=this.ownerDocument.createAttribute(r);C.value=C.nodeValue=""+a,this.setAttributeNode(C)},removeAttribute:function(r){var a=this.getAttributeNode(r);a&&this.removeAttributeNode(a)},appendChild:function(r){return r.nodeType===f?this.insertBefore(r,null):Me(this,r)},setAttributeNode:function(r){return this.attributes.setNamedItem(r)},setAttributeNodeNS:function(r){return this.attributes.setNamedItemNS(r)},removeAttributeNode:function(r){return this.attributes.removeNamedItem(r.nodeName)},removeAttributeNS:function(r,a){var C=this.getAttributeNodeNS(r,a);C&&this.removeAttributeNode(C)},hasAttributeNS:function(r,a){return this.getAttributeNodeNS(r,a)!=null},getAttributeNS:function(r,a){var C=this.getAttributeNodeNS(r,a);return C&&C.value||""},setAttributeNS:function(r,a,C){var w=this.ownerDocument.createAttributeNS(r,a);w.value=w.nodeValue=""+C,this.setAttributeNode(w)},getAttributeNodeNS:function(r,a){return this.attributes.getNamedItemNS(r,a)},getElementsByTagName:function(r){return new re(this,function(a){var C=[];return se(a,function(w){w!==a&&w.nodeType==J&&(r==="*"||w.tagName==r)&&C.push(w)}),C})},getElementsByTagNameNS:function(r,a){return new re(this,function(C){var w=[];return se(C,function(V){V!==C&&V.nodeType===J&&(r==="*"||V.namespaceURI===r)&&(a==="*"||V.localName==a)&&w.push(V)}),w})}},Te.prototype.getElementsByTagName=Ae.prototype.getElementsByTagName,Te.prototype.getElementsByTagNameNS=Ae.prototype.getElementsByTagNameNS,j(Ae,me);function Z(){}Z.prototype.nodeType=M,j(Z,me);function E(){}E.prototype={data:"",substringData:function(r,a){return this.data.substring(r,r+a)},appendData:function(r){r=this.data+r,this.nodeValue=this.data=r,this.length=r.length},insertData:function(r,a){this.replaceData(r,0,a)},appendChild:function(r){throw new Error(F[Se])},deleteData:function(r,a){this.replaceData(r,a,"")},replaceData:function(r,a,C){var w=this.data.substring(0,r),V=this.data.substring(r+a);C=w+C+V,this.nodeValue=this.data=C,this.length=C.length}},j(E,me);function D(){}D.prototype={nodeName:"#text",nodeType:L,splitText:function(r){var a=this.data,C=a.substring(r);a=a.substring(0,r),this.data=this.nodeValue=a,this.length=a.length;var w=this.ownerDocument.createTextNode(C);return this.parentNode&&this.parentNode.insertBefore(w,this.nextSibling),w}},j(D,E);function I(){}I.prototype={nodeName:"#comment",nodeType:T},j(I,E);function ue(){}ue.prototype={nodeName:"#cdata-section",nodeType:ie},j(ue,E);function ae(){}ae.prototype.nodeType=O,j(ae,me);function Be(){}Be.prototype.nodeType=H,j(Be,me);function k(){}k.prototype.nodeType=xe,j(k,me);function u(){}u.prototype.nodeType=W,j(u,me);function h(){}h.prototype.nodeName="#document-fragment",h.prototype.nodeType=f,j(h,me);function s(){}s.prototype.nodeType=U,j(s,me);function p(){}p.prototype.serializeToString=function(r,a,C){return B.call(r,a,C)},me.prototype.toString=B;function B(r,a){var C=[],w=this.nodeType==9&&this.documentElement||this,V=w.prefix,le=w.namespaceURI;if(le&&V==null){var V=w.lookupPrefix(le);if(V==null)var Ie=[{namespace:le,prefix:null}]}return ne(this,C,r,a,Ie),C.join("")}function P(r,a,C){var w=r.prefix||"",V=r.namespaceURI;if(!V||w==="xml"&&V===n.XML||V===n.XMLNS)return!1;for(var le=C.length;le--;){var Ie=C[le];if(Ie.prefix===w)return Ie.namespace!==V}return!0}function te(r,a,C){r.push(" ",a,'="',C.replace(/[<>&"\t\n\r]/g,fe),'"')}function ne(r,a,C,w,V){if(V||(V=[]),w)if(r=w(r),r){if(typeof r=="string"){a.push(r);return}}else return;switch(r.nodeType){case J:var le=r.attributes,Ie=le.length,Je=r.firstChild,Ne=r.tagName;C=n.isHTML(r.namespaceURI)||C;var Xe=Ne;if(!C&&!r.prefix&&r.namespaceURI){for(var Qe,je=0;je<le.length;je++)if(le.item(je).name==="xmlns"){Qe=le.item(je).value;break}if(!Qe)for(var qe=V.length-1;qe>=0;qe--){var He=V[qe];if(He.prefix===""&&He.namespace===r.namespaceURI){Qe=He.namespace;break}}if(Qe!==r.namespaceURI)for(var qe=V.length-1;qe>=0;qe--){var He=V[qe];if(He.namespace===r.namespaceURI){He.prefix&&(Xe=He.prefix+":"+Ne);break}}}a.push("<",Xe);for(var Ke=0;Ke<Ie;Ke++){var Ye=le.item(Ke);Ye.prefix=="xmlns"?V.push({prefix:Ye.localName,namespace:Ye.value}):Ye.nodeName=="xmlns"&&V.push({prefix:"",namespace:Ye.value})}for(var Ke=0;Ke<Ie;Ke++){var Ye=le.item(Ke);if(P(Ye,C,V)){var de=Ye.prefix||"",ze=Ye.namespaceURI;te(a,de?"xmlns:"+de:"xmlns",ze),V.push({prefix:de,namespace:ze})}ne(Ye,a,C,w,V)}if(Ne===Xe&&P(r,C,V)){var de=r.prefix||"",ze=r.namespaceURI;te(a,de?"xmlns:"+de:"xmlns",ze),V.push({prefix:de,namespace:ze})}if(Je||C&&!/^(?:meta|link|img|br|hr|input)$/i.test(Ne)){if(a.push(">"),C&&/^script$/i.test(Ne))for(;Je;)Je.data?a.push(Je.data):ne(Je,a,C,w,V.slice()),Je=Je.nextSibling;else for(;Je;)ne(Je,a,C,w,V.slice()),Je=Je.nextSibling;a.push("</",Xe,">")}else a.push("/>");return;case y:case f:for(var Je=r.firstChild;Je;)ne(Je,a,C,w,V.slice()),Je=Je.nextSibling;return;case M:return te(a,r.name,r.value);case L:return a.push(r.data.replace(/[<&>]/g,fe));case ie:return a.push("<![CDATA[",r.data,"]]>");case T:return a.push("<!--",r.data,"-->");case O:var _e=r.publicId,e=r.systemId;if(a.push("<!DOCTYPE ",r.name),_e)a.push(" PUBLIC ",_e),e&&e!="."&&a.push(" ",e),a.push(">");else if(e&&e!=".")a.push(" SYSTEM ",e,">");else{var o=r.internalSubset;o&&a.push(" [",o,"]"),a.push(">")}return;case U:return a.push("<?",r.target," ",r.data,"?>");case W:return a.push("&",r.nodeName,";");default:a.push("??",r.nodeName)}}function Ce(r,a,C){var w;switch(a.nodeType){case J:w=a.cloneNode(!1),w.ownerDocument=r;case f:break;case M:C=!0;break}if(w||(w=a.cloneNode(!1)),w.ownerDocument=r,w.parentNode=null,C)for(var V=a.firstChild;V;)w.appendChild(Ce(r,V,C)),V=V.nextSibling;return w}function X(r,a,C){var w=new a.constructor;for(var V in a){var le=a[V];typeof le!="object"&&le!=w[V]&&(w[V]=le)}switch(a.childNodes&&(w.childNodes=new $),w.ownerDocument=r,w.nodeType){case J:var Ie=a.attributes,Ne=w.attributes=new ge,Xe=Ie.length;Ne._ownerElement=w;for(var Qe=0;Qe<Xe;Qe++)w.setAttributeNode(X(r,Ie.item(Qe),!0));break;case M:C=!0}if(C)for(var je=a.firstChild;je;)w.appendChild(X(r,je,C)),je=je.nextSibling;return w}function Oe(r,a,C){r[a]=C}try{if(Object.defineProperty){let r=function(a){switch(a.nodeType){case J:case f:var C=[];for(a=a.firstChild;a;)a.nodeType!==7&&a.nodeType!==8&&C.push(r(a)),a=a.nextSibling;return C.join("");default:return a.nodeValue}};Object.defineProperty(re.prototype,"length",{get:function(){return ce(this),this.$$length}}),Object.defineProperty(me.prototype,"textContent",{get:function(){return r(this)},set:function(a){switch(this.nodeType){case J:case f:for(;this.firstChild;)this.removeChild(this.firstChild);(a||String(a))&&this.appendChild(this.ownerDocument.createTextNode(a));break;default:this.data=a,this.value=a,this.nodeValue=a}}}),Oe=function(a,C,w){a["$$"+C]=w}}}catch{}S.DocumentType=ae,S.DOMException=z,S.DOMImplementation=ve,S.Element=Ae,S.Node=me,S.NodeList=$,S.XMLSerializer=p},"./node_modules/@xmldom/xmldom/lib/entities.js":function(v,S,i){var g=i("./node_modules/@xmldom/xmldom/lib/conventions.js").freeze;S.XML_ENTITIES=g({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),S.HTML_ENTITIES=g({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),S.entityMap=S.HTML_ENTITIES},"./node_modules/@xmldom/xmldom/lib/index.js":function(v,S,i){var g=i("./node_modules/@xmldom/xmldom/lib/dom.js");S.DOMImplementation=g.DOMImplementation,S.XMLSerializer=g.XMLSerializer,S.DOMParser=i("./node_modules/@xmldom/xmldom/lib/dom-parser.js").DOMParser},"./node_modules/@xmldom/xmldom/lib/sax.js":function(v,S,i){var g=i("./node_modules/@xmldom/xmldom/lib/conventions.js").NAMESPACE,n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Y=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),R=new RegExp("^"+n.source+Y.source+"*(?::"+n.source+Y.source+"*)?$"),K=0,ee=1,N=2,A=3,j=4,Q=5,J=6,M=7;function L(b,q){this.message=b,this.locator=q,Error.captureStackTrace&&Error.captureStackTrace(this,L)}L.prototype=new Error,L.prototype.name=L.name;function ie(){}ie.prototype={parse:function(b,q,z){var $=this.domBuilder;$.startDocument(),f(q,q={}),W(b,q,z,$,this.errorHandler),$.endDocument()}};function W(b,q,z,$,re){function ce(s){if(s>65535){s-=65536;var p=55296+(s>>10),B=56320+(s&1023);return String.fromCharCode(p,B)}else return String.fromCharCode(s)}function ge(s){var p=s.slice(1,-1);return Object.hasOwnProperty.call(z,p)?z[p]:p.charAt(0)==="#"?ce(parseInt(p.substr(1).replace("x","0x"))):(re.error("entity not found:"+s),s)}function ye(s){if(s>De){var p=b.substring(De,s).replace(/&#?\w+;/g,ge);fe&&oe(De),$.characters(p,0,s-De),De=s}}function oe(s,p){for(;s>=ve&&(p=me.exec(b));)pe=p.index,ve=pe+p[0].length,fe.lineNumber++;fe.columnNumber=s-pe+1}for(var pe=0,ve=0,me=/.*(?:\r\n?|\n)|.*$/g,fe=$.locator,se=[{currentNSMap:q}],Te={},De=0;;){try{var Ee=b.indexOf("<",De);if(Ee<0){if(!b.substr(De).match(/^\s*$/)){var be=$.doc,we=be.createTextNode(b.substr(De));be.appendChild(we),$.currentElement=we}return}switch(Ee>De&&ye(Ee),b.charAt(Ee+1)){case"/":var ae=b.indexOf(">",Ee+3),Ue=b.substring(Ee+2,ae).replace(/[ \t\n\r]+$/g,""),Me=se.pop();ae<0?(Ue=b.substring(Ee+2).replace(/[\s<].*/,""),re.error("end tag name: "+Ue+" is not complete:"+Me.tagName),ae=Ee+1+Ue.length):Ue.match(/\s</)&&(Ue=Ue.replace(/[\s<].*/,""),re.error("end tag name: "+Ue+" maybe not complete"),ae=Ee+1+Ue.length);var Ae=Me.localNSMap,Z=Me.tagName==Ue,E=Z||Me.tagName&&Me.tagName.toLowerCase()==Ue.toLowerCase();if(E){if($.endElement(Me.uri,Me.localName,Ue),Ae)for(var D in Ae)$.endPrefixMapping(D);Z||re.fatalError("end tag name: "+Ue+" is not match the current start tagName:"+Me.tagName)}else se.push(Me);ae++;break;case"?":fe&&oe(Ee),ae=_(b,Ee,$);break;case"!":fe&&oe(Ee),ae=H(b,Ee,$,re);break;default:fe&&oe(Ee);var I=new F,ue=se[se.length-1].currentNSMap,ae=U(b,Ee,I,ue,ge,re),Be=I.length;if(!I.closed&&O(b,ae,I.tagName,Te)&&(I.closed=!0,z.nbsp||re.warning("unclosed xml attribute")),fe&&Be){for(var k=xe(fe,{}),u=0;u<Be;u++){var h=I[u];oe(h.offset),h.locator=xe(fe,{})}$.locator=k,T(I,$,ue)&&se.push(I),$.locator=fe}else T(I,$,ue)&&se.push(I);g.isHTML(I.uri)&&!I.closed?ae=y(b,ae,I.tagName,ge,$):ae++}}catch(s){if(s instanceof L)throw s;re.error("element parse error: "+s),ae=-1}ae>De?De=ae:ye(Math.max(Ee,De)+1)}}function xe(b,q){return q.lineNumber=b.lineNumber,q.columnNumber=b.columnNumber,q}function U(b,q,z,$,re,ce){function ge(fe,se,Te){z.attributeNames.hasOwnProperty(fe)&&ce.fatalError("Attribute "+fe+" redefined"),z.addValue(fe,se.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,re),Te)}for(var ye,oe,pe=++q,ve=K;;){var me=b.charAt(pe);switch(me){case"=":if(ve===ee)ye=b.slice(q,pe),ve=A;else if(ve===N)ve=A;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(ve===A||ve===ee)if(ve===ee&&(ce.warning('attribute value must after "="'),ye=b.slice(q,pe)),q=pe+1,pe=b.indexOf(me,q),pe>0)oe=b.slice(q,pe),ge(ye,oe,q-1),ve=Q;else throw new Error("attribute value no end '"+me+"' match");else if(ve==j)oe=b.slice(q,pe),ge(ye,oe,q),ce.warning('attribute "'+ye+'" missed start quot('+me+")!!"),q=pe+1,ve=Q;else throw new Error('attribute value must after "="');break;case"/":switch(ve){case K:z.setTagName(b.slice(q,pe));case Q:case J:case M:ve=M,z.closed=!0;case j:case ee:case N:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ce.error("unexpected end of input"),ve==K&&z.setTagName(b.slice(q,pe)),pe;case">":switch(ve){case K:z.setTagName(b.slice(q,pe));case Q:case J:case M:break;case j:case ee:oe=b.slice(q,pe),oe.slice(-1)==="/"&&(z.closed=!0,oe=oe.slice(0,-1));case N:ve===N&&(oe=ye),ve==j?(ce.warning('attribute "'+oe+'" missed quot(")!'),ge(ye,oe,q)):((!g.isHTML($[""])||!oe.match(/^(?:disabled|checked|selected)$/i))&&ce.warning('attribute "'+oe+'" missed value!! "'+oe+'" instead!!'),ge(oe,oe,q));break;case A:throw new Error("attribute value missed!!")}return pe;case"\x80":me=" ";default:if(me<=" ")switch(ve){case K:z.setTagName(b.slice(q,pe)),ve=J;break;case ee:ye=b.slice(q,pe),ve=N;break;case j:var oe=b.slice(q,pe);ce.warning('attribute "'+oe+'" missed quot(")!!'),ge(ye,oe,q);case Q:ve=J;break}else switch(ve){case N:z.tagName,(!g.isHTML($[""])||!ye.match(/^(?:disabled|checked|selected)$/i))&&ce.warning('attribute "'+ye+'" missed value!! "'+ye+'" instead2!!'),ge(ye,ye,q),q=pe,ve=ee;break;case Q:ce.warning('attribute space is required"'+ye+'"!!');case J:ve=ee,q=pe;break;case A:ve=j,q=pe;break;case M:throw new Error("elements closed character '/' and '>' must be connected to")}}pe++}}function T(b,q,z){for(var $=b.tagName,re=null,me=b.length;me--;){var ce=b[me],ge=ce.qName,ye=ce.value,fe=ge.indexOf(":");if(fe>0)var oe=ce.prefix=ge.slice(0,fe),pe=ge.slice(fe+1),ve=oe==="xmlns"&&pe;else pe=ge,oe=null,ve=ge==="xmlns"&&"";ce.localName=pe,ve!==!1&&(re==null&&(re={},f(z,z={})),z[ve]=re[ve]=ye,ce.uri=g.XMLNS,q.startPrefixMapping(ve,ye))}for(var me=b.length;me--;){ce=b[me];var oe=ce.prefix;oe&&(oe==="xml"&&(ce.uri=g.XML),oe!=="xmlns"&&(ce.uri=z[oe||""]))}var fe=$.indexOf(":");fe>0?(oe=b.prefix=$.slice(0,fe),pe=b.localName=$.slice(fe+1)):(oe=null,pe=b.localName=$);var se=b.uri=z[oe||""];if(q.startElement(se,pe,$,b),b.closed){if(q.endElement(se,pe,$),re)for(oe in re)q.endPrefixMapping(oe)}else return b.currentNSMap=z,b.localNSMap=re,!0}function y(b,q,z,$,re){if(/^(?:script|textarea)$/i.test(z)){var ce=b.indexOf("</"+z+">",q),ge=b.substring(q+1,ce);if(/[&<]/.test(ge))return/^script$/i.test(z)?(re.characters(ge,0,ge.length),ce):(ge=ge.replace(/&#?\w+;/g,$),re.characters(ge,0,ge.length),ce)}return q+1}function O(b,q,z,$){var re=$[z];return re==null&&(re=b.lastIndexOf("</"+z+">"),re<q&&(re=b.lastIndexOf("</"+z)),$[z]=re),re<q}function f(b,q){for(var z in b)q[z]=b[z]}function H(b,q,z,$){var re=b.charAt(q+2);switch(re){case"-":if(b.charAt(q+3)==="-"){var ce=b.indexOf("-->",q+4);return ce>q?(z.comment(b,q+4,ce-q-4),ce+3):($.error("Unclosed comment"),-1)}else return-1;default:if(b.substr(q+3,6)=="CDATA["){var ce=b.indexOf("]]>",q+9);return z.startCDATA(),z.characters(b,q+9,ce-q-9),z.endCDATA(),ce+3}var ge=Se(b,q),ye=ge.length;if(ye>1&&/!doctype/i.test(ge[0][0])){var oe=ge[1][0],pe=!1,ve=!1;ye>3&&(/^public$/i.test(ge[2][0])?(pe=ge[3][0],ve=ye>4&&ge[4][0]):/^system$/i.test(ge[2][0])&&(ve=ge[3][0]));var me=ge[ye-1];return z.startDTD(oe,pe,ve),z.endDTD(),me.index+me[0].length}}return-1}function _(b,q,z){var $=b.indexOf("?>",q);if($){var re=b.substring(q,$).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return re?(re[0].length,z.processingInstruction(re[1],re[2]),$+2):-1}return-1}function F(){this.attributeNames={}}F.prototype={setTagName:function(b){if(!R.test(b))throw new Error("invalid tagName:"+b);this.tagName=b},addValue:function(b,q,z){if(!R.test(b))throw new Error("invalid attribute:"+b);this.attributeNames[b]=this.length,this[this.length++]={qName:b,value:q,offset:z}},length:0,getLocalName:function(b){return this[b].localName},getLocator:function(b){return this[b].locator},getQName:function(b){return this[b].qName},getURI:function(b){return this[b].uri},getValue:function(b){return this[b].value}};function Se(b,q){var z,$=[],re=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(re.lastIndex=q,re.exec(b);z=re.exec(b);)if($.push(z),z[1])return $}S.XMLReader=ie,S.ParseError=L},"./node_modules/process/browser.js":function(v,S){var i=v.exports={},g,n;function Y(){throw new Error("setTimeout has not been defined")}function R(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?g=setTimeout:g=Y}catch{g=Y}try{typeof clearTimeout=="function"?n=clearTimeout:n=R}catch{n=R}})();function K(W){if(g===setTimeout)return setTimeout(W,0);if((g===Y||!g)&&setTimeout)return g=setTimeout,setTimeout(W,0);try{return g(W,0)}catch{try{return g.call(null,W,0)}catch{return g.call(this,W,0)}}}function ee(W){if(n===clearTimeout)return clearTimeout(W);if((n===R||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(W);try{return n(W)}catch{try{return n.call(null,W)}catch{return n.call(this,W)}}}var N=[],A=!1,j,Q=-1;function J(){!A||!j||(A=!1,j.length?N=j.concat(N):Q=-1,N.length&&M())}function M(){if(!A){var W=K(J);A=!0;for(var xe=N.length;xe;){for(j=N,N=[];++Q<xe;)j&&j[Q].run();Q=-1,xe=N.length}j=null,A=!1,ee(W)}}i.nextTick=function(W){var xe=new Array(arguments.length-1);if(arguments.length>1)for(var U=1;U<arguments.length;U++)xe[U-1]=arguments[U];N.push(new L(W,xe)),N.length===1&&!A&&K(M)};function L(W,xe){this.fun=W,this.array=xe}L.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function ie(){}i.on=ie,i.addListener=ie,i.once=ie,i.off=ie,i.removeListener=ie,i.removeAllListeners=ie,i.emit=ie,i.prependListener=ie,i.prependOnceListener=ie,i.listeners=function(W){return[]},i.binding=function(W){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(W){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"./node_modules/webpack/buildin/amd-options.js":function(v,S){(function(i){v.exports=i}).call(this,{})},"./node_modules/webpack/buildin/global.js":function(v,S){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}v.exports=i},"./node_modules/webpack/buildin/module.js":function(v,S){v.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},"./package.json":function(v){v.exports=JSON.parse('{"name":"cos-js-sdk-v5","version":"1.4.6","description":"JavaScript SDK for [\u817E\u8BAF\u4E91\u5BF9\u8C61\u5B58\u50A8](https://cloud.tencent.com/product/cos)","main":"dist/cos-js-sdk-v5.js","types":"index.d.ts","scripts":{"server":"node server/sts.js","dev":"cross-env NODE_ENV=development webpack -w --mode=development","build":"cross-env NODE_ENV=production webpack --mode=production","cos-auth.min.js":"uglifyjs ./demo/common/cos-auth.js -o ./demo/common/cos-auth.min.js -c -m"},"repository":{"type":"git","url":"git+https://github.com/tencentyun/cos-js-sdk-v5.git"},"keywords":[],"author":"carsonxu","license":"ISC","bugs":{"url":"https://github.com/tencentyun/cos-js-sdk-v5/issues"},"homepage":"https://github.com/tencentyun/cos-js-sdk-v5#readme","dependencies":{"@xmldom/xmldom":"^0.8.2"},"devDependencies":{"@babel/core":"7.17.9","@babel/plugin-transform-runtime":"7.18.10","@babel/preset-env":"7.16.11","babel-loader":"8.2.5","body-parser":"^1.18.3","cross-env":"^5.2.0","express":"^4.16.4","qcloud-cos-sts":"^3.0.2","request":"^2.87.0","terser-webpack-plugin":"4.2.3","webpack":"4.46.0","webpack-cli":"4.10.0"}}')},"./src/advance.js":function(v,S,i){var g=i("./node_modules/@babel/runtime/helpers/typeof.js"),n=i("./src/session.js"),Y=i("./src/async.js"),R=i("./src/event.js").EventProxy,K=i("./src/util.js"),ee=i("./src/tracker.js");function N(f,H){var _=this,F=new R,Se=f.TaskId,b=f.Bucket,q=f.Region,z=f.Key,$=f.Body,re=f.ChunkSize||f.SliceSize||_.options.ChunkSize,ce=f.AsyncLimit,ge=f.StorageClass,ye=f.ServerSideEncryption,oe,pe,ve=f.onHashProgress,me=f.tracker;me&&me.setParams({chunkSize:re}),F.on("error",function(fe){if(!!_._isRunningTask(Se))return fe.UploadId=f.UploadData.UploadId||"",H(fe)}),F.on("upload_complete",function(fe){var se=K.extend({UploadId:f.UploadData.UploadId||""},fe);H(null,se)}),F.on("upload_slice_complete",function(fe){var se={};K.each(f.Headers,function(Te,De){var Ee=De.toLowerCase();(Ee.indexOf("x-cos-meta-")===0||Ee==="pic-operations")&&(se[De]=Te)}),L.call(_,{Bucket:b,Region:q,Key:z,UploadId:fe.UploadId,SliceList:fe.SliceList,Headers:se,tracker:me},function(Te,De){if(!!_._isRunningTask(Se)){if(n.removeUsing(fe.UploadId),Te)return pe(null,!0),F.emit("error",Te);n.removeUploadId.call(_,fe.UploadId),pe({loaded:oe,total:oe},!0),F.emit("upload_complete",De)}})}),F.on("get_upload_data_finish",function(fe){var se=n.getFileId($,f.ChunkSize,b,z);se&&n.saveUploadId.call(_,se,fe.UploadId,_.options.UploadIdCacheLimit),n.setUsing(fe.UploadId),pe(null,!0),J.call(_,{TaskId:Se,Bucket:b,Region:q,Key:z,Body:$,FileSize:oe,SliceSize:re,AsyncLimit:ce,ServerSideEncryption:ye,UploadData:fe,Headers:f.Headers,onProgress:pe,tracker:me},function(Te,De){if(!!_._isRunningTask(Se)){if(Te)return pe(null,!0),F.emit("error",Te);F.emit("upload_slice_complete",De)}})}),F.on("get_file_size_finish",function(){if(pe=K.throttleOnProgress.call(_,oe,f.onProgress),f.UploadData.UploadId)F.emit("get_upload_data_finish",f.UploadData);else{var fe=K.extend({TaskId:Se,Bucket:b,Region:q,Key:z,Headers:f.Headers,StorageClass:ge,Body:$,FileSize:oe,SliceSize:re,onHashProgress:ve,tracker:me},f);A.call(_,fe,function(se,Te){if(!!_._isRunningTask(Se)){if(se)return F.emit("error",se);f.UploadData.UploadId=Te.UploadId,f.UploadData.PartList=Te.PartList,F.emit("get_upload_data_finish",f.UploadData)}})}}),oe=f.ContentLength,delete f.ContentLength,!f.Headers&&(f.Headers={}),K.each(f.Headers,function(fe,se){se.toLowerCase()==="content-length"&&delete f.Headers[se]}),function(){for(var fe=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],se=1024*1024,Te=0;Te<fe.length&&(se=fe[Te]*1024*1024,!(oe/se<=_.options.MaxPartNumber));Te++);f.ChunkSize=f.SliceSize=re=Math.max(re,se)}(),oe===0?(f.Body="",f.ContentLength=0,f.SkipTask=!0,_.putObject(f,H)):F.emit("get_file_size_finish")}function A(f,H){var _=f.TaskId,F=f.Bucket,Se=f.Region,b=f.Key,q=f.StorageClass,z=this,$={},re=f.FileSize,ce=f.SliceSize,ge=Math.ceil(re/ce),ye=0,oe=K.throttleOnProgress.call(z,re,f.onHashProgress),pe=function(se,Te){var De=ce*(se-1),Ee=Math.min(De+ce,re),be=Ee-De;$[se]?Te(null,{PartNumber:se,ETag:$[se],Size:be}):K.fileSlice(f.Body,De,Ee,!1,function(we){K.getFileMd5(we,function(Ue,Me){if(Ue)return Te(K.error(Ue));var Ae='"'+Me+'"';$[se]=Ae,ye+=be,oe({loaded:ye,total:re}),Te(null,{PartNumber:se,ETag:Ae,Size:be})})})},ve=function(se,Te){var De=se.length;if(De===0)return Te(null,!0);if(De>ge)return Te(null,!1);if(De>1){var Ee=Math.max(se[0].Size,se[1].Size);if(Ee!==ce)return Te(null,!1)}var be=function we(Ue){if(Ue<De){var Me=se[Ue];pe(Me.PartNumber,function(Ae,Z){Z&&Z.ETag===Me.ETag&&Z.Size===Me.Size?we(Ue+1):Te(null,!1)})}else Te(null,!0)};be(0)},me=new R;me.on("error",function(fe){if(!!z._isRunningTask(_))return H(fe)}),me.on("upload_id_available",function(fe){var se={},Te=[];K.each(fe.PartList,function(be){se[be.PartNumber]=be});for(var De=1;De<=ge;De++){var Ee=se[De];Ee?(Ee.PartNumber=De,Ee.Uploaded=!0):Ee={PartNumber:De,ETag:null,Uploaded:!1},Te.push(Ee)}fe.PartList=Te,H(null,fe)}),me.on("no_available_upload_id",function(){if(!!z._isRunningTask(_)){var fe=K.extend({Bucket:F,Region:Se,Key:b,Query:K.clone(f.Query),StorageClass:q,Body:f.Body,calledBySdk:"sliceUploadFile",tracker:f.tracker},f),se=K.clone(f.Headers);delete se["x-cos-mime-limit"],fe.Headers=se,z.multipartInit(fe,function(Te,De){if(!!z._isRunningTask(_)){if(Te)return me.emit("error",Te);var Ee=De.UploadId;if(!Ee)return H(K.error(new Error("no such upload id")));me.emit("upload_id_available",{UploadId:Ee,PartList:[]})}})}}),me.on("has_and_check_upload_id",function(fe){fe=fe.reverse(),Y.eachLimit(fe,1,function(se,Te){if(!!z._isRunningTask(_)){if(n.using[se]){Te();return}Q.call(z,{Bucket:F,Region:Se,Key:b,UploadId:se,tracker:f.tracker},function(De,Ee){if(!!z._isRunningTask(_)){if(De)return n.removeUsing(se),me.emit("error",De);var be=Ee.PartList;be.forEach(function(we){we.PartNumber*=1,we.Size*=1,we.ETag=we.ETag||""}),ve(be,function(we,Ue){if(!!z._isRunningTask(_)){if(we)return me.emit("error",we);Ue?Te({UploadId:se,PartList:be}):Te()}})}})}},function(se){!z._isRunningTask(_)||(oe(null,!0),se&&se.UploadId?me.emit("upload_id_available",se):me.emit("no_available_upload_id"))})}),me.on("seek_local_avail_upload_id",function(fe){var se=n.getFileId(f.Body,f.ChunkSize,F,b),Te=n.getUploadIdList.call(z,se);if(!se||!Te){me.emit("has_and_check_upload_id",fe);return}var De=function Ee(be){if(be>=Te.length){me.emit("has_and_check_upload_id",fe);return}var we=Te[be];if(!K.isInArray(fe,we)){n.removeUploadId.call(z,we),Ee(be+1);return}if(n.using[we]){Ee(be+1);return}Q.call(z,{Bucket:F,Region:Se,Key:b,UploadId:we,tracker:f.tracker},function(Ue,Me){!z._isRunningTask(_)||(Ue?(n.removeUploadId.call(z,we),Ee(be+1)):me.emit("upload_id_available",{UploadId:we,PartList:Me.PartList}))})};De(0)}),me.on("get_remote_upload_id_list",function(){j.call(z,{Bucket:F,Region:Se,Key:b,tracker:f.tracker},function(fe,se){if(!!z._isRunningTask(_)){if(fe)return me.emit("error",fe);var Te=K.filter(se.UploadList,function(be){return be.Key===b&&(!q||be.StorageClass.toUpperCase()===q.toUpperCase())}).reverse().map(function(be){return be.UploadId||be.UploadID});if(Te.length)me.emit("seek_local_avail_upload_id",Te);else{var De=n.getFileId(f.Body,f.ChunkSize,F,b),Ee;De&&(Ee=n.getUploadIdList.call(z,De))&&K.each(Ee,function(be){n.removeUploadId.call(z,be)}),me.emit("no_available_upload_id")}}})}),me.emit("get_remote_upload_id_list")}function j(f,H){var _=this,F=[],Se={Bucket:f.Bucket,Region:f.Region,Prefix:f.Key,calledBySdk:f.calledBySdk||"sliceUploadFile",tracker:f.tracker},b=function q(){_.multipartList(Se,function(z,$){if(z)return H(z);F.push.apply(F,$.Upload||[]),$.IsTruncated==="true"?(Se.KeyMarker=$.NextKeyMarker,Se.UploadIdMarker=$.NextUploadIdMarker,q()):H(null,{UploadList:F})})};b()}function Q(f,H){var _=this,F=[],Se={Bucket:f.Bucket,Region:f.Region,Key:f.Key,UploadId:f.UploadId,calledBySdk:"sliceUploadFile",tracker:f.tracker},b=function q(){_.multipartListPart(Se,function(z,$){if(z)return H(z);F.push.apply(F,$.Part||[]),$.IsTruncated==="true"?(Se.PartNumberMarker=$.NextPartNumberMarker,q()):H(null,{PartList:F})})};b()}function J(f,H){var _=this,F=f.TaskId,Se=f.Bucket,b=f.Region,q=f.Key,z=f.UploadData,$=f.FileSize,re=f.SliceSize,ce=Math.min(f.AsyncLimit||_.options.ChunkParallelLimit||1,256),ge=f.Body,ye=Math.ceil($/re),oe=0,pe=f.ServerSideEncryption,ve=f.Headers,me=K.filter(z.PartList,function(se){return se.Uploaded&&(oe+=se.PartNumber>=ye&&$%re||re),!se.Uploaded}),fe=f.onProgress;Y.eachLimit(me,ce,function(se,Te){if(!!_._isRunningTask(F)){var De=se.PartNumber,Ee=Math.min($,se.PartNumber*re)-(se.PartNumber-1)*re,be=0;M.call(_,{TaskId:F,Bucket:Se,Region:b,Key:q,SliceSize:re,FileSize:$,PartNumber:De,ServerSideEncryption:pe,Body:ge,UploadData:z,Headers:ve,onProgress:function(Ue){oe+=Ue.loaded-be,be=Ue.loaded,fe({loaded:oe,total:$})},tracker:f.tracker},function(we,Ue){!_._isRunningTask(F)||(!we&&!Ue.ETag&&(we='get ETag error, please add "ETag" to CORS ExposeHeader setting.( \u83B7\u53D6ETag\u5931\u8D25\uFF0C\u8BF7\u5728CORS ExposeHeader\u8BBE\u7F6E\u4E2D\u6DFB\u52A0ETag\uFF0C\u8BF7\u53C2\u8003\u6587\u6863\uFF1Ahttps://cloud.tencent.com/document/product/436/13318 )'),we?oe-=be:(oe+=Ee-be,se.ETag=Ue.ETag),fe({loaded:oe,total:$}),Te(we||null,Ue))})}},function(se){if(!!_._isRunningTask(F)){if(se)return H(se);H(null,{UploadId:z.UploadId,SliceList:z.PartList})}})}function M(f,H){var _=this,F=f.TaskId,Se=f.Bucket,b=f.Region,q=f.Key,z=f.FileSize,$=f.Body,re=f.PartNumber*1,ce=f.SliceSize,ge=f.ServerSideEncryption,ye=f.UploadData,oe=f.Headers||{},pe=_.options.ChunkRetryTimes+1,ve=ce*(re-1),me=ce,fe=ve+ce;fe>z&&(fe=z,me=fe-ve);var se=["x-cos-traffic-limit","x-cos-mime-limit"],Te={};K.each(oe,function(Ee,be){se.indexOf(be)>-1&&(Te[be]=Ee)});var De=ye.PartList[re-1];Y.retry(pe,function(Ee){!_._isRunningTask(F)||K.fileSlice($,ve,fe,!0,function(be){_.multipartUpload({TaskId:F,Bucket:Se,Region:b,Key:q,ContentLength:me,PartNumber:re,UploadId:ye.UploadId,ServerSideEncryption:ge,Body:be,Headers:Te,onProgress:f.onProgress,calledBySdk:"sliceUploadFile",tracker:f.tracker},function(we,Ue){if(!!_._isRunningTask(F))return we?Ee(we):(De.Uploaded=!0,Ee(null,Ue))})})},function(Ee,be){if(!!_._isRunningTask(F))return H(Ee,be)})}function L(f,H){var _=f.Bucket,F=f.Region,Se=f.Key,b=f.UploadId,q=f.SliceList,z=this,$=this.options.ChunkRetryTimes+1,re=f.Headers,ce=q.map(function(ge){return{PartNumber:ge.PartNumber,ETag:ge.ETag}});Y.retry($,function(ge){z.multipartComplete({Bucket:_,Region:F,Key:Se,UploadId:b,Parts:ce,Headers:re,calledBySdk:"sliceUploadFile",tracker:f.tracker},ge)},function(ge,ye){H(ge,ye)})}function ie(f,H){var _=f.Bucket,F=f.Region,Se=f.Key,b=f.UploadId,q=f.Level||"task",z=f.AsyncLimit,$=this,re=new R;if(re.on("error",function(ce){return H(ce)}),re.on("get_abort_array",function(ce){W.call($,{Bucket:_,Region:F,Key:Se,Headers:f.Headers,AsyncLimit:z,AbortArray:ce},H)}),q==="bucket")j.call($,{Bucket:_,Region:F,calledBySdk:"abortUploadTask"},function(ce,ge){if(ce)return H(ce);re.emit("get_abort_array",ge.UploadList||[])});else if(q==="file"){if(!Se)return H(K.error(new Error("abort_upload_task_no_key")));j.call($,{Bucket:_,Region:F,Key:Se,calledBySdk:"abortUploadTask"},function(ce,ge){if(ce)return H(ce);re.emit("get_abort_array",ge.UploadList||[])})}else if(q==="task"){if(!b)return H(K.error(new Error("abort_upload_task_no_id")));if(!Se)return H(K.error(new Error("abort_upload_task_no_key")));re.emit("get_abort_array",[{Key:Se,UploadId:b}])}else return H(K.error(new Error("abort_unknown_level")))}function W(f,H){var _=f.Bucket,F=f.Region,Se=f.Key,b=f.AbortArray,q=f.AsyncLimit||1,z=this,$=0,re=new Array(b.length);Y.eachLimit(b,q,function(ce,ge){var ye=$;if(Se&&Se!==ce.Key){re[ye]={error:{KeyNotMatch:!0}},ge(null);return}var oe=ce.UploadId||ce.UploadID;z.multipartAbort({Bucket:_,Region:F,Key:ce.Key,Headers:f.Headers,UploadId:oe},function(pe){var ve={Bucket:_,Region:F,Key:ce.Key,UploadId:oe};re[ye]={error:pe,task:ve},ge(null)}),$++},function(ce){if(ce)return H(ce);for(var ge=[],ye=[],oe=0,pe=re.length;oe<pe;oe++){var ve=re[oe];ve.task&&(ve.error?ye.push(ve.task):ge.push(ve.task))}return H(null,{successList:ge,errorList:ye})})}function xe(f,H){var _=this,F=f.SliceSize===void 0?_.options.SliceSize:f.SliceSize,Se=[],b=f.Body,q=b.size||b.length||0,z={TaskId:""};if(_.options.EnableTracker){var $=_.options.UseAccelerate||_.options.Domain&&_.options.Domain.includes("accelerate.");f.tracker=new ee({bucket:f.Bucket,region:f.Region,apiName:"uploadFile",fileKey:f.Key,fileSize:q,accelerate:$,deepTracker:_.options.DeepTracker,customId:_.options.CustomId,delay:_.options.TrackerDelay})}K.each(f,function(pe,ve){g(pe)!=="object"&&typeof pe!="function"&&(z[ve]=pe)});var re=f.onTaskReady,ce=function(ve){z.TaskId=ve,re&&re(ve)};f.onTaskReady=ce;var ge=q>F?"sliceUploadFile":"putObject",ye=f.onFileFinish,oe=function(ve,me){f.tracker&&f.tracker.formatResult(ve,me),ye&&ye(ve,me,z),H&&H(ve,me)};Se.push({api:ge,params:f,callback:oe}),_._addTasks(Se)}function U(f,H){var _=this,F=f.SliceSize===void 0?_.options.SliceSize:f.SliceSize,Se=0,b=0,q=K.throttleOnProgress.call(_,b,f.onProgress),z=f.files.length,$=f.onFileFinish,re=Array(z),ce=function(oe,pe,ve){q(null,!0),$&&$(oe,pe,ve),re[ve.Index]={options:ve,error:oe,data:pe},--z<=0&&H&&H(null,{files:re})},ge=[];K.each(f.files,function(ye,oe){(function(){var pe=ye.Body,ve=pe.size||pe.length||0,me={Index:oe,TaskId:""};if(Se+=ve,_.options.EnableTracker){var fe=_.options.UseAccelerate||_.options.Domain&&_.options.Domain.includes("accelerate.");ye.tracker=new ee({bucket:ye.Bucket,region:ye.Region,apiName:"uploadFiles",fileKey:ye.Key,fileSize:ve,accelerate:fe,deepTracker:_.options.DeepTracker,customId:_.options.CustomId,delay:_.options.TrackerDelay})}K.each(ye,function(Ae,Z){g(Ae)!=="object"&&typeof Ae!="function"&&(me[Z]=Ae)});var se=ye.onTaskReady,Te=function(Z){me.TaskId=Z,se&&se(Z)};ye.onTaskReady=Te;var De=0,Ee=ye.onProgress,be=function(Z){b=b-De+Z.loaded,De=Z.loaded,Ee&&Ee(Z),q({loaded:b,total:Se})};ye.onProgress=be;var we=ve>F?"sliceUploadFile":"putObject",Ue=ye.onFileFinish,Me=function(Z,E){ye.tracker&&ye.tracker.formatResult(Z,E),Ue&&Ue(Z,E),ce&&ce(Z,E,me)};ge.push({api:we,params:ye,callback:Me})})()}),_._addTasks(ge)}function T(f,H){var _=new R,F=this,Se=f.Bucket,b=f.Region,q=f.Key,z=f.CopySource,$=K.getSourceParams.call(this,z);if(!$){H(K.error(new Error("CopySource format error")));return}var re=$.Bucket,ce=$.Region,ge=decodeURIComponent($.Key),ye=f.CopySliceSize===void 0?F.options.CopySliceSize:f.CopySliceSize;ye=Math.max(0,ye);var oe=f.CopyChunkSize||this.options.CopyChunkSize,pe=this.options.CopyChunkParallelLimit,ve=this.options.ChunkRetryTimes+1,me=0,fe=0,se,Te,De={},Ee={},be={};_.on("copy_slice_complete",function(we){K.each(f.Headers,function(Me,Ae){Ae.toLowerCase().indexOf("x-cos-meta-")});var Ue=K.map(we.PartList,function(Me){return{PartNumber:Me.PartNumber,ETag:Me.ETag}});Y.retry(ve,function(Me){F.multipartComplete({Bucket:Se,Region:b,Key:q,UploadId:we.UploadId,Parts:Ue,calledBySdk:"sliceCopyFile"},Me)},function(Me,Ae){if(n.removeUsing(we.UploadId),Me)return Te(null,!0),H(Me);n.removeUploadId(we.UploadId),Te({loaded:se,total:se},!0),H(null,Ae)})}),_.on("get_copy_data_finish",function(we){var Ue=n.getCopyFileId(z,De,oe,Se,q);Ue&&n.saveUploadId(Ue,we.UploadId,F.options.UploadIdCacheLimit),n.setUsing(we.UploadId);var Me=K.filter(we.PartList,function(Ae){return Ae.Uploaded&&(fe+=Ae.PartNumber>=me&&se%oe||oe),!Ae.Uploaded});Y.eachLimit(Me,pe,function(Ae,Z){var E=Ae.PartNumber,D=Ae.CopySourceRange,I=Ae.end-Ae.start;Y.retry(ve,function(ue){y.call(F,{Bucket:Se,Region:b,Key:q,CopySource:z,UploadId:we.UploadId,PartNumber:E,CopySourceRange:D},ue)},function(ue,ae){if(ue)return Z(ue);fe+=I,Te({loaded:fe,total:se}),Ae.ETag=ae.ETag,Z(ue||null,ae)})},function(Ae){if(Ae)return n.removeUsing(we.UploadId),Te(null,!0),H(Ae);_.emit("copy_slice_complete",we)})}),_.on("get_chunk_size_finish",function(){var we=function(){F.multipartInit({Bucket:Se,Region:b,Key:q,Headers:be},function(E,D){if(E)return H(E);f.UploadId=D.UploadId,_.emit("get_copy_data_finish",{UploadId:f.UploadId,PartList:f.PartList})})},Ue=n.getCopyFileId(z,De,oe,Se,q),Me=n.getUploadIdList(Ue);if(!Ue||!Me)return we();var Ae=function Z(E){if(E>=Me.length)return we();var D=Me[E];if(n.using[D])return Z(E+1);Q.call(F,{Bucket:Se,Region:b,Key:q,UploadId:D},function(I,ue){if(I)n.removeUploadId(D),Z(E+1);else{if(n.using[D])return Z(E+1);var ae={},Be=0;K.each(ue.PartList,function(k){var u=parseInt(k.Size),h=Be+u-1;ae[k.PartNumber+"|"+Be+"|"+h]=k.ETag,Be+=u}),K.each(f.PartList,function(k){var u=ae[k.PartNumber+"|"+k.start+"|"+k.end];u&&(k.ETag=u,k.Uploaded=!0)}),_.emit("get_copy_data_finish",{UploadId:D,PartList:f.PartList})}})};Ae(0)}),_.on("get_file_size_finish",function(){if(function(){for(var Ue=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],Me=1024*1024,Ae=0;Ae<Ue.length&&(Me=Ue[Ae]*1024*1024,!(se/Me<=F.options.MaxPartNumber));Ae++);f.ChunkSize=oe=Math.max(oe,Me),me=Math.ceil(se/oe);for(var Z=[],E=1;E<=me;E++){var D=(E-1)*oe,I=E*oe<se?E*oe-1:se-1,ue={PartNumber:E,start:D,end:I,CopySourceRange:"bytes="+D+"-"+I};Z.push(ue)}f.PartList=Z}(),f.Headers["x-cos-metadata-directive"]==="Replaced"?be=f.Headers:be=Ee,be["x-cos-storage-class"]=f.Headers["x-cos-storage-class"]||Ee["x-cos-storage-class"],be=K.clearKey(be),Ee["x-cos-storage-class"]==="ARCHIVE"||Ee["x-cos-storage-class"]==="DEEP_ARCHIVE"){var we=Ee["x-cos-restore"];if(!we||we==='ongoing-request="true"'){H(K.error(new Error("Unrestored archive object is not allowed to be copied")));return}}delete be["x-cos-copy-source"],delete be["x-cos-metadata-directive"],delete be["x-cos-copy-source-If-Modified-Since"],delete be["x-cos-copy-source-If-Unmodified-Since"],delete be["x-cos-copy-source-If-Match"],delete be["x-cos-copy-source-If-None-Match"],_.emit("get_chunk_size_finish")}),F.headObject({Bucket:re,Region:ce,Key:ge},function(we,Ue){if(we){we.statusCode&&we.statusCode===404?H(K.error(we,{ErrorStatus:ge+" Not Exist"})):H(we);return}if(se=f.FileSize=Ue.headers["content-length"],se===void 0||!se){H(K.error(new Error('get Content-Length error, please add "Content-Length" to CORS ExposeHeader setting.\uFF08 \u83B7\u53D6Content-Length\u5931\u8D25\uFF0C\u8BF7\u5728CORS ExposeHeader\u8BBE\u7F6E\u4E2D\u6DFB\u52A0Content-Length\uFF0C\u8BF7\u53C2\u8003\u6587\u6863\uFF1Ahttps://cloud.tencent.com/document/product/436/13318 \uFF09')));return}if(Te=K.throttleOnProgress.call(F,se,f.onProgress),se<=ye)f.Headers["x-cos-metadata-directive"]||(f.Headers["x-cos-metadata-directive"]="Copy"),F.putObjectCopy(f,function(Ae,Z){if(Ae)return Te(null,!0),H(Ae);Te({loaded:se,total:se},!0),H(Ae,Z)});else{var Me=Ue.headers;De=Me,Ee={"Cache-Control":Me["cache-control"],"Content-Disposition":Me["content-disposition"],"Content-Encoding":Me["content-encoding"],"Content-Type":Me["content-type"],Expires:Me.expires,"x-cos-storage-class":Me["x-cos-storage-class"]},K.each(Me,function(Ae,Z){var E="x-cos-meta-";Z.indexOf(E)===0&&Z.length>E.length&&(Ee[Z]=Ae)}),_.emit("get_file_size_finish")}})}function y(f,H){var _=f.TaskId,F=f.Bucket,Se=f.Region,b=f.Key,q=f.CopySource,z=f.UploadId,$=f.PartNumber*1,re=f.CopySourceRange,ce=this.options.ChunkRetryTimes+1,ge=this;Y.retry(ce,function(ye){ge.uploadPartCopy({TaskId:_,Bucket:F,Region:Se,Key:b,CopySource:q,UploadId:z,PartNumber:$,CopySourceRange:re},function(oe,pe){ye(oe||null,pe)})},function(ye,oe){return H(ye,oe)})}var O={sliceUploadFile:N,abortUploadTask:ie,uploadFile:xe,uploadFiles:U,sliceCopyFile:T};v.exports.init=function(f,H){H.transferToTaskMethod(O,"sliceUploadFile"),K.each(O,function(_,F){f.prototype[F]=K.apiWrapper(F,_)})}},"./src/async.js":function(v,S){var i=function(R,K,ee,N){if(N=N||function(){},!R.length||K<=0)return N();var A=0,j=0,Q=0;(function J(){if(A>=R.length)return N();for(;Q<K&&j<R.length;)j+=1,Q+=1,ee(R[j-1],function(M){M?(N(M),N=function(){}):(A+=1,Q-=1,A>=R.length?N():J())})})()},g=function(R,K,ee){var N=function A(j){K(function(Q,J){Q&&j<R?A(j+1):ee(Q,J)})};R<1?ee():N(1)},n={eachLimit:i,retry:g};v.exports=n},"./src/base.js":function(v,S,i){var g=i("./lib/request.js"),n=i("./src/util.js");function Y(e,o){typeof e=="function"&&(o=e,e={});var t=this.options.Protocol||(n.isBrowser&&location.protocol==="http:"?"http:":"https:"),c=this.options.ServiceDomain,d=e.AppId||this.options.appId,l=e.Region;c?(c=c.replace(/\{\{AppId\}\}/ig,d||"").replace(/\{\{Region\}\}/ig,l||"").replace(/\{\{.*?\}\}/ig,""),/^[a-zA-Z]+:\/\//.test(c)||(c=t+"//"+c),c.slice(-1)==="/"&&(c=c.slice(0,-1))):l?c=t+"//cos."+l+".myqcloud.com":c=t+"//service.cos.myqcloud.com";var m="",x=l?"cos."+l+".myqcloud.com":"service.cos.myqcloud.com",G=c.replace(/^https?:\/\/([^/]+)(\/.*)?$/,"$1");x===G&&(m=x),de.call(this,{Action:"name/cos:GetService",url:c,method:"GET",headers:e.Headers,SignHost:m},function(ke,he){if(ke)return o(ke);var Re=he&&he.ListAllMyBucketsResult&&he.ListAllMyBucketsResult.Buckets&&he.ListAllMyBucketsResult.Buckets.Bucket||[];Re=n.isArray(Re)?Re:[Re];var Pe=he&&he.ListAllMyBucketsResult&&he.ListAllMyBucketsResult.Owner||{};o(null,{Buckets:Re,Owner:Pe,statusCode:he.statusCode,headers:he.headers})})}function R(e,o){var t=this,c="";if(e.BucketAZConfig){var d={BucketAZConfig:e.BucketAZConfig};c=n.json2xml({CreateBucketConfiguration:d})}de.call(this,{Action:"name/cos:PutBucket",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,body:c},function(l,m){if(l)return o(l);var x=qe({protocol:t.options.Protocol,domain:t.options.Domain,bucket:e.Bucket,region:e.Region,isLocation:!0});o(null,{Location:x,statusCode:m.statusCode,headers:m.headers})})}function K(e,o){de.call(this,{Action:"name/cos:HeadBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"HEAD"},o)}function ee(e,o){var t={};t.prefix=e.Prefix||"",t.delimiter=e.Delimiter,t.marker=e.Marker,t["max-keys"]=e.MaxKeys,t["encoding-type"]=e.EncodingType,de.call(this,{Action:"name/cos:GetBucket",ResourceKey:t.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:t},function(c,d){if(c)return o(c);var l=d.ListBucketResult||{},m=l.Contents||[],x=l.CommonPrefixes||[];m=n.isArray(m)?m:[m],x=n.isArray(x)?x:[x];var G=n.clone(l);n.extend(G,{Contents:m,CommonPrefixes:x,statusCode:d.statusCode,headers:d.headers}),o(null,G)})}function N(e,o){de.call(this,{Action:"name/cos:DeleteBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"DELETE"},function(t,c){if(t&&t.statusCode===204)return o(null,{statusCode:t.statusCode});if(t)return o(t);o(null,{statusCode:c.statusCode,headers:c.headers})})}function A(e,o){var t=e.Headers,c="";if(e.AccessControlPolicy){var d=n.clone(e.AccessControlPolicy||{}),l=d.Grants||d.Grant;l=n.isArray(l)?l:[l],delete d.Grant,delete d.Grants,d.AccessControlList={Grant:l},c=n.json2xml({AccessControlPolicy:d}),t["Content-Type"]="application/xml",t["Content-MD5"]=n.binaryBase64(n.md5(c))}n.each(t,function(m,x){x.indexOf("x-cos-grant-")===0&&(t[x]=je(t[x]))}),de.call(this,{Action:"name/cos:PutBucketACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:t,action:"acl",body:c},function(m,x){if(m)return o(m);o(null,{statusCode:x.statusCode,headers:x.headers})})}function j(e,o){de.call(this,{Action:"name/cos:GetBucketACL",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"acl"},function(t,c){if(t)return o(t);var d=c.AccessControlPolicy||{},l=d.Owner||{},m=d.AccessControlList.Grant||[];m=n.isArray(m)?m:[m];var x=Qe(d);c.headers&&c.headers["x-cos-acl"]&&(x.ACL=c.headers["x-cos-acl"]),x=n.extend(x,{Owner:l,Grants:m,statusCode:c.statusCode,headers:c.headers}),o(null,x)})}function Q(e,o){var t=e.CORSConfiguration||{},c=t.CORSRules||e.CORSRules||[];c=n.clone(n.isArray(c)?c:[c]),n.each(c,function(x){n.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(G){var ke=G+"s",he=x[ke]||x[G]||[];delete x[ke],x[G]=n.isArray(he)?he:[he]})});var d={CORSRule:c};e.ResponseVary&&(d.ResponseVary=e.ResponseVary);var l=n.json2xml({CORSConfiguration:d}),m=e.Headers;m["Content-Type"]="application/xml",m["Content-MD5"]=n.binaryBase64(n.md5(l)),de.call(this,{Action:"name/cos:PutBucketCORS",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:l,action:"cors",headers:m},function(x,G){if(x)return o(x);o(null,{statusCode:G.statusCode,headers:G.headers})})}function J(e,o){de.call(this,{Action:"name/cos:GetBucketCORS",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(t,c){if(t){if(t.statusCode===404&&t.error&&t.error.Code==="NoSuchCORSConfiguration"){var d={CORSRules:[],statusCode:t.statusCode};t.headers&&(d.headers=t.headers),o(null,d)}else o(t);return}var l=c.CORSConfiguration||{},m=l.CORSRules||l.CORSRule||[];m=n.clone(n.isArray(m)?m:[m]);var x=l.ResponseVary;n.each(m,function(G){n.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(ke){var he=ke+"s",Re=G[he]||G[ke]||[];delete G[ke],G[he]=n.isArray(Re)?Re:[Re]})}),o(null,{CORSRules:m,ResponseVary:x,statusCode:c.statusCode,headers:c.headers})})}function M(e,o){de.call(this,{Action:"name/cos:DeleteBucketCORS",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(t,c){if(t&&t.statusCode===204)return o(null,{statusCode:t.statusCode});if(t)return o(t);o(null,{statusCode:c.statusCode||t.statusCode,headers:c.headers})})}function L(e,o){de.call(this,{Action:"name/cos:GetBucketLocation",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"location"},o)}function ie(e,o){var t=e.Policy;try{typeof t=="string"&&(t=JSON.parse(t))}catch{}if(!t||typeof t=="string")return o(n.error(new Error("Policy format error")));var c=JSON.stringify(t);t.version||(t.version="2.0");var d=e.Headers;d["Content-Type"]="application/json",d["Content-MD5"]=n.binaryBase64(n.md5(c)),de.call(this,{Action:"name/cos:PutBucketPolicy",method:"PUT",Bucket:e.Bucket,Region:e.Region,action:"policy",body:c,headers:d},function(l,m){if(l&&l.statusCode===204)return o(null,{statusCode:l.statusCode});if(l)return o(l);o(null,{statusCode:m.statusCode,headers:m.headers})})}function W(e,o){de.call(this,{Action:"name/cos:GetBucketPolicy",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy",rawBody:!0},function(t,c){if(t)return t.statusCode&&t.statusCode===403?o(n.error(t,{ErrorStatus:"Access Denied"})):t.statusCode&&t.statusCode===405?o(n.error(t,{ErrorStatus:"Method Not Allowed"})):t.statusCode&&t.statusCode===404?o(n.error(t,{ErrorStatus:"Policy Not Found"})):o(t);var d={};try{d=JSON.parse(c.body)}catch{}o(null,{Policy:d,statusCode:c.statusCode,headers:c.headers})})}function xe(e,o){de.call(this,{Action:"name/cos:DeleteBucketPolicy",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy"},function(t,c){if(t&&t.statusCode===204)return o(null,{statusCode:t.statusCode});if(t)return o(t);o(null,{statusCode:c.statusCode||t.statusCode,headers:c.headers})})}function U(e,o){var t=e.Tagging||{},c=t.TagSet||t.Tags||e.Tags||[];c=n.clone(n.isArray(c)?c:[c]);var d=n.json2xml({Tagging:{TagSet:{Tag:c}}}),l=e.Headers;l["Content-Type"]="application/xml",l["Content-MD5"]=n.binaryBase64(n.md5(d)),de.call(this,{Action:"name/cos:PutBucketTagging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:d,action:"tagging",headers:l},function(m,x){if(m&&m.statusCode===204)return o(null,{statusCode:m.statusCode});if(m)return o(m);o(null,{statusCode:x.statusCode,headers:x.headers})})}function T(e,o){de.call(this,{Action:"name/cos:GetBucketTagging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(t,c){if(t){if(t.statusCode===404&&t.error&&(t.error==="Not Found"||t.error.Code==="NoSuchTagSet")){var d={Tags:[],statusCode:t.statusCode};t.headers&&(d.headers=t.headers),o(null,d)}else o(t);return}var l=[];try{l=c.Tagging.TagSet.Tag||[]}catch{}l=n.clone(n.isArray(l)?l:[l]),o(null,{Tags:l,statusCode:c.statusCode,headers:c.headers})})}function y(e,o){de.call(this,{Action:"name/cos:DeleteBucketTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(t,c){if(t&&t.statusCode===204)return o(null,{statusCode:t.statusCode});if(t)return o(t);o(null,{statusCode:c.statusCode,headers:c.headers})})}function O(e,o){var t=e.LifecycleConfiguration||{},c=t.Rules||e.Rules||[];c=n.clone(c);var d=n.json2xml({LifecycleConfiguration:{Rule:c}}),l=e.Headers;l["Content-Type"]="application/xml",l["Content-MD5"]=n.binaryBase64(n.md5(d)),de.call(this,{Action:"name/cos:PutBucketLifecycle",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:d,action:"lifecycle",headers:l},function(m,x){if(m&&m.statusCode===204)return o(null,{statusCode:m.statusCode});if(m)return o(m);o(null,{statusCode:x.statusCode,headers:x.headers})})}function f(e,o){de.call(this,{Action:"name/cos:GetBucketLifecycle",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(t,c){if(t){if(t.statusCode===404&&t.error&&t.error.Code==="NoSuchLifecycleConfiguration"){var d={Rules:[],statusCode:t.statusCode};t.headers&&(d.headers=t.headers),o(null,d)}else o(t);return}var l=[];try{l=c.LifecycleConfiguration.Rule||[]}catch{}l=n.clone(n.isArray(l)?l:[l]),o(null,{Rules:l,statusCode:c.statusCode,headers:c.headers})})}function H(e,o){de.call(this,{Action:"name/cos:DeleteBucketLifecycle",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(t,c){if(t&&t.statusCode===204)return o(null,{statusCode:t.statusCode});if(t)return o(t);o(null,{statusCode:c.statusCode,headers:c.headers})})}function _(e,o){if(!e.VersioningConfiguration){o(n.error(new Error("missing param VersioningConfiguration")));return}var t=e.VersioningConfiguration||{},c=n.json2xml({VersioningConfiguration:t}),d=e.Headers;d["Content-Type"]="application/xml",d["Content-MD5"]=n.binaryBase64(n.md5(c)),de.call(this,{Action:"name/cos:PutBucketVersioning",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:c,action:"versioning",headers:d},function(l,m){if(l&&l.statusCode===204)return o(null,{statusCode:l.statusCode});if(l)return o(l);o(null,{statusCode:m.statusCode,headers:m.headers})})}function F(e,o){de.call(this,{Action:"name/cos:GetBucketVersioning",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"versioning"},function(t,c){t||!c.VersioningConfiguration&&(c.VersioningConfiguration={}),o(t,c)})}function Se(e,o){var t=n.clone(e.ReplicationConfiguration),c=n.json2xml({ReplicationConfiguration:t});c=c.replace(/<(\/?)Rules>/ig,"<$1Rule>"),c=c.replace(/<(\/?)Tags>/ig,"<$1Tag>");var d=e.Headers;d["Content-Type"]="application/xml",d["Content-MD5"]=n.binaryBase64(n.md5(c)),de.call(this,{Action:"name/cos:PutBucketReplication",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:c,action:"replication",headers:d},function(l,m){if(l&&l.statusCode===204)return o(null,{statusCode:l.statusCode});if(l)return o(l);o(null,{statusCode:m.statusCode,headers:m.headers})})}function b(e,o){de.call(this,{Action:"name/cos:GetBucketReplication",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(t,c){if(t){if(t.statusCode===404&&t.error&&(t.error==="Not Found"||t.error.Code==="ReplicationConfigurationnotFoundError")){var d={ReplicationConfiguration:{Rules:[]},statusCode:t.statusCode};t.headers&&(d.headers=t.headers),o(null,d)}else o(t);return}!c.ReplicationConfiguration&&(c.ReplicationConfiguration={}),c.ReplicationConfiguration.Rule&&(c.ReplicationConfiguration.Rules=n.makeArray(c.ReplicationConfiguration.Rule),delete c.ReplicationConfiguration.Rule),o(t,c)})}function q(e,o){de.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(t,c){if(t&&t.statusCode===204)return o(null,{statusCode:t.statusCode});if(t)return o(t);o(null,{statusCode:c.statusCode,headers:c.headers})})}function z(e,o){if(!e.WebsiteConfiguration){o(n.error(new Error("missing param WebsiteConfiguration")));return}var t=n.clone(e.WebsiteConfiguration||{}),c=t.RoutingRules||t.RoutingRule||[];c=n.isArray(c)?c:[c],delete t.RoutingRule,delete t.RoutingRules,c.length&&(t.RoutingRules={RoutingRule:c});var d=n.json2xml({WebsiteConfiguration:t}),l=e.Headers;l["Content-Type"]="application/xml",l["Content-MD5"]=n.binaryBase64(n.md5(d)),de.call(this,{Action:"name/cos:PutBucketWebsite",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:d,action:"website",headers:l},function(m,x){if(m&&m.statusCode===204)return o(null,{statusCode:m.statusCode});if(m)return o(m);o(null,{statusCode:x.statusCode,headers:x.headers})})}function $(e,o){de.call(this,{Action:"name/cos:GetBucketWebsite",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"website"},function(t,c){if(t){if(t.statusCode===404&&t.error.Code==="NoSuchWebsiteConfiguration"){var d={WebsiteConfiguration:{},statusCode:t.statusCode};t.headers&&(d.headers=t.headers),o(null,d)}else o(t);return}var l=c.WebsiteConfiguration||{};if(l.RoutingRules){var m=n.clone(l.RoutingRules.RoutingRule||[]);m=n.makeArray(m),l.RoutingRules=m}o(null,{WebsiteConfiguration:l,statusCode:c.statusCode,headers:c.headers})})}function re(e,o){de.call(this,{Action:"name/cos:DeleteBucketWebsite",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"website"},function(t,c){if(t&&t.statusCode===204)return o(null,{statusCode:t.statusCode});if(t)return o(t);o(null,{statusCode:c.statusCode,headers:c.headers})})}function ce(e,o){if(!e.RefererConfiguration){o(n.error(new Error("missing param RefererConfiguration")));return}var t=n.clone(e.RefererConfiguration||{}),c=t.DomainList||{},d=c.Domains||c.Domain||[];d=n.isArray(d)?d:[d],d.length&&(t.DomainList={Domain:d});var l=n.json2xml({RefererConfiguration:t}),m=e.Headers;m["Content-Type"]="application/xml",m["Content-MD5"]=n.binaryBase64(n.md5(l)),de.call(this,{Action:"name/cos:PutBucketReferer",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:l,action:"referer",headers:m},function(x,G){if(x&&x.statusCode===204)return o(null,{statusCode:x.statusCode});if(x)return o(x);o(null,{statusCode:G.statusCode,headers:G.headers})})}function ge(e,o){de.call(this,{Action:"name/cos:GetBucketReferer",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"referer"},function(t,c){if(t){if(t.statusCode===404&&t.error.Code==="NoSuchRefererConfiguration"){var d={WebsiteConfiguration:{},statusCode:t.statusCode};t.headers&&(d.headers=t.headers),o(null,d)}else o(t);return}var l=c.RefererConfiguration||{};if(l.DomainList){var m=n.makeArray(l.DomainList.Domain||[]);l.DomainList={Domains:m}}o(null,{RefererConfiguration:l,statusCode:c.statusCode,headers:c.headers})})}function ye(e,o){var t=e.DomainConfiguration||{},c=t.DomainRule||e.DomainRule||[];c=n.clone(c);var d=n.json2xml({DomainConfiguration:{DomainRule:c}}),l=e.Headers;l["Content-Type"]="application/xml",l["Content-MD5"]=n.binaryBase64(n.md5(d)),de.call(this,{Action:"name/cos:PutBucketDomain",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:d,action:"domain",headers:l},function(m,x){if(m&&m.statusCode===204)return o(null,{statusCode:m.statusCode});if(m)return o(m);o(null,{statusCode:x.statusCode,headers:x.headers})})}function oe(e,o){de.call(this,{Action:"name/cos:GetBucketDomain",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"domain"},function(t,c){if(t)return o(t);var d=[];try{d=c.DomainConfiguration.DomainRule||[]}catch{}d=n.clone(n.isArray(d)?d:[d]),o(null,{DomainRule:d,statusCode:c.statusCode,headers:c.headers})})}function pe(e,o){de.call(this,{Action:"name/cos:DeleteBucketDomain",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"domain"},function(t,c){if(t&&t.statusCode===204)return o(null,{statusCode:t.statusCode});if(t)return o(t);o(null,{statusCode:c.statusCode,headers:c.headers})})}function ve(e,o){var t=e.OriginConfiguration||{},c=t.OriginRule||e.OriginRule||[];c=n.clone(c);var d=n.json2xml({OriginConfiguration:{OriginRule:c}}),l=e.Headers;l["Content-Type"]="application/xml",l["Content-MD5"]=n.binaryBase64(n.md5(d)),de.call(this,{Action:"name/cos:PutBucketOrigin",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:d,action:"origin",headers:l},function(m,x){if(m&&m.statusCode===204)return o(null,{statusCode:m.statusCode});if(m)return o(m);o(null,{statusCode:x.statusCode,headers:x.headers})})}function me(e,o){de.call(this,{Action:"name/cos:GetBucketOrigin",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"origin"},function(t,c){if(t)return o(t);var d=[];try{d=c.OriginConfiguration.OriginRule||[]}catch{}d=n.clone(n.isArray(d)?d:[d]),o(null,{OriginRule:d,statusCode:c.statusCode,headers:c.headers})})}function fe(e,o){de.call(this,{Action:"name/cos:DeleteBucketOrigin",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"origin"},function(t,c){if(t&&t.statusCode===204)return o(null,{statusCode:t.statusCode});if(t)return o(t);o(null,{statusCode:c.statusCode,headers:c.headers})})}function se(e,o){var t=n.json2xml({BucketLoggingStatus:e.BucketLoggingStatus||""}),c=e.Headers;c["Content-Type"]="application/xml",c["Content-MD5"]=n.binaryBase64(n.md5(t)),de.call(this,{Action:"name/cos:PutBucketLogging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:t,action:"logging",headers:c},function(d,l){if(d&&d.statusCode===204)return o(null,{statusCode:d.statusCode});if(d)return o(d);o(null,{statusCode:l.statusCode,headers:l.headers})})}function Te(e,o){de.call(this,{Action:"name/cos:GetBucketLogging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"logging"},function(t,c){if(t)return o(t);o(null,{BucketLoggingStatus:c.BucketLoggingStatus,statusCode:c.statusCode,headers:c.headers})})}function De(e,o){var t=n.clone(e.InventoryConfiguration);if(t.OptionalFields){var c=t.OptionalFields||[];t.OptionalFields={Field:c}}if(t.Destination&&t.Destination.COSBucketDestination&&t.Destination.COSBucketDestination.Encryption){var d=t.Destination.COSBucketDestination.Encryption;Object.keys(d).indexOf("SSECOS")>-1&&(d["SSE-COS"]=d.SSECOS,delete d.SSECOS)}var l=n.json2xml({InventoryConfiguration:t}),m=e.Headers;m["Content-Type"]="application/xml",m["Content-MD5"]=n.binaryBase64(n.md5(l)),de.call(this,{Action:"name/cos:PutBucketInventory",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:l,action:"inventory",qs:{id:e.Id},headers:m},function(x,G){if(x&&x.statusCode===204)return o(null,{statusCode:x.statusCode});if(x)return o(x);o(null,{statusCode:G.statusCode,headers:G.headers})})}function Ee(e,o){de.call(this,{Action:"name/cos:GetBucketInventory",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{id:e.Id}},function(t,c){if(t)return o(t);var d=c.InventoryConfiguration;if(d&&d.OptionalFields&&d.OptionalFields.Field){var l=d.OptionalFields.Field;n.isArray(l)||(l=[l]),d.OptionalFields=l}if(d.Destination&&d.Destination.COSBucketDestination&&d.Destination.COSBucketDestination.Encryption){var m=d.Destination.COSBucketDestination.Encryption;Object.keys(m).indexOf("SSE-COS")>-1&&(m.SSECOS=m["SSE-COS"],delete m["SSE-COS"])}o(null,{InventoryConfiguration:d,statusCode:c.statusCode,headers:c.headers})})}function be(e,o){de.call(this,{Action:"name/cos:ListBucketInventory",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{"continuation-token":e.ContinuationToken}},function(t,c){if(t)return o(t);var d=c.ListInventoryConfigurationResult,l=d.InventoryConfiguration||[];l=n.isArray(l)?l:[l],delete d.InventoryConfiguration,n.each(l,function(m){if(m&&m.OptionalFields&&m.OptionalFields.Field){var x=m.OptionalFields.Field;n.isArray(x)||(x=[x]),m.OptionalFields=x}if(m.Destination&&m.Destination.COSBucketDestination&&m.Destination.COSBucketDestination.Encryption){var G=m.Destination.COSBucketDestination.Encryption;Object.keys(G).indexOf("SSE-COS")>-1&&(G.SSECOS=G["SSE-COS"],delete G["SSE-COS"])}}),d.InventoryConfigurations=l,n.extend(d,{statusCode:c.statusCode,headers:c.headers}),o(null,d)})}function we(e,o){de.call(this,{Action:"name/cos:DeleteBucketInventory",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{id:e.Id}},function(t,c){if(t&&t.statusCode===204)return o(null,{statusCode:t.statusCode});if(t)return o(t);o(null,{statusCode:c.statusCode,headers:c.headers})})}function Ue(e,o){if(!e.AccelerateConfiguration){o(n.error(new Error("missing param AccelerateConfiguration")));return}var t={AccelerateConfiguration:e.AccelerateConfiguration||{}},c=n.json2xml(t),d={};d["Content-Type"]="application/xml",d["Content-MD5"]=n.binaryBase64(n.md5(c)),de.call(this,{Action:"name/cos:PutBucketAccelerate",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:c,action:"accelerate",headers:d},function(l,m){if(l)return o(l);o(null,{statusCode:m.statusCode,headers:m.headers})})}function Me(e,o){de.call(this,{Action:"name/cos:GetBucketAccelerate",method:"GET",Bucket:e.Bucket,Region:e.Region,action:"accelerate"},function(t,c){t||!c.AccelerateConfiguration&&(c.AccelerateConfiguration={}),o(t,c)})}function Ae(e,o){var t=e.ServerSideEncryptionConfiguration||{},c=t.Rule||t.Rules||[],d=n.json2xml({ServerSideEncryptionConfiguration:{Rule:c}}),l=e.Headers;l["Content-Type"]="application/xml",l["Content-MD5"]=n.binaryBase64(n.md5(d)),de.call(this,{Action:"name/cos:PutBucketEncryption",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:d,action:"encryption",headers:l},function(m,x){if(m&&m.statusCode===204)return o(null,{statusCode:m.statusCode});if(m)return o(m);o(null,{statusCode:x.statusCode,headers:x.headers})})}function Z(e,o){de.call(this,{Action:"name/cos:GetBucketEncryption",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"encryption"},function(t,c){if(t){if(t.statusCode===404&&t.code==="NoSuchEncryptionConfiguration"){var d={EncryptionConfiguration:{Rules:[]},statusCode:t.statusCode};t.headers&&(d.headers=t.headers),o(null,d)}else o(t);return}var l=n.makeArray(c.EncryptionConfiguration&&c.EncryptionConfiguration.Rule||[]);c.EncryptionConfiguration={Rules:l},o(t,c)})}function E(e,o){de.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"encryption"},function(t,c){if(t&&t.statusCode===204)return o(null,{statusCode:t.statusCode});if(t)return o(t);o(null,{statusCode:c.statusCode,headers:c.headers})})}function D(e,o){de.call(this,{Action:"name/cos:HeadObject",method:"HEAD",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(t,c){if(t){var d=t.statusCode;return e.Headers["If-Modified-Since"]&&d&&d===304?o(null,{NotModified:!0,statusCode:d}):o(t)}c.ETag=n.attr(c.headers,"etag",""),o(null,c)})}function I(e,o){var t={};t.prefix=e.Prefix||"",t.delimiter=e.Delimiter,t["key-marker"]=e.KeyMarker,t["version-id-marker"]=e.VersionIdMarker,t["max-keys"]=e.MaxKeys,t["encoding-type"]=e.EncodingType,de.call(this,{Action:"name/cos:GetBucketObjectVersions",ResourceKey:t.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:t,action:"versions"},function(c,d){if(c)return o(c);var l=d.ListVersionsResult||{},m=l.DeleteMarker||[];m=n.isArray(m)?m:[m];var x=l.Version||[];x=n.isArray(x)?x:[x];var G=n.clone(l);delete G.DeleteMarker,delete G.Version,n.extend(G,{DeleteMarkers:m,Versions:x,statusCode:d.statusCode,headers:d.headers}),o(null,G)})}function ue(e,o){var t=e.Query||{},c=e.QueryString||"",d=n.throttleOnProgress.call(this,0,e.onProgress),l=e.tracker;l&&l.setParams({signStartTime:new Date().getTime()}),t["response-content-type"]=e.ResponseContentType,t["response-content-language"]=e.ResponseContentLanguage,t["response-expires"]=e.ResponseExpires,t["response-cache-control"]=e.ResponseCacheControl,t["response-content-disposition"]=e.ResponseContentDisposition,t["response-content-encoding"]=e.ResponseContentEncoding,de.call(this,{Action:"name/cos:GetObject",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,DataType:e.DataType,headers:e.Headers,qs:t,qsStr:c,rawBody:!0,onDownloadProgress:d,tracker:l},function(m,x){if(d(null,!0),m){var G=m.statusCode;return e.Headers["If-Modified-Since"]&&G&&G===304?o(null,{NotModified:!0}):o(m)}o(null,{Body:x.body,ETag:n.attr(x.headers,"etag",""),statusCode:x.statusCode,headers:x.headers})})}function ae(e,o){var t=this,c=e.ContentLength,d=n.throttleOnProgress.call(t,c,e.onProgress),l=e.Headers;!l["Cache-Control"]&&!l["cache-control"]&&(l["Cache-Control"]=""),!l["Content-Type"]&&!l["content-type"]&&(l["Content-Type"]=e.Body&&e.Body.type||"");var m=e.UploadAddMetaMd5||t.options.UploadAddMetaMd5||t.options.UploadCheckContentMd5,x=e.tracker;m&&x&&x.setParams({md5StartTime:new Date().getTime()}),n.getBodyMd5(m,e.Body,function(G){G&&(x&&x.setParams({md5EndTime:new Date().getTime()}),t.options.UploadCheckContentMd5&&(l["Content-MD5"]=n.binaryBase64(G)),(e.UploadAddMetaMd5||t.options.UploadAddMetaMd5)&&(l["x-cos-meta-md5"]=G)),e.ContentLength!==void 0&&(l["Content-Length"]=e.ContentLength),d(null,!0),de.call(t,{Action:"name/cos:PutObject",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:e.Query,body:e.Body,onProgress:d,tracker:x},function(ke,he){if(ke)return d(null,!0),o(ke);d({loaded:c,total:c},!0);var Re=qe({ForcePathStyle:t.options.ForcePathStyle,protocol:t.options.Protocol,domain:t.options.Domain,bucket:e.Bucket,region:t.options.UseAccelerate?"accelerate":e.Region,object:e.Key});Re=Re.substr(Re.indexOf("://")+3),he.Location=Re,he.ETag=n.attr(he.headers,"etag",""),o(null,he)})},e.onHashProgress)}function Be(e,o){de.call(this,{Action:"name/cos:DeleteObject",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,VersionId:e.VersionId,action:e.Recursive?"recursive":""},function(t,c){if(t){var d=t.statusCode;return d&&d===404?o(null,{BucketNotFound:!0,statusCode:d}):o(t)}o(null,{statusCode:c.statusCode,headers:c.headers})})}function k(e,o){de.call(this,{Action:"name/cos:GetObjectACL",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"acl"},function(t,c){if(t)return o(t);var d=c.AccessControlPolicy||{},l=d.Owner||{},m=d.AccessControlList&&d.AccessControlList.Grant||[];m=n.isArray(m)?m:[m];var x=Qe(d);delete x.GrantWrite,c.headers&&c.headers["x-cos-acl"]&&(x.ACL=c.headers["x-cos-acl"]),x=n.extend(x,{Owner:l,Grants:m,statusCode:c.statusCode,headers:c.headers}),o(null,x)})}function u(e,o){var t=e.Headers,c="";if(e.AccessControlPolicy){var d=n.clone(e.AccessControlPolicy||{}),l=d.Grants||d.Grant;l=n.isArray(l)?l:[l],delete d.Grant,delete d.Grants,d.AccessControlList={Grant:l},c=n.json2xml({AccessControlPolicy:d}),t["Content-Type"]="application/xml",t["Content-MD5"]=n.binaryBase64(n.md5(c))}n.each(t,function(m,x){x.indexOf("x-cos-grant-")===0&&(t[x]=je(t[x]))}),de.call(this,{Action:"name/cos:PutObjectACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"acl",headers:t,body:c},function(m,x){if(m)return o(m);o(null,{statusCode:x.statusCode,headers:x.headers})})}function h(e,o){var t=e.Headers;t.Origin=e.Origin,t["Access-Control-Request-Method"]=e.AccessControlRequestMethod,t["Access-Control-Request-Headers"]=e.AccessControlRequestHeaders,de.call(this,{Action:"name/cos:OptionsObject",method:"OPTIONS",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:t},function(c,d){if(c)return c.statusCode&&c.statusCode===403?o(null,{OptionsForbidden:!0,statusCode:c.statusCode}):o(c);var l=d.headers||{};o(null,{AccessControlAllowOrigin:l["access-control-allow-origin"],AccessControlAllowMethods:l["access-control-allow-methods"],AccessControlAllowHeaders:l["access-control-allow-headers"],AccessControlExposeHeaders:l["access-control-expose-headers"],AccessControlMaxAge:l["access-control-max-age"],statusCode:d.statusCode,headers:d.headers})})}function s(e,o){var t=this,c=e.Headers;!c["Cache-Control"]&&!c["cache-control"]&&(c["Cache-Control"]="");var d=e.CopySource||"",l=n.getSourceParams.call(this,d);if(!l){o(n.error(new Error("CopySource format error")));return}var m=l[1],x=l[3],G=decodeURIComponent(l[4]);de.call(this,{Scope:[{action:"name/cos:GetObject",bucket:m,region:x,prefix:G},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(ke,he){if(ke)return o(ke);var Re=n.clone(he.CopyObjectResult||{}),Pe=qe({ForcePathStyle:t.options.ForcePathStyle,protocol:t.options.Protocol,domain:t.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0});n.extend(Re,{Location:Pe,statusCode:he.statusCode,headers:he.headers}),o(null,Re)})}function p(e,o){var t=e.CopySource||"",c=n.getSourceParams.call(this,t);if(!c){o(n.error(new Error("CopySource format error")));return}var d=c[1],l=c[3],m=decodeURIComponent(c[4]);de.call(this,{Scope:[{action:"name/cos:GetObject",bucket:d,region:l,prefix:m},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers},function(x,G){if(x)return o(x);var ke=n.clone(G.CopyPartResult||{});n.extend(ke,{statusCode:G.statusCode,headers:G.headers}),o(null,ke)})}function B(e,o){var t=e.Objects||[],c=e.Quiet;t=n.isArray(t)?t:[t];var d=n.json2xml({Delete:{Object:t,Quiet:c||!1}}),l=e.Headers;l["Content-Type"]="application/xml",l["Content-MD5"]=n.binaryBase64(n.md5(d));var m=n.map(t,function(x){return{action:"name/cos:DeleteObject",bucket:e.Bucket,region:e.Region,prefix:x.Key}});de.call(this,{Scope:m,method:"POST",Bucket:e.Bucket,Region:e.Region,body:d,action:"delete",headers:l},function(x,G){if(x)return o(x);var ke=G.DeleteResult||{},he=ke.Deleted||[],Re=ke.Error||[];he=n.isArray(he)?he:[he],Re=n.isArray(Re)?Re:[Re];var Pe=n.clone(ke);n.extend(Pe,{Error:Re,Deleted:he,statusCode:G.statusCode,headers:G.headers}),o(null,Pe)})}function P(e,o){var t=e.Headers;if(!e.RestoreRequest){o(n.error(new Error("missing param RestoreRequest")));return}var c=e.RestoreRequest||{},d=n.json2xml({RestoreRequest:c});t["Content-Type"]="application/xml",t["Content-MD5"]=n.binaryBase64(n.md5(d)),de.call(this,{Action:"name/cos:RestoreObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,body:d,action:"restore",headers:t},o)}function te(e,o){var t=e.Tagging||{},c=t.TagSet||t.Tags||e.Tags||[];c=n.clone(n.isArray(c)?c:[c]);var d=n.json2xml({Tagging:{TagSet:{Tag:c}}}),l=e.Headers;l["Content-Type"]="application/xml",l["Content-MD5"]=n.binaryBase64(n.md5(d)),de.call(this,{Action:"name/cos:PutObjectTagging",method:"PUT",Bucket:e.Bucket,Key:e.Key,Region:e.Region,body:d,action:"tagging",headers:l,VersionId:e.VersionId},function(m,x){if(m&&m.statusCode===204)return o(null,{statusCode:m.statusCode});if(m)return o(m);o(null,{statusCode:x.statusCode,headers:x.headers})})}function ne(e,o){de.call(this,{Action:"name/cos:GetObjectTagging",method:"GET",Key:e.Key,Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging",VersionId:e.VersionId},function(t,c){if(t){if(t.statusCode===404&&t.error&&(t.error==="Not Found"||t.error.Code==="NoSuchTagSet")){var d={Tags:[],statusCode:t.statusCode};t.headers&&(d.headers=t.headers),o(null,d)}else o(t);return}var l=[];try{l=c.Tagging.TagSet.Tag||[]}catch{}l=n.clone(n.isArray(l)?l:[l]),o(null,{Tags:l,statusCode:c.statusCode,headers:c.headers})})}function Ce(e,o){de.call(this,{Action:"name/cos:DeleteObjectTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"tagging",VersionId:e.VersionId},function(t,c){if(t&&t.statusCode===204)return o(null,{statusCode:t.statusCode});if(t)return o(t);o(null,{statusCode:c.statusCode,headers:c.headers})})}function X(e,o){var t=e.SelectType;if(!t)return o(n.error(new Error("missing param SelectType")));var c=e.SelectRequest||{},d=n.json2xml({SelectRequest:c}),l=e.Headers;l["Content-Type"]="application/xml",l["Content-MD5"]=n.binaryBase64(n.md5(d)),de.call(this,{Action:"name/cos:GetObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"select",qs:{"select-type":e.SelectType},VersionId:e.VersionId,body:d,DataType:"arraybuffer",rawBody:!0},function(m,x){if(m&&m.statusCode===204)return o(null,{statusCode:m.statusCode});if(m)return o(m);var G=n.parseSelectPayload(x.body);o(null,{statusCode:x.statusCode,headers:x.headers,Body:G.body,Payload:G.payload})})}function Oe(e,o){var t=this,c=e.Headers,d=e.tracker;!c["Cache-Control"]&&!c["cache-control"]&&(c["Cache-Control"]=""),!c["Content-Type"]&&!c["content-type"]&&(c["Content-Type"]=e.Body&&e.Body.type||"");var l=e.Body&&(e.UploadAddMetaMd5||t.options.UploadAddMetaMd5);l&&d&&d.setParams({md5StartTime:new Date().getTime()}),n.getBodyMd5(l,e.Body,function(m){m&&(e.Headers["x-cos-meta-md5"]=m),l&&d&&d.setParams({md5EndTime:new Date().getTime()}),de.call(t,{Action:"name/cos:InitiateMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"uploads",headers:e.Headers,qs:e.Query,tracker:d},function(x,G){if(x)return d&&d.parent&&d.parent.setParams({errorNode:"multipartInit"}),o(x);if(G=n.clone(G||{}),G&&G.InitiateMultipartUploadResult)return o(null,n.extend(G.InitiateMultipartUploadResult,{statusCode:G.statusCode,headers:G.headers}));o(null,G)})},e.onHashProgress)}function r(e,o){var t=this;n.getFileSize("multipartUpload",e,function(){var c=e.tracker,d=t.options.UploadCheckContentMd5;d&&c&&c.setParams({md5StartTime:new Date().getTime()}),n.getBodyMd5(d,e.Body,function(l){l&&(e.Headers["Content-MD5"]=n.binaryBase64(l)),d&&c&&c.setParams({md5EndTime:new Date().getTime()}),c&&c.setParams({partNumber:e.PartNumber}),de.call(t,{Action:"name/cos:UploadPart",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers,onProgress:e.onProgress,body:e.Body||null,tracker:c},function(m,x){if(m)return c&&c.parent&&c.parent.setParams({errorNode:"multipartUpload"}),o(m);o(null,{ETag:n.attr(x.headers,"etag",""),statusCode:x.statusCode,headers:x.headers})})})})}function a(e,o){for(var t=this,c=e.UploadId,d=e.Parts,l=e.tracker,m=0,x=d.length;m<x;m++)d[m].ETag&&d[m].ETag.indexOf('"')===0||(d[m].ETag='"'+d[m].ETag+'"');var G=n.json2xml({CompleteMultipartUpload:{Part:d}});G=G.replace(/\n\s*/g,"");var ke=e.Headers;ke["Content-Type"]="application/xml",ke["Content-MD5"]=n.binaryBase64(n.md5(G)),de.call(this,{Action:"name/cos:CompleteMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{uploadId:c},body:G,headers:ke,tracker:l},function(he,Re){if(he)return l&&l.parent&&l.parent.setParams({errorNode:"multipartComplete"}),o(he);var Pe=qe({ForcePathStyle:t.options.ForcePathStyle,protocol:t.options.Protocol,domain:t.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0}),Ve=Re.CompleteMultipartUploadResult||{};Ve.ProcessResults&&Ve&&Ve.ProcessResults&&(Ve.UploadResult={OriginalInfo:{Key:Ve.Key,Location:Pe,ETag:Ve.ETag,ImageInfo:Ve.ImageInfo},ProcessResults:Ve.ProcessResults},delete Ve.ImageInfo,delete Ve.ProcessResults);var $e=n.extend(Ve,{Location:Pe,statusCode:Re.statusCode,headers:Re.headers});o(null,$e)})}function C(e,o){var t={};t.delimiter=e.Delimiter,t["encoding-type"]=e.EncodingType,t.prefix=e.Prefix||"",t["max-uploads"]=e.MaxUploads,t["key-marker"]=e.KeyMarker,t["upload-id-marker"]=e.UploadIdMarker,t=n.clearKey(t);var c=e.tracker;c&&c.setParams({signStartTime:new Date().getTime()}),de.call(this,{Action:"name/cos:ListMultipartUploads",ResourceKey:t.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:t,action:"uploads",tracker:c},function(d,l){if(d)return c&&c.parent&&c.parent.setParams({errorNode:"multipartList"}),o(d);if(l&&l.ListMultipartUploadsResult){var m=l.ListMultipartUploadsResult.Upload||[];m=n.isArray(m)?m:[m],l.ListMultipartUploadsResult.Upload=m}var x=n.clone(l.ListMultipartUploadsResult||{});n.extend(x,{statusCode:l.statusCode,headers:l.headers}),o(null,x)})}function w(e,o){var t={},c=e.tracker;t.uploadId=e.UploadId,t["encoding-type"]=e.EncodingType,t["max-parts"]=e.MaxParts,t["part-number-marker"]=e.PartNumberMarker,de.call(this,{Action:"name/cos:ListParts",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:t},function(d,l){if(d)return c&&c.parent&&c.parent.setParams({errorNode:"multipartListPart"}),o(d);var m=l.ListPartsResult||{},x=m.Part||[];x=n.isArray(x)?x:[x],m.Part=x;var G=n.clone(m);n.extend(G,{statusCode:l.statusCode,headers:l.headers}),o(null,G)})}function V(e,o){var t={};t.uploadId=e.UploadId,de.call(this,{Action:"name/cos:AbortMultipartUpload",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:t},function(c,d){if(c)return o(c);o(null,{statusCode:d.statusCode,headers:d.headers})})}function le(e,o){de.call(this,{method:e.Method,Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:e.Action,headers:e.Headers,qs:e.Query,body:e.Body,Url:e.Url,rawBody:e.RawBody,DataType:e.DataType},function(t,c){if(t)return o(t);c&&c.body&&(c.Body=c.body,delete c.body),o(t,c)})}function Ie(e,o){var t=e.Headers;!t["Cache-Control"]&&!t["cache-control"]&&(t["Cache-Control"]=""),!t["Content-Type"]&&!t["content-type"]&&(t["Content-Type"]=e.Body&&e.Body.type||""),de.call(this,{Action:"name/cos:AppendObject",method:"POST",Bucket:e.Bucket,Region:e.Region,action:"append",Key:e.Key,body:e.Body,qs:{position:e.Position},headers:e.Headers},function(c,d){if(c)return o(c);o(null,d)})}function Ne(e){var o=this;return n.getAuth({SecretId:e.SecretId||this.options.SecretId||"",SecretKey:e.SecretKey||this.options.SecretKey||"",Bucket:e.Bucket,Region:e.Region,Method:e.Method,Key:e.Key,Query:e.Query,Headers:e.Headers,Expires:e.Expires,UseRawKey:o.options.UseRawKey,SystemClockOffset:o.options.SystemClockOffset})}function Xe(e,o){var t=this,c=e.UseAccelerate===void 0?t.options.UseAccelerate:e.UseAccelerate,d=qe({ForcePathStyle:t.options.ForcePathStyle,protocol:e.Protocol||t.options.Protocol,domain:e.Domain||t.options.Domain,bucket:e.Bucket,region:c?"accelerate":e.Region,object:e.Key}),l="";e.Query&&(l+=n.obj2str(e.Query)),e.QueryString&&(l+=(l?"&":"")+e.QueryString);var m=d;if(e.Sign!==void 0&&!e.Sign)return l&&(m+="?"+l),o(null,{Url:m}),m;var x=He.call(this,{Bucket:e.Bucket,Region:e.Region,UseAccelerate:e.UseAccelerate,Url:d}),G=Ke.call(this,{Action:(e.Method||"").toUpperCase()==="PUT"?"name/cos:PutObject":"name/cos:GetObject",Bucket:e.Bucket||"",Region:e.Region||"",Method:e.Method||"get",Key:e.Key,Expires:e.Expires,Headers:e.Headers,Query:e.Query,SignHost:x,ForceSignHost:e.ForceSignHost===!1?!1:t.options.ForceSignHost},function(ke,he){if(!!o){if(ke){o(ke);return}var Re=function($e){var Ze=$e.match(/q-url-param-list.*?(?=&)/g)[0],nt="q-url-param-list="+encodeURIComponent(Ze.replace(/q-url-param-list=/,"")).toLowerCase(),et=new RegExp(Ze,"g"),Ge=$e.replace(et,nt);return Ge},Pe=d;Pe+="?"+(he.Authorization.indexOf("q-signature")>-1?Re(he.Authorization):"sign="+encodeURIComponent(he.Authorization)),he.SecurityToken&&(Pe+="&x-cos-security-token="+he.SecurityToken),he.ClientIP&&(Pe+="&clientIP="+he.ClientIP),he.ClientUA&&(Pe+="&clientUA="+he.ClientUA),he.Token&&(Pe+="&token="+he.Token),l&&(Pe+="&"+l),setTimeout(function(){o(null,{Url:Pe})})}});return G?(m+="?"+G.Authorization+(G.SecurityToken?"&x-cos-security-token="+G.SecurityToken:""),l&&(m+="&"+l)):l&&(m+="?"+l),m}function Qe(e){var o={GrantFullControl:[],GrantWrite:[],GrantRead:[],GrantReadAcp:[],GrantWriteAcp:[],ACL:""},t={FULL_CONTROL:"GrantFullControl",WRITE:"GrantWrite",READ:"GrantRead",READ_ACP:"GrantReadAcp",WRITE_ACP:"GrantWriteAcp"},c=e&&e.AccessControlList||{},d=c.Grant;d&&(d=n.isArray(d)?d:[d]);var l={READ:0,WRITE:0,FULL_CONTROL:0};return d&&d.length&&n.each(d,function(m){m.Grantee.ID==="qcs::cam::anyone:anyone"||m.Grantee.URI==="http://cam.qcloud.com/groups/global/AllUsers"?l[m.Permission]=1:m.Grantee.ID!==e.Owner.ID&&o[t[m.Permission]].push('id="'+m.Grantee.ID+'"')}),l.FULL_CONTROL||l.WRITE&&l.READ?o.ACL="public-read-write":l.READ?o.ACL="public-read":o.ACL="private",n.each(t,function(m){o[m]=je(o[m].join(","))}),o}function je(e){var o=e.split(","),t={},c,d;for(c=0;c<o.length;)d=o[c].trim(),t[d]?o.splice(c,1):(t[d]=!0,o[c]=d,c++);return o.join(",")}function qe(e){var o=e.region||"",t=e.bucket||"",c=t.substr(0,t.lastIndexOf("-")),d=t.substr(t.lastIndexOf("-")+1),l=e.domain,m=e.object;typeof l=="function"&&(l=l({Bucket:t,Region:o}));var x=e.protocol||(n.isBrowser&&location.protocol==="http:"?"http:":"https:");l||(["cn-south","cn-south-2","cn-north","cn-east","cn-southwest","sg"].indexOf(o)>-1?l="{Region}.myqcloud.com":l="cos.{Region}.myqcloud.com",e.ForcePathStyle||(l="{Bucket}."+l)),l=l.replace(/\{\{AppId\}\}/ig,d).replace(/\{\{Bucket\}\}/ig,c).replace(/\{\{Region\}\}/ig,o).replace(/\{\{.*?\}\}/ig,""),l=l.replace(/\{AppId\}/ig,d).replace(/\{BucketName\}/ig,c).replace(/\{Bucket\}/ig,t).replace(/\{Region\}/ig,o).replace(/\{.*?\}/ig,""),/^[a-zA-Z]+:\/\//.test(l)||(l=x+"//"+l),l.slice(-1)==="/"&&(l=l.slice(0,-1));var G=l;return e.ForcePathStyle&&(G+="/"+t),G+="/",m&&(G+=n.camSafeUrlEncode(m).replace(/%2F/g,"/")),e.isLocation&&(G=G.replace(/^https?:\/\//,"")),G}var He=function(o){if(!o.Bucket||!o.Region)return"";var t=o.UseAccelerate===void 0?this.options.UseAccelerate:o.UseAccelerate,c=o.Url||qe({ForcePathStyle:this.options.ForcePathStyle,protocol:this.options.Protocol,domain:this.options.Domain,bucket:o.Bucket,region:t?"accelerate":o.Region}),d=c.replace(/^https?:\/\/([^/]+)(\/.*)?$/,"$1"),l=new RegExp("^([a-z\\d-]+-\\d+\\.)?(cos|cosv6|ci|pic)\\.([a-z\\d-]+)\\.myqcloud\\.com$");return l.test(d)?d:""};function Ke(e,o){var t=n.clone(e.Headers),c="";n.each(t,function(Le,Fe){(Le===""||["content-type","cache-control","expires"].indexOf(Fe.toLowerCase())>-1)&&delete t[Fe],Fe.toLowerCase()==="host"&&(c=Le)});var d=e.ForceSignHost!==!1;!c&&e.SignHost&&d&&(t.Host=e.SignHost);var l=!1,m=function(Fe,We){l||(l=!0,We&&We.XCosSecurityToken&&!We.SecurityToken&&(We=n.clone(We),We.SecurityToken=We.XCosSecurityToken,delete We.XCosSecurityToken),o&&o(Fe,We))},x=this,G=e.Bucket||"",ke=e.Region||"",he=e.Key||"";x.options.ForcePathStyle&&G&&(he=G+"/"+he);var Re="/"+he,Pe={},Ve=e.Scope;if(!Ve){var $e=e.Action||"",Ze=e.ResourceKey||e.Key||"";Ve=e.Scope||[{action:$e,bucket:G,region:ke,prefix:Ze}]}var nt=n.md5(JSON.stringify(Ve));x._StsCache=x._StsCache||[],function(){var Le,Fe;for(Le=x._StsCache.length-1;Le>=0;Le--){Fe=x._StsCache[Le];var We=Math.round(n.getSkewTime(x.options.SystemClockOffset)/1e3)+30;if(Fe.StartTime&&We<Fe.StartTime||We>=Fe.ExpiredTime){x._StsCache.splice(Le,1);continue}if(!Fe.ScopeLimit||Fe.ScopeLimit&&Fe.ScopeKey===nt){Pe=Fe;break}}}();var et=function(){var Fe="";Pe.StartTime&&e.Expires?Fe=Pe.StartTime+";"+(Pe.StartTime+e.Expires*1):Pe.StartTime&&Pe.ExpiredTime&&(Fe=Pe.StartTime+";"+Pe.ExpiredTime);var We=n.getAuth({SecretId:Pe.TmpSecretId,SecretKey:Pe.TmpSecretKey,Method:e.Method,Pathname:Re,Query:e.Query,Headers:t,Expires:e.Expires,UseRawKey:x.options.UseRawKey,SystemClockOffset:x.options.SystemClockOffset,KeyTime:Fe,ForceSignHost:d}),tt={Authorization:We,SecurityToken:Pe.SecurityToken||Pe.XCosSecurityToken||"",Token:Pe.Token||"",ClientIP:Pe.ClientIP||"",ClientUA:Pe.ClientUA||""};m(null,tt)},Ge=function(Fe){if(Fe.Authorization){var We=!1,tt=Fe.Authorization;if(tt)if(tt.indexOf(" ")>-1)We=!1;else if(tt.indexOf("q-sign-algorithm=")>-1&&tt.indexOf("q-ak=")>-1&&tt.indexOf("q-sign-time=")>-1&&tt.indexOf("q-key-time=")>-1&&tt.indexOf("q-url-param-list=")>-1)We=!0;else try{tt=atob(tt),tt.indexOf("a=")>-1&&tt.indexOf("k=")>-1&&tt.indexOf("t=")>-1&&tt.indexOf("r=")>-1&&tt.indexOf("b=")>-1&&(We=!0)}catch{}if(!We)return n.error(new Error("getAuthorization callback params format error"))}else{if(!Fe.TmpSecretId)return n.error(new Error('getAuthorization callback params missing "TmpSecretId"'));if(!Fe.TmpSecretKey)return n.error(new Error('getAuthorization callback params missing "TmpSecretKey"'));if(!Fe.SecurityToken&&!Fe.XCosSecurityToken)return n.error(new Error('getAuthorization callback params missing "SecurityToken"'));if(!Fe.ExpiredTime)return n.error(new Error('getAuthorization callback params missing "ExpiredTime"'));if(Fe.ExpiredTime&&Fe.ExpiredTime.toString().length!==10)return n.error(new Error('getAuthorization callback params "ExpiredTime" should be 10 digits'));if(Fe.StartTime&&Fe.StartTime.toString().length!==10)return n.error(new Error('getAuthorization callback params "StartTime" should be 10 StartTime'))}return!1};if(Pe.ExpiredTime&&Pe.ExpiredTime-n.getSkewTime(x.options.SystemClockOffset)/1e3>60)et();else if(x.options.getAuthorization)x.options.getAuthorization.call(x,{Bucket:G,Region:ke,Method:e.Method,Key:he,Pathname:Re,Query:e.Query,Headers:t,Scope:Ve,SystemClockOffset:x.options.SystemClockOffset,ForceSignHost:d},function(Le){typeof Le=="string"&&(Le={Authorization:Le});var Fe=Ge(Le);if(Fe)return m(Fe);Le.Authorization?m(null,Le):(Pe=Le||{},Pe.Scope=Ve,Pe.ScopeKey=nt,x._StsCache.push(Pe),et())});else if(x.options.getSTS)x.options.getSTS.call(x,{Bucket:G,Region:ke},function(Le){Pe=Le||{},Pe.Scope=Ve,Pe.ScopeKey=nt,Pe.TmpSecretId||(Pe.TmpSecretId=Pe.SecretId),Pe.TmpSecretKey||(Pe.TmpSecretKey=Pe.SecretKey);var Fe=Ge(Pe);if(Fe)return m(Fe);x._StsCache.push(Pe),et()});else return function(){var Le=n.getAuth({SecretId:e.SecretId||x.options.SecretId,SecretKey:e.SecretKey||x.options.SecretKey,Method:e.Method,Pathname:Re,Query:e.Query,Headers:t,Expires:e.Expires,UseRawKey:x.options.UseRawKey,SystemClockOffset:x.options.SystemClockOffset,ForceSignHost:d}),Fe={Authorization:Le,SecurityToken:x.options.SecurityToken||x.options.XCosSecurityToken};return m(null,Fe),Fe}();return""}function Ye(e){var o=!1,t=!1,c=e.headers&&(e.headers.date||e.headers.Date)||e.error&&e.error.ServerTime;try{var d=e.error.Code,l=e.error.Message;(d==="RequestTimeTooSkewed"||d==="AccessDenied"&&l==="Request has expired")&&(t=!0)}catch{}if(e)if(t&&c){var m=Date.parse(c);this.options.CorrectClockSkew&&Math.abs(n.getSkewTime(this.options.SystemClockOffset)-m)>=3e4&&(console.error("error: Local time is too skewed."),this.options.SystemClockOffset=m-Date.now(),o=!0)}else Math.floor(e.statusCode/100)===5&&(o=!0);return o}function de(e,o){var t=this;!e.headers&&(e.headers={}),!e.qs&&(e.qs={}),e.VersionId&&(e.qs.versionId=e.VersionId),e.qs=n.clearKey(e.qs),e.headers&&(e.headers=n.clearKey(e.headers)),e.qs&&(e.qs=n.clearKey(e.qs));var c=n.clone(e.qs);e.action&&(c[e.action]="");var d=e.url||e.Url,l=e.SignHost||He.call(this,{Bucket:e.Bucket,Region:e.Region,Url:d}),m=e.tracker,x=function G(ke){var he=t.options.SystemClockOffset;m&&m.setParams({signStartTime:new Date().getTime(),retryTimes:ke-1}),Ke.call(t,{Bucket:e.Bucket||"",Region:e.Region||"",Method:e.method,Key:e.Key,Query:c,Headers:e.headers,SignHost:l,Action:e.Action,ResourceKey:e.ResourceKey,Scope:e.Scope,ForceSignHost:t.options.ForceSignHost},function(Re,Pe){if(Re){o(Re);return}m&&m.setParams({signEndTime:new Date().getTime(),httpStartTime:new Date().getTime()}),e.AuthData=Pe,ze.call(t,e,function(Ve,$e){m&&m.setParams({httpEndTime:new Date().getTime()}),Ve&&ke<2&&(he!==t.options.SystemClockOffset||Ye.call(t,Ve))?(e.headers&&(delete e.headers.Authorization,delete e.headers.token,delete e.headers.clientIP,delete e.headers.clientUA,e.headers["x-cos-security-token"]&&delete e.headers["x-cos-security-token"],e.headers["x-ci-security-token"]&&delete e.headers["x-ci-security-token"]),G(ke+1)):o(Ve,$e)})})};x(1)}function ze(e,o){var t=this,c=e.TaskId;if(!(c&&!t._isRunningTask(c))){var d=e.Bucket,l=e.Region,m=e.Key,x=e.method||"GET",G=e.Url||e.url,ke=e.body,he=e.rawBody;t.options.UseAccelerate&&(l="accelerate"),G=G||qe({ForcePathStyle:t.options.ForcePathStyle,protocol:t.options.Protocol,domain:t.options.Domain,bucket:d,region:l,object:m}),e.action&&(G=G+"?"+e.action),e.qsStr&&(G.indexOf("?")>-1?G=G+"&"+e.qsStr:G=G+"?"+e.qsStr);var Re={method:x,url:G,headers:e.headers,qs:e.qs,body:ke},Pe="x-cos-security-token";if(n.isCIHost(G)&&(Pe="x-ci-security-token"),Re.headers.Authorization=e.AuthData.Authorization,e.AuthData.Token&&(Re.headers.token=e.AuthData.Token),e.AuthData.ClientIP&&(Re.headers.clientIP=e.AuthData.ClientIP),e.AuthData.ClientUA&&(Re.headers.clientUA=e.AuthData.ClientUA),e.AuthData.SecurityToken&&(Re.headers[Pe]=e.AuthData.SecurityToken),Re.headers&&(Re.headers=n.clearKey(Re.headers)),Re=n.clearKey(Re),e.onProgress&&typeof e.onProgress=="function"){var Ve=ke&&(ke.size||ke.length)||0;Re.onProgress=function(Le){if(!(c&&!t._isRunningTask(c))){var Fe=Le?Le.loaded:0;e.onProgress({loaded:Fe,total:Ve})}}}e.onDownloadProgress&&(Re.onDownloadProgress=e.onDownloadProgress),e.DataType&&(Re.dataType=e.DataType),this.options.Timeout&&(Re.timeout=this.options.Timeout),t.options.ForcePathStyle&&(Re.pathStyle=t.options.ForcePathStyle),t.emit("before-send",Re);var $e=Re.url.includes("accelerate."),Ze=Re.qs?Object.keys(Re.qs).map(function(Le){return"".concat(Le,"=").concat(Re.qs[Le])}).join("&"):"",nt=Ze?Re.url+"?"+Ze:Re.url;e.tracker&&e.tracker.setParams({reqUrl:nt,accelerate:$e?"Y":"N"}),e.tracker&&e.tracker.parent&&e.tracker.parent.setParams({reqUrl:nt,accelerate:$e?"Y":"N"});var et=(t.options.Request||g)(Re,function(Le){if(Le.error!=="abort"){var Fe={options:Re,error:tt,statusCode:We&&We.statusCode||0,headers:We&&We.headers||{},body:rt};t.emit("after-receive",Fe),tt=Fe.error,rt=Fe.body,We={statusCode:Fe.statusCode,headers:Fe.headers},t.emit("after-receive",Le);var We={statusCode:Le.statusCode,statusMessage:Le.statusMessage,headers:Le.headers},tt=Le.error,rt=Le.body,dt,ot=function(ut,lt){if(c&&t.off("inner-kill-task",Ge),!dt){dt=!0;var ct={};We&&We.statusCode&&(ct.statusCode=We.statusCode),We&&We.headers&&(ct.headers=We.headers),ut?(ut=n.extend(ut||{},ct),o(ut,null)):(lt=n.extend(lt||{},ct),o(null,lt)),et=null}};if(tt)return ot(n.error(tt));var st=We.statusCode,ft=Math.floor(st/100)===2;if(he&&ft)return ot(null,{body:rt});var it;try{it=rt&&rt.indexOf("<")>-1&&rt.indexOf(">")>-1&&n.xml2json(rt)||{}}catch{it={}}var at=it&&it.Error;ft?ot(null,it):at?ot(n.error(new Error(at.Message),{code:at.Code,error:at})):st?ot(n.error(new Error(We.statusMessage),{code:""+st})):st&&ot(n.error(new Error("statusCode error")))}}),Ge=function Le(Fe){Fe.TaskId===c&&(et&&et.abort&&et.abort(),t.off("inner-kill-task",Le))};c&&t.on("inner-kill-task",Ge)}}var Je={getService:Y,putBucket:R,headBucket:K,getBucket:ee,deleteBucket:N,putBucketAcl:A,getBucketAcl:j,putBucketCors:Q,getBucketCors:J,deleteBucketCors:M,getBucketLocation:L,getBucketPolicy:W,putBucketPolicy:ie,deleteBucketPolicy:xe,putBucketTagging:U,getBucketTagging:T,deleteBucketTagging:y,putBucketLifecycle:O,getBucketLifecycle:f,deleteBucketLifecycle:H,putBucketVersioning:_,getBucketVersioning:F,putBucketReplication:Se,getBucketReplication:b,deleteBucketReplication:q,putBucketWebsite:z,getBucketWebsite:$,deleteBucketWebsite:re,putBucketReferer:ce,getBucketReferer:ge,putBucketDomain:ye,getBucketDomain:oe,deleteBucketDomain:pe,putBucketOrigin:ve,getBucketOrigin:me,deleteBucketOrigin:fe,putBucketLogging:se,getBucketLogging:Te,putBucketInventory:De,getBucketInventory:Ee,listBucketInventory:be,deleteBucketInventory:we,putBucketAccelerate:Ue,getBucketAccelerate:Me,putBucketEncryption:Ae,getBucketEncryption:Z,deleteBucketEncryption:E,getObject:ue,headObject:D,listObjectVersions:I,putObject:ae,deleteObject:Be,getObjectAcl:k,putObjectAcl:u,optionsObject:h,putObjectCopy:s,deleteMultipleObject:B,restoreObject:P,putObjectTagging:te,getObjectTagging:ne,deleteObjectTagging:Ce,selectObjectContent:X,appendObject:Ie,uploadPartCopy:p,multipartInit:Oe,multipartUpload:r,multipartComplete:a,multipartList:C,multipartListPart:w,multipartAbort:V,request:le,getObjectUrl:Xe,getAuth:Ne};function _e(e,o,t){n.each(["Cors","Acl"],function(c){if(e.slice(-c.length)===c){var d=e.slice(0,-c.length)+c.toUpperCase(),l=n.apiWrapper(e,o),m=!1;t[d]=function(){!m&&console.warn("warning: cos."+d+" has been deprecated. Please Use cos."+e+" instead."),m=!0,l.apply(this,arguments)}}})}v.exports.init=function(e,o){o.transferToTaskMethod(Je,"putObject"),n.each(Je,function(t,c){e.prototype[c]=n.apiWrapper(c,t),_e(c,t,e.prototype)})}},"./src/cos.js":function(v,S,i){var g=i("./src/util.js"),n=i("./src/event.js"),Y=i("./src/task.js"),R=i("./src/base.js"),K=i("./src/advance.js"),ee=i("./package.json"),N={AppId:"",SecretId:"",SecretKey:"",SecurityToken:"",ChunkRetryTimes:2,FileParallelLimit:3,ChunkParallelLimit:3,ChunkSize:1024*1024,SliceSize:1024*1024,CopyChunkParallelLimit:20,CopyChunkSize:1024*1024*10,CopySliceSize:1024*1024*10,MaxPartNumber:1e4,ProgressInterval:1e3,Domain:"",ServiceDomain:"",Protocol:"",CompatibilityMode:!1,ForcePathStyle:!1,UseRawKey:!1,Timeout:0,CorrectClockSkew:!0,SystemClockOffset:0,UploadCheckContentMd5:!1,UploadQueueSize:1e4,UploadAddMetaMd5:!1,UploadIdCacheLimit:50,UseAccelerate:!1,ForceSignHost:!0,EnableTracker:!1,DeepTracker:!1,TrackerDelay:5e3,CustomId:""},A=function(Q){this.options=g.extend(g.clone(N),Q||{}),this.options.FileParallelLimit=Math.max(1,this.options.FileParallelLimit),this.options.ChunkParallelLimit=Math.max(1,this.options.ChunkParallelLimit),this.options.ChunkRetryTimes=Math.max(0,this.options.ChunkRetryTimes),this.options.ChunkSize=Math.max(1024*1024,this.options.ChunkSize),this.options.CopyChunkParallelLimit=Math.max(1,this.options.CopyChunkParallelLimit),this.options.CopyChunkSize=Math.max(1024*1024,this.options.CopyChunkSize),this.options.CopySliceSize=Math.max(0,this.options.CopySliceSize),this.options.MaxPartNumber=Math.max(1024,Math.min(1e4,this.options.MaxPartNumber)),this.options.Timeout=Math.max(0,this.options.Timeout),this.options.AppId&&console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: "test-1250000000").'),this.options.SecretId&&this.options.SecretId.indexOf(" ")>-1&&(console.error("error: SecretId\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5"),console.error("error: SecretId format is incorrect. Please check")),this.options.SecretKey&&this.options.SecretKey.indexOf(" ")>-1&&(console.error("error: SecretKey\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5"),console.error("error: SecretKey format is incorrect. Please check")),g.isNode()&&(console.warn("warning: cos-js-sdk-v5 \u4E0D\u652F\u6301 nodejs \u73AF\u5883\u4F7F\u7528\uFF0C\u8BF7\u6539\u7528 cos-nodejs-sdk-v5\uFF0C\u53C2\u8003\u6587\u6863\uFF1A https://cloud.tencent.com/document/product/436/8629"),console.warn("warning: cos-js-sdk-v5 does not support nodejs environment. Please use cos-nodejs-sdk-v5 instead. See: https://cloud.tencent.com/document/product/436/8629")),n.init(this),Y.init(this)};R.init(A,Y),K.init(A,Y),A.util={md5:g.md5,xml2json:g.xml2json,json2xml:g.json2xml},A.getAuthorization=g.getAuth,A.version=ee.version,v.exports=A},"./src/event.js":function(v,S){var i=function(Y){var R={},K=function(N){return!R[N]&&(R[N]=[]),R[N]};Y.on=function(ee,N){ee==="task-list-update"&&console.warn('warning: Event "'+ee+'" has been deprecated. Please use "list-update" instead.'),K(ee).push(N)},Y.off=function(ee,N){for(var A=K(ee),j=A.length-1;j>=0;j--)N===A[j]&&A.splice(j,1)},Y.emit=function(ee,N){for(var A=K(ee).map(function(Q){return Q}),j=0;j<A.length;j++)A[j](N)}},g=function(){i(this)};v.exports.init=i,v.exports.EventProxy=g},"./src/session.js":function(v,S,i){var g=i("./src/util.js"),n="cos_sdk_upload_cache",Y=30*24*3600,R,K,ee=function(){try{var M=JSON.parse(localStorage.getItem(n))}catch{}M||(M=[]),R=M},N=function(){try{R.length?localStorage.setItem(n,JSON.stringify(R)):localStorage.removeItem(n)}catch{}},A=function(){if(!R){ee.call(this);for(var M=!1,L=Math.round(Date.now()/1e3),ie=R.length-1;ie>=0;ie--){var W=R[ie][2];(!W||W+Y<L)&&(R.splice(ie,1),M=!0)}M&&N()}},j=function(){K||(K=setTimeout(function(){N(),K=null},400))},Q={using:{},setUsing:function(M){Q.using[M]=!0},removeUsing:function(M){delete Q.using[M]},getFileId:function(M,L,ie,W){return M.name&&M.size&&M.lastModifiedDate&&L?g.md5([M.name,M.size,M.lastModifiedDate,L,ie,W].join("::")):null},getCopyFileId:function(M,L,ie,W,xe){var U=L["content-length"],T=L.etag||"",y=L["last-modified"];return M&&ie?g.md5([M,U,T,y,ie,W,xe].join("::")):null},getUploadIdList:function(M){if(!M)return null;A.call(this);for(var L=[],ie=0;ie<R.length;ie++)R[ie][0]===M&&L.push(R[ie][1]);return L.length?L:null},saveUploadId:function(M,L,ie){if(A.call(this),!!M){for(var W=R.length-1;W>=0;W--){var xe=R[W];xe[0]===M&&xe[1]===L&&R.splice(W,1)}R.unshift([M,L,Math.round(Date.now()/1e3)]),R.length>ie&&R.splice(ie),j()}},removeUploadId:function(M){A.call(this),delete Q.using[M];for(var L=R.length-1;L>=0;L--)R[L][1]===M&&R.splice(L,1);j()}};v.exports=Q},"./src/task.js":function(v,S,i){var g=i("./src/session.js"),n=i("./src/util.js"),Y={},R=function(N,A){Y[A]=N[A],N[A]=function(j,Q){j.SkipTask?Y[A].call(this,j,Q):this._addTask(A,j,Q)}},K=function(N){var A=[],j={},Q=0,J=0,M=function(y){var O={id:y.id,Bucket:y.Bucket,Region:y.Region,Key:y.Key,FilePath:y.FilePath,state:y.state,loaded:y.loaded,size:y.size,speed:y.speed,percent:y.percent,hashPercent:y.hashPercent,error:y.error};return y.FilePath&&(O.FilePath=y.FilePath),y._custom&&(O._custom=y._custom),O},L=function(){var T,y=function(){T=0,N.emit("task-list-update",{list:n.map(A,M)}),N.emit("list-update",{list:n.map(A,M)})};return function(){T||(T=setTimeout(y))}}(),ie=function(){if(!(A.length<=N.options.UploadQueueSize)){for(var y=0;y<J&&y<A.length&&A.length>N.options.UploadQueueSize;){var O=A[y].state==="waiting"||A[y].state==="checking"||A[y].state==="uploading";!A[y]||!O?(j[A[y].id]&&delete j[A[y].id],A.splice(y,1),J--):y++}L()}},W=function T(){if(!(Q>=N.options.FileParallelLimit)){for(;A[J]&&A[J].state!=="waiting";)J++;if(!(J>=A.length)){var y=A[J];J++,Q++,y.state="checking",y.params.onTaskStart&&y.params.onTaskStart(M(y)),!y.params.UploadData&&(y.params.UploadData={});var O=n.formatParams(y.api,y.params);Y[y.api].call(N,O,function(f,H){!N._isRunningTask(y.id)||((y.state==="checking"||y.state==="uploading")&&(y.state=f?"error":"success",f&&(y.error=f),Q--,L(),T(),y.callback&&y.callback(f,H),y.state==="success"&&(y.params&&(delete y.params.UploadData,delete y.params.Body,delete y.params),delete y.callback)),ie())}),L(),setTimeout(T)}}},xe=function(y,O){var f=j[y];if(!!f){var H=f&&f.state==="waiting",_=f&&(f.state==="checking"||f.state==="uploading");if(O==="canceled"&&f.state!=="canceled"||O==="paused"&&H||O==="paused"&&_){if(O==="paused"&&f.params.Body&&typeof f.params.Body.pipe=="function"){console.error("stream not support pause");return}f.state=O,N.emit("inner-kill-task",{TaskId:y,toState:O});try{var F=f&&f.params&&f.params.UploadData.UploadId}catch{}O==="canceled"&&F&&g.removeUsing(F),L(),_&&(Q--,W()),O==="canceled"&&(f.params&&(delete f.params.UploadData,delete f.params.Body,delete f.params),delete f.callback)}ie()}};N._addTasks=function(T){n.each(T,function(y){N._addTask(y.api,y.params,y.callback,!0)}),L()};var U=!0;N._addTask=function(T,y,O,f){y=n.formatParams(T,y);var H=n.uuid();y.TaskId=H,y.onTaskReady&&y.onTaskReady(H),y.TaskReady&&(y.TaskReady(H),U&&console.warn('warning: Param "TaskReady" has been deprecated. Please use "onTaskReady" instead.'),U=!1);var _={params:y,callback:O,api:T,index:A.length,id:H,Bucket:y.Bucket,Region:y.Region,Key:y.Key,FilePath:y.FilePath||"",state:"waiting",loaded:0,size:0,speed:0,percent:0,hashPercent:0,error:null,_custom:y._custom},F=y.onHashProgress;y.onHashProgress=function(b){!N._isRunningTask(_.id)||(_.hashPercent=b.percent,F&&F(b),L())};var Se=y.onProgress;return y.onProgress=function(b){!N._isRunningTask(_.id)||(_.state==="checking"&&(_.state="uploading"),_.loaded=b.loaded,_.speed=b.speed,_.percent=b.percent,Se&&Se(b),L())},n.getFileSize(T,y,function(b,q){if(b)return O(n.error(b));j[H]=_,A.push(_),_.size=q,!f&&L(),W(),ie()}),H},N._isRunningTask=function(T){var y=j[T];return!!(y&&(y.state==="checking"||y.state==="uploading"))},N.getTaskList=function(){return n.map(A,M)},N.cancelTask=function(T){xe(T,"canceled")},N.pauseTask=function(T){xe(T,"paused")},N.restartTask=function(T){var y=j[T];y&&(y.state==="paused"||y.state==="error")&&(y.state="waiting",L(),J=Math.min(J,y.index),W())},N.isUploadRunning=function(){return Q||J<A.length}};v.exports.transferToTaskMethod=R,v.exports.init=K},"./src/tracker.js":function(v,S,i){var g=i("./node_modules/@babel/runtime/helpers/classCallCheck.js"),n=i("./node_modules/@babel/runtime/helpers/createClass.js"),Y=i("./node_modules/@babel/runtime/helpers/typeof.js"),R=i("./package.json"),K=i("./lib/beacon.min.js"),ee=null,N=function(y){return ee||(ee=new K({appkey:"0AND0VEVB24UBGDU",versionCode:R.version,channelID:"js_sdk",openid:"openid",unionid:"unid",strictMode:!1,delay:y,sessionDuration:60*1e3})),ee},A={getUid:function(){var y=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return y()+y()+"-"+y()+"-"+y()+"-"+y()+"-"+y()+y()+y()},getNetType:function(){if((typeof navigator>"u"?"undefined":Y(navigator))==="object"){var y=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return(y==null?void 0:y.type)||(y==null?void 0:y.effectiveType)||"unknown"}return"unknown"},getOsType:function(){if((typeof navigator>"u"?"undefined":Y(navigator))!=="object")return"unknown os";var y=navigator.userAgent.toLowerCase(),O=/macintosh|mac os x/i.test(navigator.userAgent);return y.indexOf("win32")>=0||y.indexOf("wow32")>=0?"win32":y.indexOf("win64")>=0||y.indexOf("wow64")>=0?"win64":O?"mac":"unknown os"},isMobile:function(){var y=/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i;return!!((typeof navigator>"u"?"undefined":Y(navigator))==="object"&&navigator.userAgent.match(y))},isAndroid:function(){var y=/(Android|Adr|Linux)/i;return!!((typeof navigator>"u"?"undefined":Y(navigator))==="object"&&navigator.userAgent.match(y))},isIOS:function(){var y=/(iPhone|iPod|iPad|iOS)/i;return!!((typeof navigator>"u"?"undefined":Y(navigator))==="object"&&navigator.userAgent.match(y))},isOtherMobile:function(){return isMobile&&!isAndroid&&!isIOS},getDeviceName:function(){if((typeof navigator>"u"?"undefined":Y(navigator))!=="object")return"unknown device";var y=navigator.userAgent.toLowerCase();if(y.includes("app/tencent_wemeet"))return"tencent_wemeet";if(y.indexOf("maxthon")>=0){var O=y.match(/maxthon\/([\d.]+)/),f=O&&O[1]||"";return"\u50B2\u6E38\u6D4F\u89C8\u5668 ".concat(f).trim()}if(y.indexOf("qqbrowser")>=0){var H=y.match(/qqbrowser\/([\d.]+)/),_=H&&H[1]||"";return"QQ\u6D4F\u89C8\u5668 ".concat(_).trim()}if(y.indexOf("se 2.x")>=0)return"\u641C\u72D7\u6D4F\u89C8\u5668";if(y.indexOf("wxwork")>=0)return"\u5FAE\u4FE1\u5185\u7F6E\u6D4F\u89C8\u5668";if(y.indexOf("msie")>=0){var F=y.match(/msie ([\d.]+)/),Se=F&&F[1]||"";return"IE ".concat(Se).trim()}if(y.indexOf("firefox")>=0){var b=y.match(/firefox\/([\d.]+)/),q=b&&b[1]||"";return"Firefox ".concat(q).trim()}if(y.indexOf("chrome")>=0){var z=y.match(/chrome\/([\d.]+)/),$=z&&z[1]||"";return"Chrome ".concat($).trim()}if(y.indexOf("opera")>=0){var re=y.match(/opera.([\d.]+)/),ce=re&&re[1]||"";return"Opera ".concat(ce).trim()}if(y.indexOf("safari")>=0){var ge=y.match(/version\/([\d.]+)/),ye=ge&&ge[1]||"";return"Safari ".concat(ye).trim()}if(y.indexOf("edge")>=0){var oe=y.match(/edge\/([\d.]+)/),pe=oe&&oe[1]||"";return"edge ".concat(pe).trim()}return y.substr(0,200)}},j={isMobile:A.isMobile(),isBrowser:!A.isMobile(),mobileOsType:A.isAndroid()?"android":A.isIOS?"ios":"other_mobile",pcOsType:A.getOsType()},Q={deviceType:j.isMobile?"mobile":j.isBrowser?"browser":"unknown",devicePlatform:j.isMobile?j.mobileOsType:j.pcOsType,deviceName:A.getDeviceName()},J=["multipartInit","multipartUpload","multipartComplete","multipartList","multipartListPart","multipartAbort"],M=["putObject","postObject","appendObject","sliceUploadFile","uploadFile","uploadFiles"].concat(J),L=["getObject"];function ie(T){return M.includes(T)?"cos_upload":L.includes(T)?"cos_download":"base_service"}function W(T){return T.replace(/([A-Z])/g,"_$1").toLowerCase()}function xe(T){var y={},O=["tracePlatform","cossdkVersion","region","networkType","host","accelerate","requestPath","size","httpMd5","httpSign","httpFull","name","result","tookTime","errorNode","errorCode","errorMessage","errorRequestId","errorStatusCode","errorServiceName","errorType","traceId","bucket","appid","partNumber","retryTimes","reqUrl","customId","fullError","deviceType","devicePlatform","deviceName"],f=["tracePlatform","cossdkVersion","region","bucket","appid","networkType","host","accelerate","requestPath","partNumber","size","name","result","tookTime","errorRequestId","retryTimes","reqUrl","customId","deviceType","devicePlatform","deviceName"],H=T.result==="Success"?f:O;for(var _ in T)if(!!H.includes(_)){var F=W(_);y[F]=T[_]}return y}var U=function(){function T(y){g(this,T);var O=y.parent,f=y.traceId,H=y.bucket,_=y.region,F=y.apiName,Se=y.fileKey,b=y.fileSize,q=y.accelerate,z=y.customId,$=y.delay,re=y.deepTracker,ce=H&&H.substr(H.lastIndexOf("-")+1)||"";this.parent=O,this.deepTracker=re,this.params={cossdkVersion:R.version,region:_,networkType:"",host:"",accelerate:q?"Y":"N",requestPath:Se||"",size:b||-1,httpMd5:0,httpSign:0,httpFull:0,name:F||"",result:"",tookTime:0,errorNode:"",errorCode:"",errorMessage:"",errorRequestId:"",errorStatusCode:0,errorServiceName:"",tracePlatform:"cos-js-sdk-v5",traceId:f||A.getUid(),bucket:H,appid:ce,partNumber:0,retryTimes:0,reqUrl:"",customId:z||"",deviceType:Q.deviceType,devicePlatform:Q.devicePlatform,deviceName:Q.deviceName,md5StartTime:0,md5EndTime:0,signStartTime:0,signEndTime:0,httpStartTime:0,httpEndTime:0,startTime:new Date().getTime(),endTime:0},this.beacon=N($)}return n(T,[{key:"formatResult",value:function(O,f){var H,_,F,Se,b,q,z=new Date().getTime(),$=z-this.params.startTime,re=A.getNetType(),ce=O?(O==null?void 0:O.code)||(O==null||(H=O.error)===null||H===void 0?void 0:H.code)||(O==null||(_=O.error)===null||_===void 0?void 0:_.Code):"",ge=O?(O==null?void 0:O.message)||(O==null||(F=O.error)===null||F===void 0?void 0:F.message)||(O==null||(Se=O.error)===null||Se===void 0?void 0:Se.Message):"",ye=O?(O==null?void 0:O.resource)||(O==null||(b=O.error)===null||b===void 0?void 0:b.resource)||(O==null||(q=O.error)===null||q===void 0?void 0:q.Resource):"",oe=O?O==null?void 0:O.statusCode:f.statusCode,pe=O?(O==null?void 0:O.headers)&&(O==null?void 0:O.headers["x-cos-request-id"]):(f==null?void 0:f.headers)&&(f==null?void 0:f.headers["x-cos-request-id"]),ve=O?pe?"Server":"Client":"";if(Object.assign(this.params,{tookTime:$,networkType:re,httpMd5:this.params.md5EndTime-this.params.md5StartTime,httpSign:this.params.signEndTime-this.params.signStartTime,httpFull:this.params.httpEndTime-this.params.httpStartTime,result:O?"Fail":"Success",errorType:ve,errorCode:ce,errorStatusCode:oe,errorMessage:ge,errorServiceName:ye,errorRequestId:pe}),O&&(!ce||!ge)&&(this.params.fullError=O?JSON.stringify(O):""),this.params.name==="getObject"&&(this.params.size=f?f.headers&&f.headers["content-length"]:-1),this.params.reqUrl)try{var me=/^http(s)?:\/\/(.*?)\//.exec(this.params.reqUrl);this.params.host=me[2]}catch{this.params.host=this.params.reqUrl}this.sendEvents()}},{key:"setParams",value:function(O){Object.assign(this.params,O)}},{key:"sendEvents",value:function(){if(!(J.includes(this.params.name)&&!this.deepTracker)){var O=ie(this.params.name),f=xe(this.params);this.params.delay===0?this.beacon.onDirectUserAction(O,f):this.beacon.onUserAction(O,f),this.destroy()}}},{key:"generateSubTracker",value:function(O){return Object.assign(O,{parent:this,deepTracker:this.deepTracker,traceId:this.params.traceId,bucket:this.params.bucket,region:this.params.region,fileKey:this.params.requestPath,customId:this.params.customId,delay:this.params.delay}),new T(O)}},{key:"destroy",value:function(){this.beacon=null,this.params={}}}]),T}();v.exports=U},"./src/util.js":function(v,S,i){(function(g){var n=i("./node_modules/@babel/runtime/helpers/typeof.js"),Y=i("./lib/md5.js"),R=i("./lib/crypto.js"),K=i("./lib/xml2json.js"),ee=i("./lib/json2xml.js"),N=i("./src/tracker.js");function A(Z){return encodeURIComponent(Z).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function j(Z,E){var D=[];for(var I in Z)Z.hasOwnProperty(I)&&D.push(E?A(I).toLowerCase():I);return D.sort(function(ue,ae){return ue=ue.toLowerCase(),ae=ae.toLowerCase(),ue===ae?0:ue>ae?1:-1})}var Q=function(E,D){var I,ue,ae,Be=[],k=j(E);for(I=0;I<k.length;I++)ue=k[I],ae=E[ue]===void 0||E[ue]===null?"":""+E[ue],ue=D?A(ue).toLowerCase():A(ue),ae=A(ae)||"",Be.push(ue+"="+ae);return Be.join("&")},J=["content-disposition","content-encoding","content-length","content-md5","expect","host","if-match","if-modified-since","if-none-match","if-unmodified-since","origin","range","response-cache-control","response-content-disposition","response-content-encoding","response-content-language","response-content-type","response-expires","transfer-encoding","versionid"],M=function(E){var D={};for(var I in E){var ue=I.toLowerCase();(ue.indexOf("x-cos-")>-1||J.indexOf(ue)>-1)&&(D[I]=E[I])}return D},L=function(E){E=E||{};var D=E.SecretId,I=E.SecretKey,ue=E.KeyTime,ae=(E.method||E.Method||"get").toLowerCase(),Be=b(E.Query||E.params||{}),k=M(b(E.Headers||E.headers||{})),u=E.Key||"",h;E.UseRawKey?h=E.Pathname||E.pathname||"/"+u:(h=E.Pathname||E.pathname||u,h.indexOf("/")!==0&&(h="/"+h));var s=E.ForceSignHost!==!1;if(!k.Host&&!k.host&&E.Bucket&&E.Region&&s&&(k.Host=E.Bucket+".cos."+E.Region+".myqcloud.com"),!D)throw new Error("missing param SecretId");if(!I)throw new Error("missing param SecretKey");var p=Math.round(Ee(E.SystemClockOffset)/1e3)-1,B=p,P=E.Expires||E.expires;P===void 0?B+=900:B+=P*1||0;var te="sha1",ne=D,Ce=ue||p+";"+B,X=ue||p+";"+B,Oe=j(k,!0).join(";").toLowerCase(),r=j(Be,!0).join(";").toLowerCase(),a=R.HmacSHA1(X,I).toString(),C=[ae,h,Ae.obj2str(Be,!0),Ae.obj2str(k,!0),""].join(`
`),w=["sha1",Ce,R.SHA1(C).toString(),""].join(`
`),V=R.HmacSHA1(w,a).toString(),le=["q-sign-algorithm="+te,"q-ak="+ne,"q-sign-time="+Ce,"q-key-time="+X,"q-header-list="+Oe,"q-url-param-list="+r,"q-signature="+V].join("&");return le},ie=function(E,D,I){var ue=D/8,ae=E.slice(I,I+ue);return new Uint8Array(ae).reverse(),new{8:Uint8Array,16:Uint16Array,32:Uint32Array}[D](ae)[0]},W=function(E,D,I,ue){var ae=E.slice(D,I),Be="";return new Uint8Array(ae).forEach(function(k){Be+=String.fromCharCode(k)}),ue&&(Be=decodeURIComponent(escape(Be))),Be},xe=function(E){for(var D={},I=W(E),ue={records:[]};E.byteLength;){var ae=ie(E,32,0),Be=ie(E,32,4),k=ae-Be-16,u=0,h;for(E=E.slice(12);u<Be;){var s=ie(E,8,u),p=W(E,u+1,u+1+s),B=ie(E,16,u+s+2),P=W(E,u+s+4,u+s+4+B);D[p]=P,u+=s+4+B}if(D[":event-type"]==="Records")h=W(E,u,u+k,!0),ue.records.push(h);else if(D[":event-type"]==="Stats")h=W(E,u,u+k,!0),ue.stats=Ae.xml2json(h).Stats;else if(D[":event-type"]==="error"){var te=D[":error-code"],ne=D[":error-message"],Ce=new Error(ne);Ce.message=ne,Ce.name=Ce.code=te,ue.error=Ce}E=E.slice(u+k+4)}return{payload:ue.records.join(""),body:I}},U=function(E){var D=this.options.CopySourceParser;if(D)return D(E);var I=E.match(/^([^.]+-\d+)\.cos(v6|-cdc)?\.([^.]+)\.myqcloud\.com\/(.+)$/);return I?{Bucket:I[1],Region:I[3],Key:I[4]}:null},T=function(){},y=function(E){var D={};for(var I in E)E.hasOwnProperty(I)&&E[I]!==void 0&&E[I]!==null&&(D[I]=E[I]);return D},O=function(E,D){var I,ue=new FileReader;FileReader.prototype.readAsBinaryString?(I=FileReader.prototype.readAsBinaryString,ue.onload=function(){D(this.result)}):FileReader.prototype.readAsArrayBuffer?I=function(Be){var k="",u=new FileReader;u.onload=function(h){for(var s=new Uint8Array(u.result),p=s.byteLength,B=0;B<p;B++)k+=String.fromCharCode(s[B]);D(k)},u.readAsArrayBuffer(Be)}:console.error("FileReader not support readAsBinaryString"),I.call(ue,E)},f=function(){var Z=function(I,ue){I=I.split("."),ue=ue.split(".");for(var ae=0;ae<ue.length;ae++)if(I[ae]!==ue[ae])return parseInt(I[ae])>parseInt(ue[ae])?1:-1;return 0},E=function(I){if(!I)return!1;var ue=(I.match(/Chrome\/([.\d]+)/)||[])[1],ae=(I.match(/QBCore\/([.\d]+)/)||[])[1],Be=(I.match(/QQBrowser\/([.\d]+)/)||[])[1],k=ue&&Z(ue,"53.0.2785.116")<0&&ae&&Z(ae,"3.53.991.400")<0&&Be&&Z(Be,"9.0.2524.400")<=0||!1;return k};return E(typeof navigator<"u"&&navigator.userAgent)}(),H=function(E,D,I,ue,ae){var Be;if(E.slice?Be=E.slice(D,I):E.mozSlice?Be=E.mozSlice(D,I):E.webkitSlice&&(Be=E.webkitSlice(D,I)),ue&&f){var k=new FileReader;k.onload=function(u){Be=null,ae(new Blob([k.result]))},k.readAsArrayBuffer(Be)}else ae(Be)},_=function(E,D,I,ue){I=I||T,E?typeof D=="string"?I(Ae.md5(D,!0)):Blob&&D instanceof Blob?Ae.getFileMd5(D,function(ae,Be){I(Be)},ue):I():I()},F=1024*1024,Se=function(E,D,I){var ue=E.size,ae=0,Be=Y.getCtx(),k=function u(h){if(h>=ue){var s=Be.digest("hex");D(null,s);return}var p=Math.min(ue,h+F);Ae.fileSlice(E,h,p,!1,function(B){O(B,function(P){B=null,Be=Be.update(P,!0),ae+=P.length,P=null,I&&I({loaded:ae,total:ue,percent:Math.round(ae/ue*1e4)/1e4}),u(h+F)})})};k(0)};function b(Z){return ye(Z,function(E){return n(E)==="object"&&E!==null?b(E):E})}function q(Z,E,D){return Z&&E in Z?Z[E]:D}function z(Z,E){return ge(E,function(D,I){Z[I]=E[I]}),Z}function $(Z){return Z instanceof Array}function re(Z,E){for(var D=!1,I=0;I<Z.length;I++)if(E===Z[I]){D=!0;break}return D}function ce(Z){return $(Z)?Z:[Z]}function ge(Z,E){for(var D in Z)Z.hasOwnProperty(D)&&E(Z[D],D)}function ye(Z,E){var D=$(Z)?[]:{};for(var I in Z)Z.hasOwnProperty(I)&&(D[I]=E(Z[I],I));return D}function oe(Z,E){var D=$(Z),I=D?[]:{};for(var ue in Z)Z.hasOwnProperty(ue)&&E(Z[ue],ue)&&(D?I.push(Z[ue]):I[ue]=Z[ue]);return I}var pe=function(E){var D,I,ue,ae="";for(D=0,I=E.length/2;D<I;D++)ue=parseInt(E[D*2]+E[D*2+1],16),ae+=String.fromCharCode(ue);return btoa(ae)},ve=function(){var E=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return E()+E()+"-"+E()+"-"+E()+"-"+E()+"-"+E()+E()+E()},me=function(E,D){var I=D.Bucket,ue=D.Region,ae=D.Key,Be=this.options.Domain,k=!Be||typeof Be=="string"&&Be.indexOf("{Bucket}")>-1,u=!Be||typeof Be=="string"&&Be.indexOf("{Region}")>-1;if(E.indexOf("Bucket")>-1||E==="deleteMultipleObject"||E==="multipartList"||E==="listObjectVersions"){if(k&&!I)return"Bucket";if(u&&!ue)return"Region"}else if(E.indexOf("Object")>-1||E.indexOf("multipart")>-1||E==="sliceUploadFile"||E==="abortUploadTask"){if(k&&!I)return"Bucket";if(u&&!ue)return"Region";if(!ae)return"Key"}return!1},fe=function(E,D){if(D=z({},D),E!=="getAuth"&&E!=="getV4Auth"&&E!=="getObjectUrl"){var I=D.Headers||{};if(D&&n(D)==="object"){(function(){for(var ae in D)D.hasOwnProperty(ae)&&ae.indexOf("x-cos-")>-1&&(I[ae]=D[ae])})();var ue={"x-cos-mfa":"MFA","Content-MD5":"ContentMD5","Content-Length":"ContentLength","Content-Type":"ContentType",Expect:"Expect",Expires:"Expires","Cache-Control":"CacheControl","Content-Disposition":"ContentDisposition","Content-Encoding":"ContentEncoding",Range:"Range","If-Modified-Since":"IfModifiedSince","If-Unmodified-Since":"IfUnmodifiedSince","If-Match":"IfMatch","If-None-Match":"IfNoneMatch","x-cos-copy-source":"CopySource","x-cos-copy-source-Range":"CopySourceRange","x-cos-metadata-directive":"MetadataDirective","x-cos-copy-source-If-Modified-Since":"CopySourceIfModifiedSince","x-cos-copy-source-If-Unmodified-Since":"CopySourceIfUnmodifiedSince","x-cos-copy-source-If-Match":"CopySourceIfMatch","x-cos-copy-source-If-None-Match":"CopySourceIfNoneMatch","x-cos-acl":"ACL","x-cos-grant-read":"GrantRead","x-cos-grant-write":"GrantWrite","x-cos-grant-full-control":"GrantFullControl","x-cos-grant-read-acp":"GrantReadAcp","x-cos-grant-write-acp":"GrantWriteAcp","x-cos-storage-class":"StorageClass","x-cos-traffic-limit":"TrafficLimit","x-cos-mime-limit":"MimeLimit","x-cos-server-side-encryption-customer-algorithm":"SSECustomerAlgorithm","x-cos-server-side-encryption-customer-key":"SSECustomerKey","x-cos-server-side-encryption-customer-key-MD5":"SSECustomerKeyMD5","x-cos-server-side-encryption":"ServerSideEncryption","x-cos-server-side-encryption-cos-kms-key-id":"SSEKMSKeyId","x-cos-server-side-encryption-context":"SSEContext"};Ae.each(ue,function(ae,Be){D[ae]!==void 0&&(I[Be]=D[ae])}),D.Headers=y(I)}}return D},se=function(E,D){return function(I,ue){var ae=this;typeof I=="function"&&(ue=I,I={}),I=fe(E,I);var Be;if(ae.options.EnableTracker)if(I.calledBySdk==="sliceUploadFile")Be=I.tracker&&I.tracker.generateSubTracker({apiName:E});else if(["uploadFile","uploadFiles"].includes(E))Be=null;else{var k=-1;I.Body&&(k=typeof I.Body=="string"?I.Body.length:I.Body.size||I.Body.byteLength||-1),Be=new N({bucket:I.Bucket,region:I.Region,apiName:E,fileKey:I.Key,fileSize:k,deepTracker:ae.options.DeepTracker,customId:ae.options.CustomId,delay:ae.options.TrackerDelay})}I.tracker=Be;var u=function(ne){return ne&&ne.headers&&(ne.headers["x-cos-request-id"]&&(ne.RequestId=ne.headers["x-cos-request-id"]),ne.headers["x-ci-request-id"]&&(ne.RequestId=ne.headers["x-ci-request-id"]),ne.headers["x-cos-version-id"]&&(ne.VersionId=ne.headers["x-cos-version-id"]),ne.headers["x-cos-delete-marker"]&&(ne.DeleteMarker=ne.headers["x-cos-delete-marker"])),ne},h=function(ne,Ce){Be&&Be.formatResult(ne,Ce),ue&&ue(u(ne),u(Ce))},s=function(){if(E!=="getService"&&E!=="abortUploadTask"){var ne=me.call(ae,E,I);if(ne)return"missing param "+ne;if(I.Region){if(ae.options.CompatibilityMode){if(!/^([a-z\d-.]+)$/.test(I.Region))return"Region format error."}else{if(I.Region.indexOf("cos.")>-1)return'param Region should not be start with "cos."';if(!/^([a-z\d-]+)$/.test(I.Region))return"Region format error."}!ae.options.CompatibilityMode&&I.Region.indexOf("-")===-1&&I.Region!=="yfb"&&I.Region!=="default"&&I.Region!=="accelerate"&&console.warn("warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224")}if(I.Bucket){if(!/^([a-z\d-]+)-(\d+)$/.test(I.Bucket))if(I.AppId)I.Bucket=I.Bucket+"-"+I.AppId;else if(ae.options.AppId)I.Bucket=I.Bucket+"-"+ae.options.AppId;else return'Bucket should format as "test-1250000000".';I.AppId&&(console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:"test-1250000000" ).'),delete I.AppId)}!ae.options.UseRawKey&&I.Key&&I.Key.substr(0,1)==="/"&&(I.Key=I.Key.substr(1))}},p=s(),B=E==="getAuth"||E==="getObjectUrl";if(typeof Promise=="function"&&!B&&!ue)return new Promise(function(te,ne){if(ue=function(X,Oe){X?ne(X):te(Oe)},p)return h(Ae.error(new Error(p)));D.call(ae,I,h)});if(p)return h(Ae.error(new Error(p)));var P=D.call(ae,I,h);if(B)return P}},Te=function(E,D){var I=this,ue=0,ae=0,Be=Date.now(),k,u;function h(){if(u=0,D&&typeof D=="function"){k=Date.now();var s=Math.max(0,Math.round((ae-ue)/((k-Be)/1e3)*100)/100)||0,p;ae===0&&E===0?p=1:p=Math.floor(ae/E*100)/100||0,Be=k,ue=ae;try{D({loaded:ae,total:E,speed:s,percent:p})}catch{}}}return function(s,p){if(s&&(ae=s.loaded,E=s.total),p)clearTimeout(u),h();else{if(u)return;u=setTimeout(h,I.options.ProgressInterval)}}},De=function(E,D,I){var ue;if(typeof D.Body=="string"?D.Body=new Blob([D.Body],{type:"text/plain"}):D.Body instanceof ArrayBuffer&&(D.Body=new Blob([D.Body])),D.Body&&(D.Body instanceof Blob||D.Body.toString()==="[object File]"||D.Body.toString()==="[object Blob]"))ue=D.Body.size;else{I(Ae.error(new Error("params body format error, Only allow File|Blob|String.")));return}D.ContentLength=ue,I(null,ue)},Ee=function(E){return Date.now()+(E||0)},be=function(E,D){var I=E;return E.message=E.message||null,typeof D=="string"?(E.error=D,E.message=D):n(D)==="object"&&D!==null&&(z(E,D),(D.code||D.name)&&(E.code=D.code||D.name),D.message&&(E.message=D.message),D.stack&&(E.stack=D.stack)),typeof Object.defineProperty=="function"&&(Object.defineProperty(E,"name",{writable:!0,enumerable:!1}),Object.defineProperty(E,"message",{enumerable:!0})),E.name=D&&D.name||E.name||E.code||"Error",E.code||(E.code=E.name),E.error||(E.error=b(I)),E},we=function(){return(typeof globalThis>"u"?"undefined":n(globalThis))==="object"&&(globalThis.constructor.name==="DedicatedWorkerGlobalScope"||globalThis.FileReaderSync)},Ue=function(){return(typeof window>"u"?"undefined":n(window))!=="object"&&(typeof g>"u"?"undefined":n(g))==="object"&&!0&&!we()},Me=function(E){return/^https?:\/\/([^/]+\.)?ci\.[^/]+/.test(E)},Ae={noop:T,formatParams:fe,apiWrapper:se,xml2json:K,json2xml:ee,md5:Y,clearKey:y,fileSlice:H,getBodyMd5:_,getFileMd5:Se,binaryBase64:pe,extend:z,isArray:$,isInArray:re,makeArray:ce,each:ge,map:ye,filter:oe,clone:b,attr:q,uuid:ve,camSafeUrlEncode:A,throttleOnProgress:Te,getFileSize:De,getSkewTime:Ee,error:be,obj2str:Q,getAuth:L,parseSelectPayload:xe,getSourceParams:U,isBrowser:!0,isNode:Ue,isCIHost:Me};v.exports=Ae}).call(this,i("./node_modules/process/browser.js"))}})})})(cosJsSdkV5$1);const cosJsSdkV5=getDefaultExportFromCjs(cosJsSdkV5$1.exports),COS=_mergeNamespaces({__proto__:null,default:cosJsSdkV5},[cosJsSdkV5$1.exports]);export{COS as C};
